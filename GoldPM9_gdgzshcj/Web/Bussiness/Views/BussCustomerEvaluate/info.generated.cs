#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 3 "..\..\Views\BussCustomerEvaluate\info.cshtml"
    using JQ.Web;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/BussCustomerEvaluate/info.cshtml")]
    public partial class _Views_BussCustomerEvaluate_info_cshtml : System.Web.Mvc.WebViewPage<DataModel.Models.BussCustomerEvaluate>
    {
        public _Views_BussCustomerEvaluate_info_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n");

            
            #line 2 "..\..\Views\BussCustomerEvaluate\info.cshtml"
    
            
            #line default
            #line hidden
WriteLiteral("    ");

WriteLiteral("    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">

            JQ.form.submitInit({
                formid: 'BussCustomerEvaluateForm',//formid提交需要用到
                buttonTypes: ['submit', 'close'],//默认按钮
                succesCollBack: function (data) {//成功回调函数,data为服务器返回值
                    JQ.datagrid.autoRefdatagrid();//刷新上一级数据表格，必须在close窗体前调用
                    JQ.dialog.dialogClose();//关闭窗体放在最后一步执行，以避免找不到事件源
                }
            });
            JQ.combotree.selEmp({ id: 'ReceiveEmpIDs', isMult: true, width: '98%' });
            var Read = '");

            
            #line 15 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                   Write(ViewBag.Read);

            
            #line default
            #line hidden
WriteLiteral(@"';
            if(Read=='1')
            {
                $('a[jqpermissionname=""submit""]').hide();
                $(""#toolbar"").children('a').eq(0).hide();//隐藏保存
                $(""#uploadfile1_upload"").hide();//隐藏上传
                $(""#uploadfile1_delete"").hide();//隐藏删除
            }
        $(""#ReceiveEmpIDs"").combotree('setValues', '");

            
            #line 23 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                                               Write(Model.ReceiveEmpIDs);

            
            #line default
            #line hidden
WriteLiteral("\');\r\n        $(\'#CustID\').combogrid({\r\n            panelWidth: 550,\r\n            " +
"panelHeight: 385,\r\n            value: \'");

            
            #line 27 "..\..\Views\BussCustomerEvaluate\info.cshtml"
               Write(Model.CustID);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            idField: \'Id\',\r\n            textField: \'CustName\',\r\n            u" +
"rl: \'");

            
            #line 30 "..\..\Views\BussCustomerEvaluate\info.cshtml"
             Write(Url.Action("dropListCustmerJson", "BussCustomer",new { @area = "Bussiness" }));

            
            #line default
            #line hidden
WriteLiteral("?custId=");

            
            #line 30 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                                                                                                   Write(Model.CustID);

            
            #line default
            #line hidden
WriteLiteral("\',//请求的地址\r\n            editable: true,\r\n            pagination: true,           /" +
"/是否分页\r\n            rownumbers: true,           //序号\r\n            collapsible: fa" +
"lse,         //是否可折叠的\r\n            method: \'post\',\r\n            fit:true,\r\n     " +
"       columns: [[\r\n                { title: \'客户类别\', field: \'CustTypeName\', widt" +
"h: 100, align: \'center\', sortable: true },\r\n        { title: \'客户名称\', field: \'Cus" +
"tName\', width: 140, align: \'center\', sortable: true },\r\n        { title: \'办公地址\'," +
" field: \'CustAddress\', width: 160, align: \'center\', sortable: true },\r\n\t\t{ title" +
": \'客户地区\', field: \'CustRegion\', width: 100, align: \'center\', sortable: true }\r\n  " +
"          ]],\r\n            keyHandler: {\r\n                up: function () {     " +
"          //【向上键】押下处理\r\n                    var selected = $(\'#CustID\').combogrid" +
"(\'grid\').datagrid(\'getSelected\');\r\n                    if (selected)\r\n          " +
"          {\r\n                        var index = $(\'#CustID\').combogrid(\'grid\')." +
"datagrid(\'getRowIndex\', selected);\r\n                        if (index > 0) {\r\n  " +
"                          $(\'#CustID\').combogrid(\'grid\').datagrid(\'selectRow\', i" +
"ndex - 1);\r\n                        }\r\n                    }\r\n                  " +
"  else {\r\n                        var rows = $(\'#CustID\').combogrid(\'grid\').data" +
"grid(\'getRows\');\r\n                        $(\'#CustID\').combogrid(\'grid\').datagri" +
"d(\'selectRow\', rows.length - 1);\r\n                    }\r\n                },\r\n   " +
"             down: function () {             //【向下键】押下处理\r\n                    //" +
"取得选中行\r\n                    var selected = $(\'#CustID\').combogrid(\'grid\').datagri" +
"d(\'getSelected\');\r\n                    if (selected) {\r\n                        " +
"var index = $(\'#CustID\').combogrid(\'grid\').datagrid(\'getRowIndex\', selected);\r\n " +
"                       if (index < $(\'#CustID\').combogrid(\'grid\').datagrid(\'getD" +
"ata\').rows.length - 1) {\r\n                            $(\'#CustID\').combogrid(\'gr" +
"id\').datagrid(\'selectRow\', index + 1);\r\n                        }\r\n             " +
"       } else {\r\n                        $(\'#CustID\').combogrid(\'grid\').datagrid" +
"(\'selectRow\', 0);\r\n                    }\r\n                },\r\n                en" +
"ter: function () {             //【回车键】押下处理\r\n                    var row = $(\'#Cu" +
"stID\').combogrid(\'grid\').datagrid(\'getSelected\');\r\n                    $(\'#CustI" +
"D\').combogrid(\'hidePanel\');\r\n                },\r\n                query: function" +
" (keyword) {     //【动态搜索】处理\r\n                    //设置查询参数\r\n                    v" +
"ar queryParams = $(\'#CustID\').combogrid(\"grid\").datagrid(\'options\').queryParams;" +
"\r\n                    queryParams.keyword = keyword;\r\n                    $(\'#Cu" +
"stID\').combogrid(\"grid\").datagrid(\'options\').queryParams = queryParams;\r\n       " +
"             //重新加载\r\n                    var pager = $(\'#CustID\').combogrid(\'gri" +
"d\').datagrid(\'getPager\');\r\n                    pager.pagination(\'refresh\');\r\n   " +
"                 pager.pagination(\'select\', 1);\r\n                    $(\'#CustID\'" +
").combogrid(\"grid\").datagrid(\"reload\");\r\n                    $(\'#CustID\').combog" +
"rid(\"setValue\", keyword);                    //将查询条件存入隐藏域\r\n                    $" +
"(\'#keyWord\').val(keyword);\r\n                }\r\n            },\r\n            onSel" +
"ect: function (val, row) {\r\n                $(\"#CustType\").text(row.CustTypeName" +
");\r\n            },\r\n            onLoadSuccess: function () {\r\n\r\n                " +
"$(\"#CustType\").text(\'");

            
            #line 93 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                                Write(ViewBag.CustTypeName);

            
            #line default
            #line hidden
WriteLiteral(@"');

            }
        });
        $(""#CustID"").combogrid({
            readonly:true
        });
       
        var selectValue = """";
        var selectText = """";

        JQ.combobox.common({
            id: 'ProjID',
            toolbar: '#tbProj',//工具栏的容器ID
            url: '");

            
            #line 107 "..\..\Views\BussCustomerEvaluate\info.cshtml"
             Write(Url.Action("combogridJson", "Project",new { @area="Project"}));

            
            #line default
            #line hidden
WriteLiteral(@"',//请求的地址
            panelWidth: 550,
            panelHeight: 400,
            valueField: 'Id',
            textField: 'ProjNumber',
            editable: false,
            multiple: false,
            pagination: true,//是否分页
            queryParams:
                {
                    projId: '");

            
            #line 117 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                        Write(Model.ProjID);

            
            #line default
            #line hidden
WriteLiteral(@"',
                    Words: $(""#fullNameSearchProj"").val()
                },
            columns: [[
                { title: '项目编号', field: 'ProjNumber', width: 100, align: 'center', sortable: true },
                { title: '项目名称', field: 'ProjName', width: 260, align: 'center', sortable: true },
                { title: '项目阶段', field: 'PhaseName', width: 140, align: 'center', sortable: true }
            ]],
            onSelect: function (val, row) {
                $(""#ProjName"").text(row.ProjName);
                selectValue = row.Id;
                selectText = row.ProjName;
            },
            onLoadSuccess: function () {
                $(""#ProjName"").text('");

            
            #line 131 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                                Write(ViewBag.ProjName);

            
            #line default
            #line hidden
WriteLiteral(@"');
                var selectRow = $(this).combogrid('grid').datagrid('getSelected');
                if (selectRow != undefined) {
                    selectText = $(this).combogrid('getText');
                }
                if (selectRow == undefined) {
                    $(this).combogrid('setText', selectText);
                }
            }

        });
        $(""#fullNameSearchProj"").textbox({
            buttonText: '筛选',
            buttonIcon: 'fa fa-search',
            height: 25,
            prompt: '项目名称、项目编号',
            onClickButton: function () {
                JQ.datagrid.searchGrid(
                    {
                        $dg: $(""#ProjID"").combogrid('grid'),
                        loadingType: 'datagrid',
                        queryParams:
                                 {
                                     projId: '");

            
            #line 154 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                                         Write(Model.ProjID);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                                     Words: $(\"#fullNameSearchProj\").val()\r\n " +
"                                }\r\n                    });\r\n            }\r\n\r\n   " +
"     });\r\n    </script>\r\n");

            
            #line 162 "..\..\Views\BussCustomerEvaluate\info.cshtml"
    
            
            #line default
            #line hidden
            
            #line 162 "..\..\Views\BussCustomerEvaluate\info.cshtml"
     using (Html.BeginForm("save", "BussCustomerEvaluate", FormMethod.Post, new { @area = "Bussiness", @id = "BussCustomerEvaluateForm" }))
    {
        
            
            #line default
            #line hidden
            
            #line 164 "..\..\Views\BussCustomerEvaluate\info.cshtml"
   Write(Html.HiddenFor(m => m.Id));

            
            #line default
            #line hidden
            
            #line 164 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                                  

            
            #line default
            #line hidden
WriteLiteral("        <table");

WriteLiteral(" class=\"table table-bordered\"");

WriteLiteral(">\r\n\r\n            <tr>\r\n                <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">顾客名称</th>\r\n                <td");

WriteLiteral(" width=\"35%\"");

WriteLiteral(">\r\n                    <select");

WriteLiteral(" id=\"CustID\"");

WriteLiteral(" name=\"CsutID\"");

WriteLiteral(" class=\"easyui-combogrid\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral("></select>\r\n                    <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"keyWord\"");

WriteLiteral(" name=\"keyWord\"");

WriteLiteral(" />\r\n                </td>\r\n                <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">客户类别(自动获取)</th>\r\n                <td");

WriteLiteral(" width=\"35%\"");

WriteLiteral(">\r\n                    <label");

WriteLiteral(" id=\"CustType\"");

WriteLiteral("></label>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n          " +
"      <th");

WriteLiteral(" style=\"width:15%;\"");

WriteLiteral(">\r\n                    项目编号\r\n                </th>\r\n                <td");

WriteLiteral(" style=\"width:35%;\"");

WriteLiteral(">\r\n                    ");

WriteLiteral("\r\n                    <input");

WriteLiteral(" id=\"ProjID\"");

WriteLiteral(" name=\"ProjID\"");

WriteLiteral(" data-options=\"required:true,multiple:false\"");

WriteLiteral(" style=\"width:99%;\"");

WriteAttribute("value", Tuple.Create(" value=\"", 8343), Tuple.Create("\"", 8401)
            
            #line 184 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                                            , Tuple.Create(Tuple.Create("", 8351), Tuple.Create<System.Object, System.Int32>(@Model.ProjID==0 ? "" :@Model.ProjID.ToString()
            
            #line default
            #line hidden
, 8351), false)
);

WriteLiteral(" />\r\n                </td>\r\n                <th");

WriteLiteral(" style=\"width:15%;\"");

WriteLiteral(">\r\n                    项目名称(自动获取)\r\n                </th>\r\n                <td");

WriteLiteral(" style=\"width:35%;\"");

WriteLiteral(">\r\n                    <label");

WriteLiteral(" id=\"ProjName\"");

WriteLiteral("></label>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n          " +
"      <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">评价日期</th>\r\n                <td>\r\n                   \r\n                    <input" +
"");

WriteLiteral(" name=\"CreationTime\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" validType=\"dateISO\"");

WriteAttribute("value", Tuple.Create(" value=\"", 8872), Tuple.Create("\"", 8899)
            
            #line 197 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                                    , Tuple.Create(Tuple.Create("", 8880), Tuple.Create<System.Object, System.Int32>(Model.CreationTime
            
            #line default
            #line hidden
, 8880), false)
);

WriteLiteral(" />\r\n                </td>\r\n                <th>\r\n                    评价结果\r\n     " +
"           </th>\r\n                <td>\r\n");

WriteLiteral("                    ");

            
            #line 203 "..\..\Views\BussCustomerEvaluate\info.cshtml"
               Write(BaseData.getBase(new Params()
                {
                    controlName = "EvaluationTypeID",
                    isRequired = true,
                    engName = "EvaluateResultType",
                    width = "98%",
                    ids = Model.EvaluationTypeID.ToString()
                }));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </td>\r\n                </tr>\r\n            <tr>\r\n               " +
" <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">评价内容</th>\r\n                <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n                    <input");

WriteLiteral(" name=\"EvaluaterNote\"");

WriteLiteral(" style=\"width:98%;height:60px;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral("  data-options=\"multiline:true\"");

WriteLiteral("  validType=\"length[0,1000]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 9658), Tuple.Create("\"", 9686)
            
            #line 216 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                                                                                        , Tuple.Create(Tuple.Create("", 9666), Tuple.Create<System.Object, System.Int32>(Model.EvaluaterNote
            
            #line default
            #line hidden
, 9666), false)
);

WriteLiteral(" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                " +
"<th");

WriteLiteral(" style=\"width:15%\"");

WriteLiteral(">\r\n                    接收人\r\n                </th>\r\n                <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n                    <select");

WriteLiteral(" name=\"ReceiveEmpIDs\"");

WriteLiteral(" id=\"ReceiveEmpIDs\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" />\r\n                </td>\r\n\r\n            </tr>\r\n            <tr>\r\n              " +
"  <th>\r\n                    上传附件\r\n                </th>\r\n                <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n");

            
            #line 233 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                    
            
            #line default
            #line hidden
            
            #line 233 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                      
                        var uploader = new DataModel.FileUploader();
                        uploader.RefID = Model.Id;
                        uploader.RefTable = "BussCustEvaluate";
                        uploader.Name = "uploadfile1";
                        
            
            #line default
            #line hidden
            
            #line 238 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                    Write(Html.Partial("~/Areas/Core/Views/UserControl/FileUploader.cshtml", uploader));

            
            #line default
            #line hidden
            
            #line 238 "..\..\Views\BussCustomerEvaluate\info.cshtml"
                                                                                                       
                    
            
            #line default
            #line hidden
WriteLiteral("\r\n                </td>\r\n            </tr>\r\n        </table>\r\n");

WriteLiteral("        <div");

WriteLiteral(" id=\"tbProj\"");

WriteLiteral(" style=\"padding:5px;height:auto; display:none;\"");

WriteLiteral(">\r\n            <input");

WriteLiteral(" id=\"fullNameSearchProj\"");

WriteLiteral(" name=\"Words\"");

WriteLiteral(" style=\"width:250px;\"");

WriteLiteral(" JQWhereOptions=\"{ Key: \'ProjName\', \'Contract\': \'like\' }\"");

WriteLiteral(" />\r\n        </div>\r\n");

            
            #line 246 "..\..\Views\BussCustomerEvaluate\info.cshtml"
 }

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n\r\n\r\n");

        }
    }
}
#pragma warning restore 1591

#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 4 "..\..\Views\BussCustomer\list.cshtml"
    using JQ.Web;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/BussCustomer/list.cshtml")]
    public partial class _Views_BussCustomer_list_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_BussCustomer_list_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Views\BussCustomer\list.cshtml"
  
    Layout = "~/Areas/Core/Views/Shared/_Layout.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n");

DefineSection("head", () => {

WriteLiteral("\r\n    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n        $(function () {\r\n            JQ.datagrid.datagrid({\r\n                J" +
"QButtonTypes: [\'add\', \'edit\', \'del\', \'export\', \'moreSearch\'],//需要显示的按钮\r\n        " +
"        //JQButtonTypes: [\'");

            
            #line 10 "..\..\Views\BussCustomer\list.cshtml"
                              Write(ViewBag.permission);

            
            #line default
            #line hidden
WriteLiteral("\'],//需要显示的按钮\r\n                JQAddUrl: \'");

            
            #line 11 "..\..\Views\BussCustomer\list.cshtml"
                      Write(Url.Action("add"));

            
            #line default
            #line hidden
WriteLiteral("\',//添加的路径\r\n                JQEditUrl: \'");

            
            #line 12 "..\..\Views\BussCustomer\list.cshtml"
                       Write(Url.Action("edit"));

            
            #line default
            #line hidden
WriteLiteral("\',//编辑的路径\r\n                JQDelUrl: \'");

            
            #line 13 "..\..\Views\BussCustomer\list.cshtml"
                      Write(Url.Action("del"));

            
            #line default
            #line hidden
WriteLiteral(@"',//删除的路径
                JQPrimaryID: 'Id',//主键的字段
                JQID: 'BussCustomerGrid',//数据表格ID
                JQDialogTitle: '客户单位信息',//弹出窗体标题
                JQWidth: '900',//弹出窗体宽
                JQHeight: '100%',//弹出窗体高
                JQLoadingType: 'datagrid',//数据表格类型 [datagrid,treegrid]
                //JQCustomSearch: [  //自定义搜索的字段
                //{ value: 'DepartmentName', key: '人员部门', type: 'string' }//type支持三种类型string,datetime,combox,默认为string,combox必须提供engname
                //],
                JQExcludeCol: [1, 7, 8],//导出execl排除的列
                //JQMergeCells: { fields: ['DepartmentName', 'EmpName', 'EmpLogin'], Only: 'DepartmentName' },//当字段值相同时会自动的跨行(只对相邻有效)
                //JQEnableFilter: true,//是否启用表格字段检索，只支持当页数据
                //JQFields: ["""", """"],//追加的字段名
                url: '");

            
            #line 27 "..\..\Views\BussCustomer\list.cshtml"
                 Write(Url.Action("json","BussCustomer",new { @area="Bussiness", @TypeID =0}));

            
            #line default
            #line hidden
WriteLiteral("\',//请求的地址\r\n                checkOnSelect: true,//是否包含check\r\n                fit: " +
"true,\r\n                toolbar: \'#BussCustomerPanel\',//工具栏的容器ID\r\n               " +
" columns: [[\r\n                  { field: \'ck\', align: \'center\', checkbox: true, " +
"JQIsExclude: true },\r\n                 // { title: \'编号\', field: \'Id\', width: 15%" +
", align: \'center\', sortable: true },\r\n\t\t            { title: \'客户类别\', field: \'Cus" +
"tTypeName\', width: \'15%\', align: \'center\', sortable: true },\r\n                  " +
"  { title: \'客户名称\', field: \'CustName\', width: \'20%\', align: \'left\', sortable: tru" +
"e },\r\n                    { title: \'办公地址\', field: \'CustAddress\', width: \'26%\', a" +
"lign: \'left\', sortable: true },\r\n\t\t            { title: \'客户地区\', field: \'CustRegi" +
"on\', width: \'10%\', align: \'center\', sortable: true },\r\n\t\t            { title: \'业" +
"务建立时间\', field: \'CustDate\', width: \'10%\', align: \'center\', sortable: true },\r\n   " +
"                 {\r\n                        field: \'JQFiles\', title: \'附件\', align" +
": \'center\', width: \"5%\", JQIsExclude: true, JQExcludeFlag: \"grid_files\", JQRefTa" +
"ble: \'Customer\',\r\n                        formatter: function (value, row) {\r\n  " +
"                          return \"<span id=\\\"grid_files_\" + row.Id + \"\\\"></span>" +
"\"\r\n                        }\r\n                    },\r\n                         {" +
"\r\n                             field: \'opt\', title: \'操作\', width: \'10%\', align: \'" +
"center\',\r\n                             formatter: function (value, row, index) {" +
"\r\n                                 return \"<a href=\\\"javascript:void(0)\\\"  JQPer" +
"missionName=\\\"add\\\" id=\\\"mb\" + index + \"\\\" BussCustomerEvaluateCount=\\\"\" + row.B" +
"ussCustomerEvaluateCount + \"\\\" LinkManCount=\\\"\" + row.LinkManCount + \"\\\" RecordC" +
"ount=\\\"\" + row.RecordCount + \"\\\" dataid=\\\"\" + row.Id + \"\\\" flag=\\\"menubutton\\\"  " +
" >操作</a>\";\r\n                             }\r\n                         }\r\n\r\n      " +
"          ]]\r\n            });\r\n            $(\"#JQSearch\").textbox({\r\n           " +
"     buttonText: \'筛选\',\r\n                buttonIcon: \'fa fa-search\',\r\n           " +
"     height: 25,\r\n                prompt: \'客户名称\',\r\n                queryOptions:" +
" { \'Key\': \'CustName\', \'Contract\': \'like\' },\r\n                onClickButton: func" +
"tion () {\r\n                    JQ.datagrid.searchGrid(\r\n                        " +
"{\r\n                            dgID: \'BussCustomerGrid\',\r\n                      " +
"      loadingType: \'datagrid\',\r\n                            queryParams: null\r\n " +
"                       });\r\n                }\r\n\r\n            });\r\n\r\n            " +
"//定义对齐格式\r\n            //$(\"tr[class=\'datagrid-header-row\']\").find(\"td[field=\'Cus" +
"tName\']\").children().removeAttr(\"style\").attr(\"style\", \"text-align:center;\")\r\n  " +
"          setTextAlign(\"CustName\", \"text-align:center;\");\r\n            setTextAl" +
"ign(\"CustAddress\", \"text-align:center;\");\r\n\r\n            ");

WriteLiteral("\r\n\r\n        });\r\n\r\n        $.extend($.fn.datagrid.defaults.view, {\r\n            o" +
"nAfterRender: function () {\r\n                $(\"a[flag=\'menubutton\']\").mouseover" +
"(function () {\r\n                    //document.getElementById(\"list\").setAttribu" +
"te(\"rowid\", this.getAttribute(\"dataid\"));\r\n                    $(\"#list\").attr(\"" +
"rowid\", $(this).attr(\"dataid\"));\r\n                    $(\"#list\").attr(\"RecordCou" +
"nt\", $(this).attr(\"RecordCount\"));\r\n                    $(\"#list\").attr(\"BussCus" +
"tomerEvaluateCount\", $(this).attr(\"BussCustomerEvaluateCount\"));\r\n              " +
"      $(\"#list\").attr(\"LinkManCount\", $(this).attr(\"LinkManCount\"));\r\n\r\n        " +
"            $(\"#div1\").html(\'<div class=\"menu-text\" style=\"height: 20px; line-he" +
"ight: 20px;\">记事(\' + $(this).attr(\"RecordCount\") + \')</div>\')\r\n                  " +
"  $(\"#div2\").html(\'<div class=\"menu-text\" style=\"height: 20px; line-height: 20px" +
";\">客户评价(\' + $(this).attr(\"BussCustomerEvaluateCount\") + \')</div>\')\r\n            " +
"        $(\"#div3\").html(\'<div class=\"menu-text\" style=\"height: 20px; line-height" +
": 20px;\">联系人(\' + $(this).attr(\"LinkManCount\") + \')</div>\')\r\n                }).m" +
"enubutton({\r\n                    iconCls: \'fa fa-edit\',\r\n                    men" +
"u: \'#list\'\r\n                });\r\n            }\r\n        });\r\n\r\n        function " +
"menuHandler(item) {\r\n            var key = $(\"#list\").attr(\"rowid\");\r\n\r\n        " +
"    var target = item.text;\r\n            if (target.indexOf(\"联系人\") != -1) {\r\n   " +
"             DialogN(key);\r\n            }\r\n            else {\r\n                i" +
"f (target.indexOf(\"记事\") != -1) {\r\n                    DialogRecord(key);\r\n      " +
"          }\r\n                else {\r\n                    DialogEval(key);\r\n     " +
"           }\r\n            }\r\n        }\r\n\r\n        function setTextAlign(filed, a" +
"lign) {\r\n            $(\"tr[class=\'datagrid-header-row\']\").find(\"td[field=\'\" + fi" +
"led + \"\']\").children().removeAttr(\"style\").attr(\"style\", align);\r\n        }\r\n   " +
"     function getMathNo() {\r\n            var d = new Date();\r\n            var sp" +
" = \"\";\r\n            var month = d.getMonth() + 1;\r\n            var strDate = d.g" +
"etDate();\r\n            if (month >= 1 && month <= 9) {\r\n                month = " +
"\"0\" + month;\r\n            }\r\n            if (strDate >= 0 && strDate <= 9) {\r\n  " +
"              strDate = \"0\" + strDate;\r\n            }\r\n            var math = Ma" +
"th.floor(Math.random() * (1000000 + 1));\r\n            var cd = d.getHours() + sp" +
" + d.getMinutes() + sp + d.getSeconds() + sp + d.getMilliseconds();\r\n           " +
" return math + sp + cd;\r\n        };\r\n\r\n        function DialogN(id) {\r\n         " +
"   //window.location.href = \'");

            
            #line 141 "..\..\Views\BussCustomer\list.cshtml"
                                 Write(Url.Action("list", "BussCustomerLinkMan"));

            
            #line default
            #line hidden
WriteLiteral("?CustID=\' + id + \'&&CustLinkManType=0\';\r\n            window.top.addTab(\'客户联系人\', \'" +
"");

            
            #line 142 "..\..\Views\BussCustomer\list.cshtml"
                                   Write(Url.Action("list", "BussCustomerLinkMan"));

            
            #line default
            #line hidden
WriteLiteral("?CustID=\' + id + \'&&CustLinkManType=0\', \"\");\r\n\r\n        }\r\n        function Dialo" +
"gRecord(id) {\r\n\r\n\r\n            JQ.dialog.dialog({\r\n                title: \"<b>记事" +
"列表信息</b>\",\r\n                url: \'");

            
            #line 150 "..\..\Views\BussCustomer\list.cshtml"
                 Write(Url.Action("list", "BussCustomerRemember"));

            
            #line default
            #line hidden
WriteLiteral(@"?CustID=' + id,
                width: '1200',
                height: '600',
                JQLoadingType: 'datagrid',
                iconCls: 'fa fa-plus',
                modal: true,
                onClose: function () {
                    $('#BussCustomerGrid').datagrid('reload');
                }

            });

            ");

WriteLiteral("\r\n        }\r\n        function DialogEval(id) {\r\n            ");

WriteLiteral("\r\n\r\n            JQ.dialog.dialog({\r\n                title: \"<b>客户评价列表信息</b>\",\r\n  " +
"              url: \'");

            
            #line 206 "..\..\Views\BussCustomer\list.cshtml"
                 Write(Url.Action("list", "BussCustomerEvaluate"));

            
            #line default
            #line hidden
WriteLiteral(@"?CustID=' + id,
                width: '1200',
                height: '600',
                //JQID: 'BussCustomerGridEvaluate',
                JQLoadingType: 'datagrid',
                iconCls: 'fa fa-plus',
                modal: true,
                onClose: function () {
                    $('#BussCustomerGrid').datagrid('reload');
                }
            });
        }


    </script>
");

WriteLiteral("    ");

            
            #line 221 "..\..\Views\BussCustomer\list.cshtml"
Write(RenderPage("~/Areas/Core/Views/Shared/_Init.cshtml"));

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n\r\n");

});

WriteLiteral("\r\n");

DefineSection("Body_Content", () => {

WriteLiteral("\r\n    <div");

WriteLiteral(" id=\"tabs\"");

WriteLiteral(" class=\"easyui-tabs\"");

WriteLiteral(" style=\"width:100%;height:570px;overflow:hidden;\"");

WriteLiteral(" data-options=\"fit:true\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" title=\"客户单位信息\"");

WriteLiteral(" style=\"padding:5px\"");

WriteLiteral(">\r\n            <table");

WriteLiteral(" id=\"BussCustomerGrid\"");

WriteLiteral("></table>\r\n            <div");

WriteLiteral(" id=\"BussCustomerPanel\"");

WriteLiteral(" JQPanel=\"searchPanel\"");

WriteLiteral(" style=\"padding:5px;height:auto;border:none;\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" JQPanel=\"toolbarPanel\"");

WriteLiteral(" >\r\n                    <input");

WriteLiteral(" id=\"JQSearch\"");

WriteLiteral(" style=\"width:250px;\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'CustName\', Contract:\'like\'}\"");

WriteLiteral(" />\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"moreSearchPanel\"");

WriteLiteral(" >\r\n                    <div");

WriteLiteral(" style=\"float:left;  padding-bottom:5px;\"");

WriteLiteral(">\r\n                        客户类别：\r\n");

WriteLiteral("                        ");

            
            #line 237 "..\..\Views\BussCustomer\list.cshtml"
                   Write(BaseData.getBases(new Params() { isMult = true, engName = "CustType", queryOptions = "{Key:'CustType', Contract:'in',filedType:'Int'}" }));

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </div>\r\n                    <div");

WriteLiteral(" style=\"float:left;  padding-bottom:5px;\"");

WriteLiteral(">\r\n                        客户地区：\r\n");

WriteLiteral("                        ");

            
            #line 241 "..\..\Views\BussCustomer\list.cshtml"
                   Write(BaseData.getBases(new Params() { isMult = true, engName = "CustAddressID", queryOptions = "{Key:'CustAddressID', Contract:'in',filedType:'Int'}" }));

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </div>\r\n                    <div");

WriteLiteral(" style=\"float:left;  padding-bottom:5px;\"");

WriteLiteral(">\r\n                        &nbsp; 业务关系建立时间：&nbsp;\r\n                        <input" +
"");

WriteLiteral(" id=\"startTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:150px\"");

WriteLiteral(" data-options=\"prompt: \'业务建立开始时间\'\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'CustDate\', Contract:\'>=\',filedType:\'Date\' }\"");

WriteLiteral(">\r\n                        至\r\n                        <input");

WriteLiteral(" id=\"endTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:150px\"");

WriteLiteral(" data-options=\"prompt: \'业务建立结束时间\'\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'CustDate\', Contract:\'<=\',filedType:\'Date\' }\"");

WriteLiteral(">&nbsp;\r\n                    </div>\r\n                </div>\r\n            </div>\r\n" +
"\r\n\r\n            <div");

WriteLiteral(" id=\"list\"");

WriteLiteral(" class=\"easyui-menu\"");

WriteLiteral(" style=\"width:80px;\"");

WriteLiteral(" data-options=\"onClick:menuHandler\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"div1\"");

WriteLiteral(">记事</div>\r\n                <div");

WriteLiteral(" id=\"div2\"");

WriteLiteral(">客户评价</div>\r\n                <div");

WriteLiteral(" id=\"div3\"");

WriteLiteral(">联系人</div>\r\n            </div>\r\n\r\n        </div>\r\n        <div");

WriteLiteral(" title=\"联系人信息\"");

WriteLiteral(" style=\"padding:5px\"");

WriteLiteral(">\r\n            <iframe");

WriteLiteral(" id=\"LinkMan\"");

WriteAttribute("src", Tuple.Create(" src=\'", 12535), Tuple.Create("\'", 12631)
            
            #line 261 "..\..\Views\BussCustomer\list.cshtml"
, Tuple.Create(Tuple.Create("", 12541), Tuple.Create<System.Object, System.Int32>(Url.Action("list", "BussCustomerLinkMan", new { @area = "Bussiness",@CustLinkManType=0 })
            
            #line default
            #line hidden
, 12541), false)
);

WriteLiteral(" style=\"width:100%;height:100%;\"");

WriteLiteral(" frameborder=\"0\"");

WriteLiteral("></iframe>\r\n\r\n        </div>\r\n    </div>\r\n\r\n");

});

WriteLiteral("\r\n");

        }
    }
}
#pragma warning restore 1591

#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 4 "..\..\Views\BussCustomer\sublist.cshtml"
    using JQ.Web;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/BussCustomer/sublist.cshtml")]
    public partial class _Views_BussCustomer_sublist_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_BussCustomer_sublist_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Views\BussCustomer\sublist.cshtml"
  
    Layout = "~/Areas/Core/Views/Shared/_Layout.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n");

DefineSection("head", () => {

WriteLiteral("\r\n    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n        $(function () {\r\n            JQ.datagrid.datagrid({\r\n                J" +
"QButtonTypes: [\'add\', \'edit\', \'del\',\'export\',\'moreSearch\'],//需要显示的按钮\r\n          " +
"      JQAddUrl: \'");

            
            #line 10 "..\..\Views\BussCustomer\sublist.cshtml"
                      Write(Url.Action("addsub"));

            
            #line default
            #line hidden
WriteLiteral("\',//添加的路径\r\n                JQEditUrl: \'");

            
            #line 11 "..\..\Views\BussCustomer\sublist.cshtml"
                       Write(Url.Action("edit"));

            
            #line default
            #line hidden
WriteLiteral("\',//编辑的路径\r\n                JQDelUrl: \'");

            
            #line 12 "..\..\Views\BussCustomer\sublist.cshtml"
                      Write(Url.Action("del"));

            
            #line default
            #line hidden
WriteLiteral(@"',//删除的路径
                JQPrimaryID: 'Id',//主键的字段
                JQID: 'SubBussCustomerGrid',//数据表格ID
                JQDialogTitle: '外委单位信息',//弹出窗体标题
                JQWidth: '1024',//弹出窗体宽
                JQHeight: '100%',//弹出窗体高
                JQLoadingType: 'datagrid',//数据表格类型 [datagrid,treegrid]
                //JQCustomSearch: [  //自定义搜索的字段
                //{ value: 'DepartmentName', key: '人员部门', type: 'string' }//type支持三种类型string,datetime,combox,默认为string,combox必须提供engname
                //],
                JQExcludeCol: [1, 6, 7],//导出execl排除的列
                //JQMergeCells: { fields: ['DepartmentName', 'EmpName', 'EmpLogin'], Only: 'DepartmentName' },//当字段值相同时会自动的跨行(只对相邻有效)
                //JQEnableFilter: true,//是否启用表格字段检索，只支持当页数据
                //JQFields: ["""", """"],//追加的字段名
                url: '");

            
            #line 26 "..\..\Views\BussCustomer\sublist.cshtml"
                 Write(Url.Action("sublistJson", "BussCustomer",new { @area="Bussiness"}));

            
            #line default
            #line hidden
WriteLiteral("\',//请求的地址\r\n                checkOnSelect: true,//是否包含check\r\n                fit: " +
"true,\r\n                toolbar: \'#SubBussCustomerPanel\',//工具栏的容器ID\r\n            " +
"    columns: [[\r\n                  { field: \'ck\', align: \'center\', checkbox: tru" +
"e, JQIsExclude: true },\r\n                 // { title: \'编号\', field: \'Id\', width: " +
"120, align: \'center\', sortable: true },\r\n\t\t{ title: \'外协客户类别\', field: \'TypeName\'," +
" width: \'15%\', align: \'center\', sortable: true },\r\n        { title: \'外协客户名称\', fi" +
"eld: \'CustName\', width: \'20%\', align: \'center\', sortable: true },\r\n        { tit" +
"le: \'注册地址\', field: \'CustAddress\', width: \'28%\', align: \'center\', sortable: true " +
"},\r\n\t\t{ title: \'企业资质等级\', field: \'CustQualiGradeName\', width: \'18%\', align: \'cent" +
"er\', sortable: true },\r\n                            {\r\n                         " +
"       field: \'JQFiles\', title: \'附件\', align: \'center\', width: \"5%\", JQIsExclude:" +
" true, JQExcludeFlag: \"grid_files\", JQRefTable: \'SubCustomer\',\r\n                " +
"                formatter: function (value, row) {\r\n                            " +
"        return \"<span id=\\\"grid_files_\" + row.Id + \"\\\"></span>\"\r\n               " +
"                 }\r\n                            },\r\n\r\n\r\n                        " +
"                  {\r\n                                              field: \'opt\'," +
" title: \'操作\', width: \'10%\', align: \'center\',\r\n                                  " +
"            formatter: function (value, row, index) {\r\n                         " +
"                         return \"<a href=\\\"javascript:void(0)\\\" JQPermissionName" +
"=\\\"add\\\" id=\\\"mb\" + index + \"\\\" BussCustomerEvaluateCount=\\\"\" + row.BussCustomer" +
"EvaluateCount + \"\\\" LinkManCount=\\\"\" + row.LinkManCount + \"\\\" RecordCount=\\\"\" + " +
"row.RecordCount + \"\\\" dataid=\\\"\" + row.Id + \"\\\" flag=\\\"menubutton\\\"   >操作</a>\";\r" +
"\n                                              }\r\n                              " +
"            }\r\n\r\n                ]]\r\n            });\r\n            $(\"#JQSearch\")" +
".textbox({\r\n                buttonText: \'筛选\',\r\n                buttonIcon: \'fa f" +
"a-search\',\r\n                height: 25,\r\n                prompt: \'外协客户名称\',\r\n    " +
"            queryOptions: { \'Key\': \'CustName\', \'Contract\': \'like\' },\r\n          " +
"      onClickButton: function () {\r\n                    JQ.datagrid.searchGrid(\r" +
"\n                        {\r\n                            dgID: \'SubBussCustomerGr" +
"id\',\r\n                            loadingType: \'datagrid\',\r\n                    " +
"        queryParams: null\r\n                        });\r\n                }\r\n     " +
"       });\r\n        });\r\n\r\n        $.extend($.fn.datagrid.defaults.view, {\r\n    " +
"        onAfterRender: function () {\r\n                $(\"a[flag=\'menubutton\']\")." +
"mouseover(function () {\r\n                    //document.getElementById(\"list\").s" +
"etAttribute(\"rowid\", this.getAttribute(\"dataid\"));\r\n                    $(\"#list" +
"\").attr(\"rowid\", $(this).attr(\"dataid\"));\r\n                    $(\"#list\").attr(\"" +
"RecordCount\", $(this).attr(\"RecordCount\"));\r\n                    $(\"#list\").attr" +
"(\"BussCustomerEvaluateCount\", $(this).attr(\"BussCustomerEvaluateCount\"));\r\n     " +
"               $(\"#list\").attr(\"LinkManCount\", $(this).attr(\"LinkManCount\"));\r\n\r" +
"\n                    $(\"#div1\").html(\'<div class=\"menu-text\" style=\"height: 20px" +
"; line-height: 20px;\">记事(\' + $(this).attr(\"RecordCount\") + \')</div>\')\r\n         " +
"           $(\"#div2\").html(\'<div class=\"menu-text\" style=\"height: 20px; line-hei" +
"ght: 20px;\">供方评价(\' + $(this).attr(\"BussCustomerEvaluateCount\") + \')</div>\')\r\n   " +
"                 $(\"#div3\").html(\'<div class=\"menu-text\" style=\"height: 20px; li" +
"ne-height: 20px;\">联系人(\' + $(this).attr(\"LinkManCount\") + \')</div>\')\r\n           " +
"     }).menubutton({\r\n                    iconCls: \'fa fa-edit\',\r\n              " +
"      menu: \'#list\'\r\n                });\r\n            }\r\n        });\r\n\r\n        " +
"function menuHandler(item) {\r\n            var key = $(\"#list\").attr(\"rowid\");\r\n\r" +
"\n            var target = item.text;\r\n            if (target.indexOf(\"联系人\") != -" +
"1) {\r\n                DialogN(key);\r\n            }\r\n            else {\r\n        " +
"        if (target.indexOf(\"记事\") != -1) {\r\n                    DialogRecord(key)" +
";\r\n                }\r\n                else {\r\n                    DialogEval(key" +
");\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        //function getMathN" +
"o() {\r\n        //    var d = new Date();\r\n        //    var sp = \"\";\r\n        //" +
"    var month = d.getMonth() + 1;\r\n        //    var strDate = d.getDate();\r\n   " +
"     //    if (month >= 1 && month <= 9) {\r\n        //        month = \"0\" + mont" +
"h;\r\n        //    }\r\n        //    if (strDate >= 0 && strDate <= 9) {\r\n        " +
"//        strDate = \"0\" + strDate;\r\n        //    }\r\n        //    var math = Ma" +
"th.floor(Math.random() * (1000000 + 1));\r\n        //    var cd = d.getHours() + " +
"sp + d.getMinutes() + sp + d.getSeconds() + sp + d.getMilliseconds();\r\n        /" +
"/    return math + sp + cd;\r\n        //};\r\n        function DialogN(id) {\r\n     " +
"       window.top.addTab(\'外委客户联系人\', \'");

            
            #line 124 "..\..\Views\BussCustomer\sublist.cshtml"
                                     Write(Url.Action("list", "BussCustomerLinkMan"));

            
            #line default
            #line hidden
WriteLiteral("?CustID=\' + id + \'&&CustLinkManType=1\', \"\");\r\n        }\r\n\r\n        function Dialo" +
"gRecord(id) {\r\n            ");

WriteLiteral("\r\n            JQ.dialog.dialog({\r\n                title: \"<b>记事列表信息</b>\",\r\n      " +
"          url: \'");

            
            #line 149 "..\..\Views\BussCustomer\sublist.cshtml"
                 Write(Url.Action("list", "BussCustomerRemember"));

            
            #line default
            #line hidden
WriteLiteral(@"?CustID=' + id,
                width: '1200',
                height: '600',
                JQLoadingType: 'datagrid',
                iconCls: 'fa fa-plus',
                modal: true,
                onClose: function () {
                    $('#SubBussCustomerGrid').datagrid('reload');
                }

            });
        }
        function DialogEval(id) {
            ");

WriteLiteral("\r\n            JQ.dialog.dialog({\r\n                title: \"<b>客户评价列表信息</b>\",\r\n    " +
"            url: \'");

            
            #line 183 "..\..\Views\BussCustomer\sublist.cshtml"
                 Write(Url.Action("sublist", "BussCustomerEvaluate"));

            
            #line default
            #line hidden
WriteLiteral(@"?CustID=' + id,
                width: '1200',
                height: '600',
                JQLoadingType: 'datagrid',
                iconCls: 'fa fa-plus',
                modal: true,
                onClose: function () {
                    $('#SubBussCustomerGrid').datagrid('reload');
                }

            });
        }
    </script>
");

WriteLiteral("    ");

            
            #line 196 "..\..\Views\BussCustomer\sublist.cshtml"
Write(RenderPage("~/Areas/Core/Views/Shared/_Init.cshtml"));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

});

WriteLiteral("\r\n\r\n\r\n\r\n");

DefineSection("Body_Content", () => {

WriteLiteral("\r\n    <div");

WriteLiteral(" id=\"tabs\"");

WriteLiteral(" class=\"easyui-tabs\"");

WriteLiteral(" style=\"width:100%;height:570px;\"");

WriteLiteral(" data-options=\"fit:true\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" title=\"外委单位信息\"");

WriteLiteral(" style=\"padding:5px\"");

WriteLiteral(">\r\n            <table");

WriteLiteral(" id=\"SubBussCustomerGrid\"");

WriteLiteral("></table>\r\n            <div");

WriteLiteral(" id=\"SubBussCustomerPanel\"");

WriteLiteral(" JQPanel=\"searchPanel\"");

WriteLiteral(" style=\"padding:5px;height:auto;\"");

WriteLiteral(">\r\n                <span");

WriteLiteral(" JQPanel=\"toolbarPanel\"");

WriteLiteral(">\r\n\r\n                </span>\r\n\r\n                <input");

WriteLiteral(" id=\"JQSearch\"");

WriteLiteral(" style=\"width:250px;\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'CustName\', Contract:\'like\'}\"");

WriteLiteral(" />\r\n                <div");

WriteLiteral(" class=\"moreSearchPanel\"");

WriteLiteral(">\r\n                    成立时间:&nbsp;&nbsp;\r\n                    <input");

WriteLiteral(" id=\"startTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:110px\"");

WriteLiteral(" data-options=\"prompt: \'开始时间\'\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'CustBusinessCreateDate\', Contract:\'>=\',filedType:\'Date\' }" +
"\"");

WriteLiteral(">\r\n                    至\r\n                    <input");

WriteLiteral(" id=\"endTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:110px\"");

WriteLiteral(" data-options=\"prompt: \'结束时间\'\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'CustBusinessCreateDate\', Contract:\'<=\',filedType:\'Date\' }" +
"\"");

WriteLiteral(">&nbsp;\r\n                    &nbsp;&nbsp;&nbsp;\r\n                    外协客户类别：\r\n");

WriteLiteral("                    ");

            
            #line 219 "..\..\Views\BussCustomer\sublist.cshtml"
               Write(BaseData.getBases(
                       new Params()
                       {
                           isMult = true,
                           engName = "SubCustType",
                           queryOptions = "{ Key:'CustTypeIDs', Contract:'in'}"
                       }));

            
            #line default
            #line hidden
WriteLiteral("\r\n                    企业资质等级：\r\n");

WriteLiteral("                    ");

            
            #line 227 "..\..\Views\BussCustomer\sublist.cshtml"
               Write(BaseData.getBases(
                       new Params()
                       {
                           isMult = true,
                           engName = "EnterPriseType",
                           queryOptions = "{ Key:'CustQualiGrade', Contract:'in',filedType:'Int'}"
                       }));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </div>\r\n            </div>\r\n            <div");

WriteLiteral(" id=\"list\"");

WriteLiteral(" class=\"easyui-menu\"");

WriteLiteral(" style=\"width:80px;\"");

WriteLiteral(" data-options=\"onClick:menuHandler\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"div1\"");

WriteLiteral(">记事</div>\r\n                <div");

WriteLiteral(" id=\"div2\"");

WriteLiteral(">供方评价</div>\r\n                <div");

WriteLiteral(" id=\"div3\"");

WriteLiteral(">联系人</div>\r\n            </div>\r\n\r\n        </div>\r\n        <div");

WriteLiteral(" title=\"联系人信息\"");

WriteLiteral(" style=\"padding:5px\"");

WriteLiteral(">\r\n            <iframe");

WriteLiteral(" id=\"LinkMan\"");

WriteLiteral(" CustLinkManType=\"1\"");

WriteAttribute("src", Tuple.Create(" src=\'", 11632), Tuple.Create("\'", 11728)
            
            #line 244 "..\..\Views\BussCustomer\sublist.cshtml"
, Tuple.Create(Tuple.Create("", 11638), Tuple.Create<System.Object, System.Int32>(Url.Action("list", "BussCustomerLinkMan", new { @area = "Bussiness",@CustLinkManType=1 })
            
            #line default
            #line hidden
, 11638), false)
);

WriteLiteral(" style=\"width:100%;height:100%;\"");

WriteLiteral(" frameborder=\"0\"");

WriteLiteral("></iframe>\r\n\r\n        </div>\r\n    </div>\r\n");

});

WriteLiteral("\r\n");

        }
    }
}
#pragma warning restore 1591

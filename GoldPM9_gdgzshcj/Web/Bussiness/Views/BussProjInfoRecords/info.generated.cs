#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 2 "..\..\Views\BussProjInfoRecords\info.cshtml"
    using JQ.Web;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/BussProjInfoRecords/info.cshtml")]
    public partial class _Views_BussProjInfoRecords_info_cshtml : System.Web.Mvc.WebViewPage<DataModel.Models.BussProjInfoRecords>
    {
        public _Views_BussProjInfoRecords_info_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
    JQ.form.submitInit({
        formid: 'BussProjInfoRecordsForm',//formid提交需要用到
        buttonTypes: ['close'],//默认按钮
        beforeFormSubmit: function () {
            if(!window[_uploader_unique_id].isUploaded){
                JQ.dialog.warning(""还存在未上传完成的文件，无法保存！"");
                return false;
            }
            var _Id = $(""#Id"").val();
            var _ProjCode = $(""#ProjCode"").val();
            var bit=0;
            $.ajax({
                doBackResult: false,
                url: '");

            
            #line 18 "..\..\Views\BussProjInfoRecords\info.cshtml"
                 Write(Url.Action("GetProjCodeCount", "BussProjInfoRecords"));

            
            #line default
            #line hidden
WriteLiteral(@"',
                data: { ProjCode: _ProjCode, Id: _Id },
                async: false,
                success: function (data) {
                    bit=data
                }
            })
            if (bit > 0) {
                JQ.dialog.warning('存在相同的项目编号:[' + _ProjCode + ""]"");
                return false;
            }

            $(""#CustName"").val($(""#CustomerID"").combobox(""getText""));
        },
        succesCollBack: function (data) {//成功回调函数,data为服务器返回值
            var _tempFrame=window.top.document.getElementById(""");

            
            #line 33 "..\..\Views\BussProjInfoRecords\info.cshtml"
                                                           Write(Request.QueryString["iframeID"]);

            
            #line default
            #line hidden
WriteLiteral("\");\r\n            if(_tempFrame){\r\n                _tempFrame.contentWindow.refres" +
"hGrid();\r\n            }\r\n            _flowInstance.$form.parent().dialog(\"close\"" +
");\r\n        },\r\n        flow: {\r\n            flowNodeID: \"");

            
            #line 40 "..\..\Views\BussProjInfoRecords\info.cshtml"
                     Write(Request.QueryString["flowNodeID"]==null? 0 : int.Parse(Request.QueryString["flowNodeID"]));

            
            #line default
            #line hidden
WriteLiteral("\",\r\n            flowMultiSignID: \"");

            
            #line 41 "..\..\Views\BussProjInfoRecords\info.cshtml"
                          Write(Request.QueryString["flowMultiSignID"] ==null? 0 : int.Parse(Request.QueryString["flowMultiSignID"]));

            
            #line default
            #line hidden
WriteLiteral("\",\r\n            url: \"");

            
            #line 42 "..\..\Views\BussProjInfoRecords\info.cshtml"
              Write(Url.Action("FlowWidget", "PubFlow",new { @area="Core"} ));

            
            #line default
            #line hidden
WriteLiteral("\",\r\n            instance: \"_flowInstance\",\r\n            processor: \"Bussiness,Bus" +
"siness.FlowProcessor.BusinessProjectRecord\",\r\n            refID: \"");

            
            #line 45 "..\..\Views\BussProjInfoRecords\info.cshtml"
                Write(Model.Id);

            
            #line default
            #line hidden
WriteLiteral("\",\r\n            refTable: \"BussProjInfoRecords\",\r\n            dataCreator:\"");

            
            #line 47 "..\..\Views\BussProjInfoRecords\info.cshtml"
                     Write(ViewBag.CreatorEmpId );

            
            #line default
            #line hidden
WriteLiteral("\"\r\n        }\r\n    });\r\n\r\n    JQ.combobox.selEmp({ id: \'RecordsEmpId\', width: \"98%" +
"\" });\r\n\r\n</script>\r\n\r\n");

            
            #line 55 "..\..\Views\BussProjInfoRecords\info.cshtml"
 using (Html.BeginForm("save", "BussProjInfoRecords", FormMethod.Post, new { @area = "Bussiness", @id = "BussProjInfoRecordsForm" }))
{
    
            
            #line default
            #line hidden
            
            #line 57 "..\..\Views\BussProjInfoRecords\info.cshtml"
Write(Html.HiddenFor(m => m.Id));

            
            #line default
            #line hidden
            
            #line 57 "..\..\Views\BussProjInfoRecords\info.cshtml"
                              

            
            #line default
            #line hidden
WriteLiteral("    <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"CompanyType\"");

WriteLiteral(" name=\"CompanyType\"");

WriteLiteral(" value=\"FGS\"");

WriteLiteral(" />\r\n");

WriteLiteral("    <table");

WriteLiteral(" class=\"table table-bordered\"");

WriteLiteral(">\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">项目编号</th>\r\n            <td");

WriteLiteral(" width=\"35%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"ProjCode\"");

WriteLiteral(" name=\"ProjCode\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"required:true\"");

WriteLiteral(" validType=\"length[0,50]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 2669), Tuple.Create("\"", 2692)
            
            #line 63 "..\..\Views\BussProjInfoRecords\info.cshtml"
                                                                            , Tuple.Create(Tuple.Create("", 2677), Tuple.Create<System.Object, System.Int32>(Model.ProjCode
            
            #line default
            #line hidden
, 2677), false)
);

WriteLiteral(" />\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">项目名称</th>\r\n            <td");

WriteLiteral(" width=\"35%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" name=\"ProjName\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"required:true\"");

WriteLiteral(" validType=\"length[0,400]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 2921), Tuple.Create("\"", 2944)
            
            #line 67 "..\..\Views\BussProjInfoRecords\info.cshtml"
                                                               , Tuple.Create(Tuple.Create("", 2929), Tuple.Create<System.Object, System.Int32>(Model.ProjName
            
            #line default
            #line hidden
, 2929), false)
);

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">预计启动时间</th>\r\n            <td");

WriteLiteral(" width=\"35%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" name=\"PredictStartTime\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" validType=\"dateISO\"");

WriteAttribute("value", Tuple.Create(" value=\"", 3158), Tuple.Create("\"", 3189)
            
            #line 73 "..\..\Views\BussProjInfoRecords\info.cshtml"
                 , Tuple.Create(Tuple.Create("", 3166), Tuple.Create<System.Object, System.Int32>(Model.PredictStartTime
            
            #line default
            #line hidden
, 3166), false)
);

WriteLiteral(" />\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">预计签合同时间</th>\r\n            <td");

WriteLiteral(" width=\"35%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" name=\"PredictConcludeTime\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" validType=\"dateISO\"");

WriteAttribute("value", Tuple.Create(" value=\"", 3378), Tuple.Create("\"", 3412)
            
            #line 77 "..\..\Views\BussProjInfoRecords\info.cshtml"
                    , Tuple.Create(Tuple.Create("", 3386), Tuple.Create<System.Object, System.Int32>(Model.PredictConcludeTime
            
            #line default
            #line hidden
, 3386), false)
);

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">业主名称</th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"CustomerID\"");

WriteLiteral(" name=\"CustomerID\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" />\r\n                <input");

WriteLiteral(" id=\"CustName\"");

WriteLiteral(" name=\"CustName\"");

WriteLiteral(" isFirst=\"0\"");

WriteLiteral(" type=\"hidden\"");

WriteAttribute("value", Tuple.Create(" value=\"", 3695), Tuple.Create("\"", 3753)
            
            #line 85 "..\..\Views\BussProjInfoRecords\info.cshtml"
       , Tuple.Create(Tuple.Create("", 3703), Tuple.Create<System.Object, System.Int32>(Model.CustName==""?"":Model.CustName.ToString()
            
            #line default
            #line hidden
, 3703), false)
);

WriteLiteral(">\r\n                <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n                    $(function () {\r\n                        $(\"#CustomerID\")." +
"combobox({\r\n                            url: \'");

            
            #line 89 "..\..\Views\BussProjInfoRecords\info.cshtml"
                             Write(Url.Action("GetCustomerListComboboxWithCount", "BussCustomer", new { @area= "Bussiness" }));

            
            #line default
            #line hidden
WriteLiteral(@"?TopCount=10',
                            valueField: 'Id',
                            textField: 'CustName',
                            mode:'remote',
                            onBeforeLoad: function (param) {
                                console.log(param)
                                if ($(""#CustName"").attr(""isFirst"")==""0"") {
                                    param.q=$(""#CustName"").val();
                                }
                            },
                            onLoadSuccess:function () {
                                if ($(""#CustomerID"").combobox(""getText"")==""""&&$(""#CustName"").attr(""isFirst"")==""0"") {
                                    $(""#CustomerID"").combobox(""setText"",$(""#CustName"").val());
                                    $(""#CustName"").attr(""isFirst"",""1"");
                                }
                            }
                        })
                    })
                </script>
            </td>
        </tr>

        <tr>
            <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">项目信息来源</th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n                <textarea");

WriteLiteral(" name=\"InfoSource\"");

WriteLiteral(" style=\"width:99%;height:80px;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"multiline:true\"");

WriteLiteral(" validType=\"length[0,1000]\"");

WriteLiteral(">");

            
            #line 114 "..\..\Views\BussProjInfoRecords\info.cshtml"
                                                                                                                                                      Write(Model.InfoSource);

            
            #line default
            #line hidden
WriteLiteral("</textarea>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">项目概述</th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n                <textarea");

WriteLiteral(" name=\"ProjSummarize\"");

WriteLiteral(" style=\"width:99%;height:80px;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"multiline:true\"");

WriteLiteral(" validType=\"length[0,1000]\"");

WriteLiteral(">");

            
            #line 120 "..\..\Views\BussProjInfoRecords\info.cshtml"
                                                                                                                                                         Write(Model.ProjSummarize);

            
            #line default
            #line hidden
WriteLiteral("</textarea>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">备案人</th>\r\n            <td");

WriteLiteral(" width=\"35%\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"RecordsEmpId\"");

WriteLiteral(" name=\"RecordsEmpId\"");

WriteAttribute("JQvalue", Tuple.Create(" JQvalue=\"", 5784), Tuple.Create("\"", 5813)
            
            #line 126 "..\..\Views\BussProjInfoRecords\info.cshtml"
, Tuple.Create(Tuple.Create("", 5794), Tuple.Create<System.Object, System.Int32>(Model.RecordsEmpId
            
            #line default
            #line hidden
, 5794), false)
);

WriteLiteral(" data-options=\"required:true\"");

WriteLiteral("></select>\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">备案时间</th>\r\n            <td");

WriteLiteral(" width=\"35%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" name=\"RecordTime\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" data-options=\"required:true,validType:[\'dateISO\']\"");

WriteAttribute("value", Tuple.Create(" value=\"", 6057), Tuple.Create("\"", 6082)
            
            #line 130 "..\..\Views\BussProjInfoRecords\info.cshtml"
                                          , Tuple.Create(Tuple.Create("", 6065), Tuple.Create<System.Object, System.Int32>(Model.RecordTime
            
            #line default
            #line hidden
, 6065), false)
);

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr");

WriteLiteral(" id=\"SignTd\"");

WriteLiteral(">\r\n            <th></th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral("></td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n                上传附件\r\n    " +
"        </th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n");

            
            #line 142 "..\..\Views\BussProjInfoRecords\info.cshtml"
                
            
            #line default
            #line hidden
            
            #line 142 "..\..\Views\BussProjInfoRecords\info.cshtml"
                  
                    var uploader = new DataModel.FileUploader();
                    uploader.RefID = Model.Id;
                    uploader.RefTable = "BusinessInfoRecord";
                    uploader.Name = "UploadFile1";
                    
            
            #line default
            #line hidden
            
            #line 147 "..\..\Views\BussProjInfoRecords\info.cshtml"
                Write(Html.Partial("~/Areas/Core/Views/UserControl/FileUploader.cshtml", uploader));

            
            #line default
            #line hidden
            
            #line 147 "..\..\Views\BussProjInfoRecords\info.cshtml"
                                                                                                   
                
            
            #line default
            #line hidden
WriteLiteral("\r\n            </td>\r\n        </tr>\r\n    </table>\r\n");

            
            #line 152 "..\..\Views\BussProjInfoRecords\info.cshtml"


            
            #line default
            #line hidden
WriteLiteral("    <div");

WriteLiteral(" id=\"tbCustomer\"");

WriteLiteral(" style=\"padding:5px;height:auto; display:none;\"");

WriteLiteral(">\r\n        <input");

WriteLiteral(" id=\"fullNameSearchCustomer\"");

WriteLiteral(" style=\"width:250px;\"");

WriteLiteral(" JQWhereOptions=\"{ Key: \'CustName\', \'Contract\': \'like\' }\"");

WriteLiteral(" />\r\n    </div>\r\n");

            
            #line 156 "..\..\Views\BussProjInfoRecords\info.cshtml"
                    }
            
            #line default
            #line hidden
        }
    }
}
#pragma warning restore 1591

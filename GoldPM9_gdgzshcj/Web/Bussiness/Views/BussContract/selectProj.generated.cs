#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 2 "..\..\Views\BussContract\selectProj.cshtml"
    using JQ.Web;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/BussContract/selectProj.cshtml")]
    public partial class _Views_BussContract_selectProj_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_BussContract_selectProj_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n");

WriteLiteral("<style");

WriteLiteral(" type=\"text/css\"");

WriteLiteral(">\r\n    .rwpdialogdiv {\r\n        padding: 0px;\r\n    }\r\n</style>\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n    $(function () {\r\n        debugger;\r\n        $(\".dialog-toolbar :last\").hid" +
"e();\r\n\r\n        ");

WriteLiteral(@"

        JQ.treegrid.treegrid({
            JQButtonTypes: [],//需要显示的按钮
            JQPrimaryID: 'Id',//主键的字段
            JQID: 'BussProjectGrid',//数据表格ID
            JQDialogTitle: '选择工程',//弹出窗体标题
            JQWidth: '1024',//弹出窗体宽
            JQHeight: '100%',//弹出窗体高
            JQLoadingType: 'treegrid',//数据表格类型 [datagrid,treegrid]
            singleSelect: ");

            
            #line 28 "..\..\Views\BussContract\selectProj.cshtml"
                      Write(string.IsNullOrEmpty(Request.Params["SingleSelect"])?"false":Request.Params["SingleSelect"].ToString().ToLower());

            
            #line default
            #line hidden
WriteLiteral(",\r\n            idField: \'Id\',\r\n            treeField: \'ProjNumber\',\r\n            " +
"pagination: true,\r\n            JQFields: [\"Id\"],//追加的字段名\r\n            url: \'");

            
            #line 33 "..\..\Views\BussContract\selectProj.cshtml"
             Write(Url.Action("JsonProject", "BussContract", new { @area = "Bussiness" }));

            
            #line default
            #line hidden
WriteLiteral("?CompanyType=");

            
            #line 33 "..\..\Views\BussContract\selectProj.cshtml"
                                                                                                 Write(Request.Params["CompanyType"].ToString());

            
            #line default
            #line hidden
WriteLiteral("\',//请求的地址\r\n            checkOnSelect: true,//是否包含check\r\n            toolbar: \'#Bu" +
"ssProjectPanel\',//工具栏的容器ID\r\n            columns: [[\r\n                { field: \'c" +
"k\', align: \'center\', checkbox:true, JQIsExclude: true },\r\n                { titl" +
"e: \'项目编号\', field: \'ProjNumber\', width: 150, align: \'left\', },\r\n                {" +
" title: \'项目名称\', field: \'ProjName\', width: 200, align: \'center\', },\r\n            " +
"    { title: \'客户单位\', field: \'CustName\', width: 200, align: \'center\', },\r\n       " +
"         { title: \'客户联系人\', field: \'CustLinkMan\', width: 100, align: \'center\', }," +
"\r\n                { title: \'设总\', field: \'ProjEmpName\', width: 60, align: \'center" +
"\', },\r\n                { title: \'计划开始\', field: \'DatePlanStart\', width: 80, align" +
": \'center\', formatter: JQ.tools.DateTimeFormatterByT },\r\n                { title" +
": \'计划完成\', field: \'DatePlanFinish\', width: 80, align: \'center\', formatter: JQ.too" +
"ls.DateTimeFormatterByT },\r\n            ]],\r\n            onCheck: function (rowD" +
"ata) {\r\n                var $girdId_Upload = $(\"#BussProjectGrid\");\r\n           " +
"     var gridPanel = $girdId_Upload.treegrid(\"getPanel\");\r\n\r\n                var" +
" childs = $girdId_Upload.treegrid(\"getChildren\", rowData.Id);\r\n                $" +
".each(childs, function (index, childNode) {\r\n                    $girdId_Upload." +
"treegrid(\"checkRow\", childNode.Id);\r\n                })\r\n            },\r\n       " +
"     onLoadSuccess: function (row, data) {\r\n                if (data.total && da" +
"ta.total > 0) {\r\n                    var treeHtml = $(\"#BussProjectGrid\").treegr" +
"id(\"getPanel\");\r\n                    var roots = $(\"#BussProjectGrid\").treegrid(" +
"\"getRoots\");\r\n                    $.each(roots, function (i, NodeItem) {\r\n      " +
"                  treeHtml.find(\"tr[node-id=\'\" + NodeItem.Id + \"\']\").find(\"div.d" +
"atagrid-cell-rownumber\").text(NodeItem.row_number);\r\n                        var" +
" rowChildren = $(\"#BussProjectGrid\").treegrid(\"getChildren\", NodeItem.Id);\r\n    " +
"                    if (rowChildren.length > 0) {\r\n                            $" +
".each(rowChildren, function (y, k) {\r\n                                treeHtml.f" +
"ind(\"tr[node-id=\'\" + k.Id + \"\']\").find(\"div.datagrid-cell-rownumber\").text(\"\");\r" +
"\n                            })\r\n                        }\r\n                    " +
"})\r\n                }\r\n            }\r\n        });\r\n        $(\"#JQSearch\").textbo" +
"x({\r\n            buttonText: \'筛选\',\r\n            buttonIcon: \'fa fa-search\',\r\n   " +
"         height: 25,\r\n            prompt: \'项目编号、项目名称\',\r\n            onClickButto" +
"n: function () {\r\n                JQ.datagrid.searchGrid(\r\n            {\r\n      " +
"          dgID: \'BussProjectGrid\',\r\n                loadingType: \'treegrid\',\r\n  " +
"              queryParams: null\r\n            });\r\n            }\r\n        });\r\n  " +
"  });\r\n\r\n    function selectProj() {\r\n        var row = $(\'#BussProjectGrid\').tr" +
"eegrid(\'getSelections\');\r\n        if (row.length < 1) {\r\n            window.top." +
"JQ.dialog.warning(\'您必须选择至少一项！！！\');\r\n            return;\r\n        }\r\n        var " +
"ids = [];\r\n        var _rows = [];\r\n        for (var i = 0; i < row.length; i++)" +
" {\r\n            if (row[i][\"ParentId\"] != \"0\") {\r\n                ids.push(row[i" +
"][\"Id\"]);\r\n            }\r\n            //_rows.push(row[i]);\r\n        }\r\n\r\n      " +
"  _ProjCallBack(ids);\r\n        JQ.dialog.dialogClose();\r\n    }\r\n\r\n    function c" +
"loseDialog() {\r\n        JQ.dialog.dialogClose();\r\n    }\r\n\r\n</script>\r\n\r\n<table");

WriteLiteral(" id=\"BussProjectGrid\"");

WriteLiteral("></table>\r\n<div");

WriteLiteral(" id=\"BussProjectPanel\"");

WriteLiteral(" JQPanel=\"searchPanel\"");

WriteLiteral(" style=\"padding:5px;height:auto;\"");

WriteLiteral(">\r\n    <span");

WriteLiteral(" JQPanel=\"toolbarPanel\"");

WriteLiteral(">\r\n        <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-save\'\"");

WriteLiteral(" onclick=\"selectProj()\"");

WriteLiteral(">确定选择</a>\r\n        <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-close\'\"");

WriteLiteral(" onclick=\"closeDialog()\"");

WriteLiteral(">关闭</a>\r\n    </span>\r\n    ");

WriteLiteral("\r\n    <span");

WriteLiteral(" class=\'datagrid-btn-separator\'");

WriteLiteral(" style=\'vertical-align: middle; height: 22px;display:inline-block;float:none\'");

WriteLiteral("></span>\r\n\r\n    <input");

WriteLiteral(" id=\"JQSearch\"");

WriteLiteral(" style=\"width:250px;\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'ProjNumber,ProjName\', Contract:\'like\'}\"");

WriteLiteral(" />\r\n\r\n    ");

WriteLiteral("\r\n</div>\r\n\r\n\r\n\r\n");

        }
    }
}
#pragma warning restore 1591

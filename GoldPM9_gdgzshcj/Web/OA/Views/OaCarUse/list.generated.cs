#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 4 "..\..\Views\OaCarUse\list.cshtml"
    using JQ.Web;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/OaCarUse/list.cshtml")]
    public partial class _Views_OaCarUse_list_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_OaCarUse_list_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Views\OaCarUse\list.cshtml"
  
    Layout = "~/Areas/Core/Views/Shared/_Layout.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n");

DefineSection("head", () => {

WriteLiteral("\r\n    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n        var requestUrl = \'");

            
            #line 7 "..\..\Views\OaCarUse\list.cshtml"
                     Write(Url.Action("json", "OaCarUse",new { @area="Oa"}));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n               addUrl = \'");

            
            #line 8 "..\..\Views\OaCarUse\list.cshtml"
                    Write(Url.Action("add","OaCarUse",new {@area="Oa" }));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n               editUrl = \'");

            
            #line 9 "..\..\Views\OaCarUse\list.cshtml"
                     Write(Url.Action("edit", "OaCarUse",new {@area="Oa" }));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n               delUrl = \'");

            
            #line 10 "..\..\Views\OaCarUse\list.cshtml"
                    Write(Url.Action("del", "OaCarUse", new { @area = "Oa" }));

            
            #line default
            #line hidden
WriteLiteral("\';\r\n        $(function () {\r\n            JQ.datagrid.datagrid({\r\n                " +
"JQButtonTypes: [\'add\', \'del\', \'export\'],//需要显示的按钮\r\n                JQPermission:" +
" \'");

            
            #line 14 "..\..\Views\OaCarUse\list.cshtml"
                          Write(Html.Raw(ViewBag.permission));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                JQAddUrl: addUrl, //添加的路径\r\n                JQEditUrl: editUrl" +
",//编辑的路径\r\n                JQDelUrl: delUrl, //删除的路径\r\n                JQPrimaryID" +
": \'Id\',//主键的字段\r\n                JQID: \'OaCarUseGrid\',//数据表格ID\r\n                J" +
"QDialogTitle: \'信息\',//弹出窗体标题\r\n                JQWidth: \'1024\',//弹出窗体宽\r\n          " +
"      JQHeight: \'100%\',//弹出窗体高\r\n                JQLoadingType: \'datagrid\',//数据表格" +
"类型 [datagrid,treegrid]\r\n                JQFields: [\"Id\"],//追加的字段名\r\n             " +
"   url: requestUrl,//请求的地址\r\n                checkOnSelect: true,//是否包含check\r\n   " +
"             JQExcludeCol: [1, 4, 16, 17, 18],//导出execl排除的列\r\n                too" +
"lbar: \'#OaCarUsePanel\',//工具栏的容器ID\r\n                nowrap: false,\r\n             " +
"   columns: [[\r\n                    { field: \'ck\', align: \'center\', checkbox: tr" +
"ue, JQIsExclude: true },\r\n                    { title: \'车辆信息\', field: \'CarInfo\'," +
" width: 120, align: \'left\', halign: \'center\' },\r\n                    { title: \'申" +
"请日期\', field: \'UseApplyDatetime\', width: 100, align: \'center\', halign: \'center\', " +
"formatter: JQ.tools.DateTimeFormatterByT },\r\n                    {\r\n            " +
"            field: \'check\', title: \'登记\', align: \'center\', halign: \'center\', widt" +
"h: 60, formatter: function (value, row) {\r\n                            if (row.C" +
"arID != 0) {\r\n\r\n                                if (row.FlowStatusID == 3) {\r\n  " +
"                                  if (row.IsFinish == 0) {\r\n                    " +
"                    return \"<a class=\\\"easyui-linkbutton\\\" data-options=\\\"plain:" +
"true,iconCls:\'fa fa-plus\'\\\" onclick=\\\"Opencheckin(\" + row.Id + \")\\\">登记</a>\"\r\n   " +
"                                 }\r\n                                    else {\r\n" +
"                                        return \"<a class=\\\"easyui-linkbutton\\\" d" +
"ata-options=\\\"plain:true,iconCls:\'fa fa-plus\'\\\" onclick=\\\"OpencheckinView(\" + ro" +
"w.Id + \")\\\">用车完毕</a>\"\r\n                                    }\r\n                  " +
"              }\r\n                                else { return \"\" }\r\n\r\n         " +
"                   }\r\n                            else {\r\n                      " +
"          return \"\";\r\n                            }\r\n                        }\r\n" +
"                    },\r\n                    { title: \'用途\', field: \'UsePurpose\', " +
"width: 200, align: \'left\', halign: \'center\' },\r\n                    { title: \'去向" +
"\', field: \'UsePlace\', width: 150, align: \'left\', halign: \'center\' },\r\n          " +
"          { title: \'带车责任人\', field: \'UseLeaderEmpName\', width: 100, align: \'cente" +
"r\', halign: \'center\' },\r\n                    { title: \'同车人员\', field: \'UsePeople\'" +
", width: 80, align: \'center\', halign: \'center\' },\r\n                    { title: " +
"\'计划出车时间\', field: \'DateLeavePlan\', width: 100, align: \'center\', halign: \'center\'," +
" formatter: JQ.tools.DateTimeFormatterByHH },\r\n                    { title: \'计划归" +
"队时间\', field: \'DateArrivePlan\', width: 100, align: \'center\', halign: \'center\', fo" +
"rmatter: JQ.tools.DateTimeFormatterByHH },\r\n                    { title: \'实际出车时间" +
"\', field: \'DateLeave\', width: 100, align: \'center\', halign: \'center\', formatter:" +
" JQ.tools.DateTimeFormatterByHH },\r\n                    { title: \'实际归队时间\', field" +
": \'DateArrive\', width: 100, align: \'center\', halign: \'center\', formatter: JQ.too" +
"ls.DateTimeFormatterByHH },\r\n                    { title: \'驾驶员\', field: \'UseCarD" +
"river\', width: 100, align: \'center\', halign: \'center\' },\r\n                    { " +
"field: \'JQFiles\', title: \'附件\', align: \'center\', halign: \'center\', width: 80, JQI" +
"sExclude: true, JQRefTable: \'OaCarUse\' },\r\n                    {\r\n              " +
"          field: \"FlowProgress\", title: \"流程进度\", align: \"left\", halign: \"center\"," +
" width: \"8%\", formatter: JQ.Flow.showProgress(\"FlowID\", \"FlowName\", \"FlowStatusI" +
"D\", \"FlowStatusName\", \"FlowTurnedEmpIDs\", \"CreatorEmpId\",\r\n                     " +
"       \"");

            
            #line 66 "..\..\Views\OaCarUse\list.cshtml"
                         Write(ViewBag.CurrentEmpID);

            
            #line default
            #line hidden
WriteLiteral("\",");

            
            #line 66 "..\..\Views\OaCarUse\list.cshtml"
                                                 Write(Html.Raw(ViewBag.permission));

            
            #line default
            #line hidden
WriteLiteral(", \"FlowNodeOrder\", \"FlowFinishControls\", \"FlowNodeTypeID\", \"FlowMultiSignStatus\")" +
"\r\n                    },\r\n                    {\r\n                        field: " +
"\"opt\", title: \"操作\", align: \"center\", halign: \"center\", width: \"40px\",\r\n         " +
"               formatter: function (value, row, index) {\r\n                      " +
"      var title = \"查看\";\r\n                            if (row._EditStatus == 1) {" +
"\r\n                                title = \"修改\";\r\n                               " +
" return \"<a href=\\\"#\\\" class=\\\"easyui-linkbutton\\\"  style=\\\"line-height:22px;\\\" " +
"onclick=\\\"OpenAdd(\'\" + row.Id + \"\')\\\">\" + title + \"</a>\";\r\n                     " +
"       }\r\n                            else if (row._EditStatus == 2) {\r\n        " +
"                        title = \"处理\";\r\n                                return \"<" +
"a href=\\\"#\\\" class=\\\"easyui-linkbutton\\\"  style=\\\"line-height:22px;\\\" onclick=\\\"" +
"OpenCheck(\'\" + row.Id + \"\',\'\" + row.FlowStatusName + \"\')\\\">\" + title + \"</a>\";\r\n" +
"                            }\r\n                            else if (row._EditSta" +
"tus == 3) {\r\n                                title = \"完善\";\r\n                    " +
"            return \"<a href=\\\"#\\\" class=\\\"easyui-linkbutton\\\"  style=\\\"line-heig" +
"ht:22px;\\\" onclick=\\\"OpenCheck(\'\" + row.Id + \"\',\'\" + row.FlowStatusName + \"\')\\\">" +
"\" + title + \"</a>\";\r\n                            }\r\n                            " +
"else {\r\n                                if (row.FlowStatusID == undefined) {\r\n  " +
"                                  return \"<a href=\\\"#\\\" class=\\\"easyui-linkbutto" +
"n\\\"  style=\\\"line-height:22px;\\\" onclick=\\\"OpenAdd(\'\" + row.Id + \"\')\\\">\" + title" +
" + \"</a>\";\r\n                                }\r\n                                e" +
"lse\r\n                                    return \"<a href=\\\"#\\\" class=\\\"easyui-li" +
"nkbutton\\\"  style=\\\"line-height:22px;\\\" onclick=\\\"OpencheckinView(\'\" + row.Id + " +
"\"\')\\\">\" + title + \"</a>\";\r\n                            }\r\n                      " +
"  }\r\n                    }\r\n                ]],\r\n                onBeforeCheck: " +
"function (rowIndex, rowData) {\r\n                    return rowData._AllowCheck;\r" +
"\n                },\r\n                onClickRow: function (rowIndex, rowData) {\r" +
"\n                    if (!rowData._AllowCheck) {\r\n                        $(this" +
").datagrid(\'unselectRow\', rowIndex);\r\n                    }\r\n                },\r" +
"\n                onLoadSuccess: function (data) {\r\n                    $(\"div.da" +
"tagrid-header-check input[type=\'checkbox\']\").attr(\"style\", \"display:none\");\r\n   " +
"                 var rowViews = $(\"#OaCarUseGrid\").parent().find(\".datagrid-view" +
"2 .datagrid-body tr.datagrid-row\");\r\n                    for (var i = 0; i < dat" +
"a.rows.length; i++) {\r\n                        if (!data.rows[i]._AllowCheck) {\r" +
"\n                            rowViews.filter(\"[datagrid-row-index=\'\" + i + \"\']\")" +
".find(\"td[field=\'ck\'] :checkbox\").prop(\"disabled\", \"disabled\");\r\n               " +
"         }\r\n                    }\r\n\r\n                }\r\n            });\r\n\r\n     " +
"       $(\"#CarName\").combobox({\r\n                url: \'");

            
            #line 115 "..\..\Views\OaCarUse\list.cshtml"
                 Write(Url.Action("GetAllCarInfo", "OaCar",new { @area="Oa"}));

            
            #line default
            #line hidden
WriteLiteral(@"',
                valueField: 'Id',
                textField: ""text"",
                onChange: function () {
                    ResGrid();
                }, onHidePanel: function () {
                    comBoxHidePanel(this);
                }
            });

            $(""#CarHeader"").combobox({
                url: '");

            
            #line 126 "..\..\Views\OaCarUse\list.cshtml"
                 Write(Url.Action("employeeJson", "usercontrol",new { @area="Core"}));

            
            #line default
            #line hidden
WriteLiteral(@"',
                valueField: 'EmpID',
                textField: ""EmpName"",
                onChange: function () {
                    ResGrid();
                }, onHidePanel: function () {
                    comBoxHidePanel(this);
                }
            });

            $(""#endTime"").datebox({
                onSelect: function () {
                    ResGrid();
                }
            });


            $(""#startTime"").datebox({
                onSelect: function () {
                    ResGrid();
                }
            });

            $(""#sj_startTime"").datebox({
                onSelect: function () {
                    ResGrid();
                }
            });

            $(""#sj_endTime"").datebox({
                onSelect: function () {
                    ResGrid();
                }
            });
        });

        function ResGrid() {
            JQ.datagrid.searchGrid({
                dgID: 'OaCarUseGrid',
                loadingType: 'datagrid',
                queryParams: null
            });
        }



        function OpenCheck(sId,name) {
            JQ.dialog.dialog({
                title: ""处理"",
                url: '");

            
            #line 175 "..\..\Views\OaCarUse\list.cshtml"
                 Write(Url.Action("edit"));

            
            #line default
            #line hidden
WriteLiteral(@"' + '?id=' + sId +""&sName=""+name,
                width: '1024',
                height: '100%',
                JQID: 'OaCarUseGrid',
                JQLoadingType: 'datagrid',
                iconCls: 'fa fa-plus',
            });
        }
        function OpenAdd(sId) {
            JQ.dialog.dialog({
                title: ""修改"",
                url: '");

            
            #line 186 "..\..\Views\OaCarUse\list.cshtml"
                 Write(Url.Action("editBefore"));

            
            #line default
            #line hidden
WriteLiteral(@"' + '?id=' + sId,
                width: '1024',
                height: '100%',
                JQID: 'OaCarUseGrid',
                JQLoadingType: 'datagrid',
                iconCls: 'fa fa-plus'
            });
        }
        function Opencheckin(sId) {
            JQ.dialog.dialog({
                title: ""收车登记"",
                url: '");

            
            #line 197 "..\..\Views\OaCarUse\list.cshtml"
                 Write(Url.Action("Edit01"));

            
            #line default
            #line hidden
WriteLiteral(@"' + '?id=' + sId,
                width: '1024',
                height: '100%',
                JQID: 'OaCarUseGrid',
                JQLoadingType: 'datagrid',
                iconCls: 'fa fa-plus'
            });
        }
        function OpencheckinView(sId) {
            JQ.dialog.dialog({
                title: ""用车查看"",
                url: '");

            
            #line 208 "..\..\Views\OaCarUse\list.cshtml"
                 Write(Url.Action("editView"));

            
            #line default
            #line hidden
WriteLiteral(@"' + '?id=' + sId,
                width: '1024',
                height: '100%',
                JQID: 'OaCarUseGrid',
                JQLoadingType: 'datagrid',
                iconCls: 'fa fa-plus'
            });
        }

        window.refreshGrid = function () {
            $(""#JQSearch"").textbox(""button"").click();
        }

    </script>
");

WriteLiteral("    ");

            
            #line 222 "..\..\Views\OaCarUse\list.cshtml"
Write(RenderPage("~/Areas/Core/Views/Shared/_Init.cshtml"));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

});

WriteLiteral("\r\n");

DefineSection("Body_Content", () => {

WriteLiteral("\r\n    <table");

WriteLiteral(" id=\"OaCarUseGrid\"");

WriteLiteral("></table>\r\n    <div");

WriteLiteral(" id=\"OaCarUsePanel\"");

WriteLiteral(" JQPanel=\"searchPanel\"");

WriteLiteral(" style=\"padding:5px;height:auto;\"");

WriteLiteral(">\r\n        <span");

WriteLiteral(" JQPanel=\"toolbarPanel\"");

WriteLiteral(">\r\n            <span");

WriteLiteral(" style=\"padding-left:20px;\"");

WriteLiteral(">\r\n                车辆信息：<select");

WriteLiteral(" id=\"CarName\"");

WriteLiteral(" name=\"CarName\"");

WriteLiteral(" data-options=\"prompt: \'车辆名称\'\"");

WriteLiteral(" style=\"width:150px;\"");

WriteLiteral(" JQWhereOptions=\"{\'Key\':\'CarID\',\'Contract\':\'in\',filedType:\'Int\'}\"");

WriteLiteral("></select>\r\n            </span>\r\n            <span");

WriteLiteral(" style=\"padding-left:20px;\"");

WriteLiteral(">\r\n                带车责任人：<select");

WriteLiteral(" id=\"CarHeader\"");

WriteLiteral(" name=\"CarHeader\"");

WriteLiteral(" data-options=\"prompt: \'带车责任人\'\"");

WriteLiteral(" style=\"width:150px;\"");

WriteLiteral(" JQWhereOptions=\"{\'Key\':\'UseLeaderEmp\',\'Contract\':\'in\',filedType:\'Int\'}\"");

WriteLiteral("></select>\r\n            </span>\r\n            <span");

WriteLiteral(" style=\"padding-left:20px;\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"startTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:110px\"");

WriteLiteral(" data-options=\"prompt: \'计划出车时间\'\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'DateLeavePlan\', Contract:\'>=\',filedType:\'Date\' }\"");

WriteLiteral(">\r\n                至\r\n                <input");

WriteLiteral(" id=\"endTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:110px\"");

WriteLiteral(" data-options=\"prompt: \'计划归队时间\'\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'DateArrivePlan\', Contract:\'<=\',filedType:\'Date\' }\"");

WriteLiteral(">&nbsp;&nbsp;&nbsp;&nbsp;\r\n                <input");

WriteLiteral(" id=\"sj_startTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:110px\"");

WriteLiteral(" data-options=\"prompt: \'实际出车时间\'\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'DateLeave\', Contract:\'>=\',filedType:\'Date\' }\"");

WriteLiteral(">\r\n                至\r\n                <input");

WriteLiteral(" id=\"sj_endTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:110px\"");

WriteLiteral(" data-options=\"prompt: \'实际归队时间\'\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'DateArrive\', Contract:\'<=\',filedType:\'Date\' }\"");

WriteLiteral(">\r\n            </span>\r\n        </span>\r\n    </div>\r\n    <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"ExportType\"");

WriteLiteral(" name=\"ExportType\"");

WriteLiteral(" value=\"1\"");

WriteLiteral(" />\r\n");

});

WriteLiteral("\r\n");

        }
    }
}
#pragma warning restore 1591

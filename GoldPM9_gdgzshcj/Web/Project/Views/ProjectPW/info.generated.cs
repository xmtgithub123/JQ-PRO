#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 2 "..\..\Views\ProjectPW\info.cshtml"
    using JQ.Web;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/ProjectPW/info.cshtml")]
    public partial class _Views_ProjectPW_info_cshtml : System.Web.Mvc.WebViewPage<DataModel.Models.Project>
    {
        public _Views_ProjectPW_info_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n\r\n    $(\"#Variety\").val(");

            
            #line 5 "..\..\Views\ProjectPW\info.cshtml"
                 Write(ViewBag.Variety);

            
            #line default
            #line hidden
WriteLiteral(");\r\n    $(\"#ChildModelId\").val(");

            
            #line 6 "..\..\Views\ProjectPW\info.cshtml"
                      Write(ViewBag.ChildModelId);

            
            #line default
            #line hidden
WriteLiteral(");\r\n    $(\"#strMainId\").val(");

            
            #line 7 "..\..\Views\ProjectPW\info.cshtml"
                   Write(Model.Id);

            
            #line default
            #line hidden
WriteLiteral(");\r\n\r\n    $(function () {\r\n        //提交页面\r\n        JQ.form.submitInit({\r\n        " +
"    formid: \'ProjectFormPW\',//formid提交需要用到\r\n            docName: \'ProjectTask\',\r" +
"\n            ExportName : \'电网任务书\',\r\n            buttonTypes: [\'exportForm\',\'clos" +
"e\'],//默认按钮\r\n            onBefore:function()\r\n            {\r\n                $(\"#" +
"ProjPhaseGrid\").datagrid(\"hideColumn\",\"ck\");\r\n                $(\"#ProjPhaseGrid\"" +
").datagrid(\"hideColumn\",\"ProjNoteOther\")\r\n                $(\"#ProjPhaseGrid\").da" +
"tagrid(\"hideColumn\",\"ProjEmpId\")\r\n                $(\"#ProjPhaseGrid\").datagrid(\"" +
"showColumn\",\"ProjEmpName\")\r\n                $(\"#ProjPhaseGrid\").datagrid(\"showCo" +
"lumn\",\"ProjPhaseIdsName\")\r\n                $(\"#ProjPhaseGrid\").datagrid(\"hideCol" +
"umn\",\"ProjPhaseIds\")\r\n                $(\"#ProjPhaseGrid\").datagrid(\"hideColumn\"," +
"\"ProjTypeID\")\r\n                $(\"#ProjPhaseGrid\").datagrid(\"showColumn\",\"ProjTy" +
"peName\")\r\n            },\r\n            onAfter:function()\r\n            {\r\n       " +
"         $(\"#ProjPhaseGrid\").datagrid(\"showColumn\",\"ck\");\r\n                $(\"#P" +
"rojPhaseGrid\").datagrid(\"showColumn\",\"ProjNoteOther\")\r\n                $(\"#ProjP" +
"haseGrid\").datagrid(\"showColumn\",\"ProjEmpId\")\r\n                $(\"#ProjPhaseGrid" +
"\").datagrid(\"hideColumn\",\"ProjEmpName\")\r\n                $(\"#ProjPhaseGrid\").dat" +
"agrid(\"hideColumn\",\"ProjPhaseIdsName\")\r\n                $(\"#ProjPhaseGrid\").data" +
"grid(\"showColumn\",\"ProjPhaseIds\")\r\n                $(\"#ProjPhaseGrid\").datagrid(" +
"\"showColumn\",\"ProjTypeID\")\r\n                $(\"#ProjPhaseGrid\").datagrid(\"hideCo" +
"lumn\",\"ProjTypeName\")\r\n\r\n            },\r\n            beforeFormSubmit:function()" +
"{\r\n\r\n                TreeGridRowEditEnd();\r\n                EndEdit();\r\n        " +
"        var datas = $(\"#ProjPhaseGrid\").datagrid(\"getData\");\r\n                if" +
" (datas.rows.length == 0) {\r\n                    JQ.dialog.warning(\"请先输入项目子项!\");" +
"\r\n                    return false;\r\n                }\r\n                var sTim" +
"e=$(\"#DatePlanStart\").datebox(\'getValue\');\r\n                var eTime=$(\"#DatePl" +
"anFinish\").datebox(\'getValue\');\r\n                if(sTime!=\"\"&&eTime!=\"\")\r\n     " +
"           {\r\n                    var  assigntime = new Date(parseInt(Date.parse" +
"(sTime), 10));\r\n                    var  deadlinetime = new Date(parseInt(Date.p" +
"arse(eTime), 10));\r\n                    if (assigntime > deadlinetime) {\r\n      " +
"                  JQ.dialog.warning(\"项目计划开始时间不能大于计划结束时间!\");\r\n                   " +
"     return false;\r\n                    }\r\n                }\r\n\r\n                " +
"for (var i = 0; i < datas.rows.length; i++) {\r\n                    var t1=datas." +
"rows[i].DatePlanStart;\r\n                    var t2=datas.rows[i].DatePlanFinish;" +
"\r\n                    if(t1!=\"\"&&t2!=\"\")\r\n                    {\r\n               " +
"         var  assigntime = new Date(parseInt(Date.parse(t1), 10));\r\n            " +
"            var  deadlinetime = new Date(parseInt(Date.parse(t2), 10));\r\n       " +
"                 if (assigntime > deadlinetime) {\r\n                            J" +
"Q.dialog.warning(\"子项计划开始时间不能大于计划结束时间!\");\r\n                            return fal" +
"se;\r\n                        }\r\n                    }\r\n                    if(t1" +
"!=\"\")\r\n                    {\r\n                        var Ct1=new Date(parseInt(" +
"Date.parse(t1), 10));\r\n                        if(sTime!=\"\")\r\n                  " +
"      {\r\n                            var Pt1=new Date(parseInt(Date.parse(sTime)" +
", 10));\r\n                            if (Pt1 > Ct1) {\r\n                         " +
"       JQ.dialog.warning(\"子项计划开始时间不能早于项目的计划开始时间!\");\r\n                           " +
"     return false;\r\n                            }\r\n                        }\r\n  " +
"                      if(eTime!=\"\")\r\n                        {\r\n                " +
"            var Pt2=new Date(parseInt(Date.parse(eTime), 10));\r\n                " +
"            if (Ct1 > Pt2) {\r\n                                JQ.dialog.warning(" +
"\"子项计划开始时间不能晚于项目的计划结束时间!\");\r\n                                return false;\r\n     " +
"                       }\r\n                        }\r\n                    }\r\n    " +
"                if(t2!=\"\")\r\n                    {\r\n                        var C" +
"t2=new Date(parseInt(Date.parse(t2), 10));\r\n                        if(sTime!=\"\"" +
")\r\n                        {\r\n                            var Pt1=new Date(parse" +
"Int(Date.parse(sTime), 10));\r\n                            if (Pt1 > Ct2) {\r\n    " +
"                            JQ.dialog.warning(\"子项计划结束时间不能早于项目的计划开始时间!\");\r\n      " +
"                          return false;\r\n                            }\r\n        " +
"                }\r\n                        if(eTime!=\"\")\r\n                      " +
"  {\r\n                            var Pt2=new Date(parseInt(Date.parse(eTime), 10" +
"));\r\n                            if (Ct2 > Pt2) {\r\n                             " +
"   JQ.dialog.warning(\"子项计划结束不能晚于项目的开始结束时间!\");\r\n                                r" +
"eturn false;\r\n                            }\r\n                        }\r\n        " +
"            }\r\n\r\n                }\r\n\r\n                if($(\"#stepOrder\").val()==" +
"\"1\")\r\n                {\r\n                    var _mainId=$(\"#strMainId\").val();\r" +
"\n                    var _projId=$(\"#projId\").val();\r\n                    var _P" +
"rojNumber = JQ.Flow.htmlEncode($(\"#ProjNumber\").val());\r\n                    //v" +
"ar _projXml=JQ.Flow.htmlEncode($(\"#HiddenProjPhaseGridData\").val());\r\n          " +
"          var _projXml=$(\"#HiddenProjPhaseGridData\").val();\r\n                   " +
" var bit=0;\r\n                    $.ajax({\r\n                        type: \"POST\"," +
"\r\n                        doBackResult: false,\r\n                        url: \'");

            
            #line 126 "..\..\Views\ProjectPW\info.cshtml"
                         Write(Url.Action("GetProjCount", "Project"));

            
            #line default
            #line hidden
WriteLiteral(@"',
                        data: { mainId: _mainId, ProjNumber:_ProjNumber,projId: _projId,projXml:_projXml },
                        async: false,
                        success: function (data) {
                            bit=data
                        }
                    })
                    if (bit ==-1) {
                        JQ.dialog.warning(""项目子项中存在相同的编码!"");
                        return false;
                    }
                    if (bit ==-2) {
                        JQ.dialog.warning(""项目与子项中存在相同的编码!"");
                        return false;
                    }
                    if (bit >0) {
                        JQ.dialog.warning(""项目与数据库中存在相同的编码!"");
                        return false;
                    }
                }

                //联系人
                $(""#CustLinkMan"").val($(""#CustLinkId"").combobox(""getText""));
                $(""#CustName"").val($(""#CustID"").combobox(""getText""));
            },
            flow:{
                flowNodeID: """);

            
            #line 152 "..\..\Views\ProjectPW\info.cshtml"
                         Write(Request.QueryString["flowNodeID"]==null? 0 : int.Parse(Request.QueryString["flowNodeID"]));

            
            #line default
            #line hidden
WriteLiteral("\",\r\n                flowMultiSignID: \"");

            
            #line 153 "..\..\Views\ProjectPW\info.cshtml"
                              Write(Request.QueryString["flowMultiSignID"] ==null? 0 : int.Parse(Request.QueryString["flowMultiSignID"]));

            
            #line default
            #line hidden
WriteLiteral("\",\r\n                url: \"");

            
            #line 154 "..\..\Views\ProjectPW\info.cshtml"
                  Write(Url.Action("FlowWidget", "PubFlow",new { @area="Core"} ));

            
            #line default
            #line hidden
WriteLiteral("\",\r\n                instance: \"_flowInstance\",\r\n                processor: \"Proje" +
"ct,Project.FlowProcessor.ProjectPWProcessor\",\r\n                onInit: function " +
"() {\r\n                    _flowInstance = this;\r\n                },\r\n           " +
"     refID: \"");

            
            #line 160 "..\..\Views\ProjectPW\info.cshtml"
                    Write(ViewBag.ChildModelId);

            
            #line default
            #line hidden
WriteLiteral("\",\r\n                bridgeID: \"");

            
            #line 161 "..\..\Views\ProjectPW\info.cshtml"
                       Write(Model.Id);

            
            #line default
            #line hidden
WriteLiteral("\",\r\n                guid:\"");

            
            #line 162 "..\..\Views\ProjectPW\info.cshtml"
                  Write(ViewBag.Guid);

            
            #line default
            #line hidden
WriteLiteral(@""",
                refTable: ""ProjectPW"",
                onLoaded:function(){
                    $(""#stepOrder"").val(this.stepOrder);
                }
            },
            succesCollBack: function (data) {//成功回调函数,data为服务器返回值
                var _tempFrame=window.top.document.getElementById(""");

            
            #line 169 "..\..\Views\ProjectPW\info.cshtml"
                                                               Write(Request.QueryString["iframeID"]);

            
            #line default
            #line hidden
WriteLiteral(@""");
                if(_tempFrame){
                    _tempFrame.contentWindow.refreshGrid();
                }
                _flowInstance.$form.parent().dialog(""close"");
            }
        });

        //保存时，后台可直接取出项目负责人姓名
        if($('#ProjEmpId').val()==0)
            $('#ProjEmpId').val("""");
        $('#ProjEmpId').combobox({
            data:");

            
            #line 181 "..\..\Views\ProjectPW\info.cshtml"
            Write(Html.Raw(ViewBag.Qualification));

            
            #line default
            #line hidden
WriteLiteral(@",
            valueField:'EmpID',
            textField:'EmpName',
            editable:false ,
            onSelect:function(row){$('#ProjEmpName').val(row.EmpName);}
        });

        //成本表格扩展页面初始编辑状态
        $.extend($.fn.treegrid.defaults.view, {
            onAfterRender: function (target) {
                if (target.id == ""ProjCostGrid"") {
                    var gridRoots = $(target).treegrid(""getRoots"");

                    $.each(gridRoots, function (i, n) {
                        TreeGridRowEdit(target, n);
                        var rowChildren = $(target).treegrid(""getChildren"", n.Id);

                        $.each(rowChildren, function (k, m) {
                            TreeGridRowEdit(target, m);
                        });
                    });
                }
            }
        });
        //阶段表格扩展页面初始编辑状态
        $.extend($.fn.datagrid.defaults.view, {
            onAfterRender: function (target) {
                if (target.id == ""ProjPhaseGrid""&&");

            
            #line 208 "..\..\Views\ProjectPW\info.cshtml"
                                             Write(Model.Id);

            
            #line default
            #line hidden
WriteLiteral(@">0) {
                    var getRows = $(target).datagrid(""getRows"");

                    $.each(getRows, function (i, n) {
                        $(target).datagrid(""beginEdit"", i);

                        var combobox=$('#ProjPhaseGrid').datagrid('getEditor', {index:i,field:'ProjPhaseIds'}).target;
                        var  rowIndex =$(combobox).closest('tr.datagrid-row').attr('datagrid-row-index')
                        var grid=$(combobox).combogrid(""grid"");
                        grid.datagrid(""load"",{}); //清空grid
                        var rows=[];
                        var rowdata=$('#ProjPhaseGrid').datagrid('getRows')[rowIndex];
                        rows=JSON.parse(rowdata.ProjPhaseInfo).rows;
                        grid.datagrid(""loadData"",{ 'total':rows.length,'rows':rows });
                    });
                }
            }
        });



        //成本表格
        JQ.treegrid.treegrid({
            //JQPrimaryID: 'Id',//主键的字段
            idField: 'Id',
            fit: false,
            pagination: false,
            treeField: 'ModelName',
            JQID: 'ProjCostGrid',//数据表格ID
            JQLoadingType: 'treegrid',//数据表格类型 [datagrid,treegrid]
            url: '");

            
            #line 238 "..\..\Views\ProjectPW\info.cshtml"
             Write(Url.Action("GetCostList", "Project",new { @area="Project"}));

            
            #line default
            #line hidden
WriteLiteral("?projId=");

            
            #line 238 "..\..\Views\ProjectPW\info.cshtml"
                                                                                 Write(Model.Id);

            
            #line default
            #line hidden
WriteLiteral(@"',//请求的地址
            checkOnSelect: false,//是否包含check
            columns: [[
                { title: '成本项', field: 'ModelName', width: 420, align: 'left' },
                { title: '预估金额(元)', field: 'ModelTempFee', width: 150, align: 'left',  //formatter:function(value,row,index){if(value=="""") return 0;else return value;},
                    editor: {
                        type: ""numberbox"" ,
                        options:{
                            precision:2
                        }
                    }
                },
                {
                    title: '实际金额(元)', field: 'ModelFactFee', width: 150, align: 'left', //formatter:function(value,row,index){if(value=="""") return 0;else return value;},
                    editor: {
                        type: ""numberbox"",
                        options:{
                            precision:2
                        }
                    }
                }
            ]]

        });

        //阶段表格
        JQ.datagrid.datagrid({
            JQPrimaryID: 'Id',//主键的字段
            JQID: 'ProjPhaseGrid',//数据表格ID
            fit: false,
            pagination: false,
            height:'300',
            JQLoadingType: 'datagrid',//数据表格类型 [datagrid,treegrid]
            url: '");

            
            #line 271 "..\..\Views\ProjectPW\info.cshtml"
             Write(Url.Action("jsonPhase", "Project",new { @area="Project"}));

            
            #line default
            #line hidden
WriteLiteral("?projId=");

            
            #line 271 "..\..\Views\ProjectPW\info.cshtml"
                                                                               Write(Model.Id);

            
            #line default
            #line hidden
WriteLiteral("\'+\'&childmodelId=\'+$(\"#ChildModelId\").val(),//请求的地址\r\n            toolbar: \'#ProjP" +
"haseGridPanel\',//工具栏的容器ID\r\n            buttonTypes:[\"\"],\r\n            singleSele" +
"ct:false,\r\n            multiple:false,\r\n            columns: [[\r\n               " +
"  { field: \'ck\', align: \'center\', checkbox: true, JQIsExclude: true ,rowspan:2}," +
"\r\n         {\r\n             title: \'项目编号\', field: \'ProjNumber\', width: 100, align" +
": \'left\',rowspan:2,\r\n             editor: {\r\n                 type: \'textbox\',\r\n" +
"                 options:{\r\n                     required:true,\r\n               " +
"      events:{\r\n                         keyup:function(event)\r\n                " +
"         {\r\n\r\n                             var strProjNumber= $(this).val();\r\n  " +
"                           UpdateGridList(strProjNumber,\"\",\"\",\"\",\"\",this);\r\n    " +
"                     }\r\n                     }\r\n                 }\r\n            " +
" }\r\n         },\r\n         {\r\n             title: \'项目名称\', field: \'ProjName\', widt" +
"h: 200, align: \'left\',rowspan:2,\r\n             editor: {\r\n                 type:" +
" \'textbox\',\r\n                 options:{\r\n                     required:true,\r\n  " +
"                   events:{\r\n                         keyup:function()\r\n        " +
"                 {\r\n                             var strProjName=  $(this).val()" +
";\r\n                             UpdateGridList(\"\",strProjName,\"\",\"\",\"\",this);\r\n " +
"                        }\r\n                     }\r\n\r\n                 }\r\n\r\n     " +
"        }\r\n         },\r\n         {\r\n             title:\'负责人\',field:\'ProjEmpName\'" +
",width:70,align:\'center\',rowspan:2,hidden:true\r\n         },\r\n          {\r\n      " +
"        title: \'负责人\', field: \'ProjEmpId\', width: 70, align: \'center\',rowspan:2,f" +
"ormatter: function (value, row, index) {\r\n                  row.ProjEmpName=JQ.t" +
"ools.strGetValName(");

            
            #line 318 "..\..\Views\ProjectPW\info.cshtml"
                                                    Write(Html.Raw(ViewBag.Qualification));

            
            #line default
            #line hidden
WriteLiteral(@",""EmpID"",""EmpName"",""0"",value,"","",""。"");
                  //row.ProjEmpId = row.ProjEmpName;
                  return  row.ProjEmpName;
              },
              editor: {
                  type: 'combobox',
                  options: {
                      required:true,
                      editable:false ,
                      data: ");

            
            #line 327 "..\..\Views\ProjectPW\info.cshtml"
                       Write(Html.Raw(ViewBag.Qualification));

            
            #line default
            #line hidden
WriteLiteral(@",
                      panelHeight: '150', valueField: 'EmpID', textField: 'EmpName',
                      onSelect:function(record)
                      {
                          var strProjEmpID=  $(this).combobox('getValue');
                          UpdateGridList("""","""",strProjEmpID,"""","""",this);
                      }
                  }
              }
          },
            {
                title: '类型', field: 'ProjTypeID', width: 120, align: 'center',rowspan:2,
                formatter:function(value,row,index)
                {
                    row.ProjTypeName=JQ.tools.strGetValName(");

            
            #line 341 "..\..\Views\ProjectPW\info.cshtml"
                                                       Write(Html.Raw(ViewData["ProjTypeIds"]));

            
            #line default
            #line hidden
WriteLiteral(@",""id"",""text"",""0"",value,"","",""。"");

                    return row.ProjTypeName;
                },
                editor: {
                    type: 'combotree',
                    options: {
                        required:true,
                        editable:false ,
                        prompt:""请选择类型"",
                        data: ");

            
            #line 351 "..\..\Views\ProjectPW\info.cshtml"
                         Write(Html.Raw(ViewData["ProjTypeIds"]));

            
            #line default
            #line hidden
WriteLiteral(",\r\n                        // url: \'");

            
            #line 352 "..\..\Views\ProjectPW\info.cshtml"
                            Write(Url.Action("treejson", "basedata", new { @area= "Core" }));

            
            #line default
            #line hidden
WriteLiteral("?engName=ProjectType\',\r\n                        panelHeight: \'150\', valueField: \'" +
"id\', textField: \'text\',\r\n                        onBeforeSelect: function(node) " +
"{\r\n                            if(node.BaseAtt2==\"1\")\r\n                         " +
"   {\r\n                                JQ.dialog.warning(\'请选择子项!!!\');\r\n          " +
"                      return false;\r\n\r\n                            }\r\n          " +
"              }\r\n                    }\r\n                }\r\n            },\r\n     " +
"      {\r\n               title:\'类型\',field:\'ProjTypeName\',width:120,align:\'center\'" +
",rowspan:2,hidden:true\r\n           },\r\n\r\n              {\r\n                  titl" +
"e: \'计划开始时间\',  field: \'DatePlanStart\', width: 100, align: \'center\',rowspan:2, for" +
"matter: JQ.tools.DateTimeFormatterByT,\r\n                  editor: {\r\n           " +
"           type: \'datebox\',\r\n                      options: {\r\n                 " +
"         editable:false ,\r\n                          onSelect:function(date)\r\n  " +
"                        {\r\n                              var strPlanStat=  $(thi" +
"s).datebox(\'getValue\');\r\n                              UpdateGridList(\"\",\"\",\"\",s" +
"trPlanStat,\"\",this);\r\n                          }\r\n                      }\r\n    " +
"              }\r\n              },\r\n          {\r\n              title: \'计划完成时间\',  " +
"field: \'DatePlanFinish\', width: 100, align: \'center\',rowspan:2, formatter: JQ.to" +
"ols.DateTimeFormatterByT,\r\n              editor: {\r\n                  type: \'dat" +
"ebox\',\r\n                  options: {\r\n                      editable:false ,\r\n  " +
"                    onSelect:function(date)\r\n                      {\r\n          " +
"                var strPlanFinish=  $(this).datebox(\'getValue\');\r\n              " +
"            UpdateGridList(\"\",\"\",\"\",\"\",strPlanFinish,this);\r\n                   " +
"   }\r\n                  }\r\n              }\r\n          },\r\n          {\r\n\r\n       " +
"       title: \'阶段\', field: \'ProjPhaseIdsName\', width: 150, align: \'center\',rowsp" +
"an:2,hidden:true\r\n          },\r\n          {\r\n              title: \'阶段\', field: \'" +
"ProjPhaseIds\', width: 150, align: \'center\',rowspan:2, formatter: function (value" +
", row, index) {\r\n                  return JQ.tools.strGetValName(");

            
            #line 403 "..\..\Views\ProjectPW\info.cshtml"
                                           Write(Html.Raw(ViewData["ProjPhaseIds"]));

            
            #line default
            #line hidden
WriteLiteral(",\"value\",\"text\",\"0\",value,\",\",\"、\");\r\n              },\r\n              ");

WriteLiteral("\r\n              editor:{\r\n                  type:\"combogrid\",\r\n                  " +
"options: {\r\n                      editable:false ,\r\n                      panelW" +
"idth: \'670\',\r\n                      panelHeight: \'auto\',\r\n                      " +
"idField: \'PhaseId\',\r\n                      textField: \'PhaseName\',\r\n            " +
"          //data: initPhaseData(),\r\n                      pagination: true,\r\n   " +
"                   nowrap:false,//是否换行\r\n                      striped: true,\r\n  " +
"                    method: \'post\',\r\n                      singleSelect:false,\r\n" +
"                      multiple:true,\r\n                      required: true,\r\n   " +
"                   pagination: false,\r\n                      columns: [[\r\n      " +
"                     { field: \'ck\', align: \'center\', checkbox: true, JQIsExclude" +
": true },\r\n                            {\r\n                                title:" +
" \'阶段\', field: \'PhaseName\', width: 100, align: \'left\',\r\n                         " +
"       editor: {\r\n                                    type: \'lable\',\r\n          " +
"                          options:{required:true,editable:true}\r\n               " +
"                 }\r\n                            },\r\n                           {" +
"\r\n                               title: \'项目编号\', field: \'ProjNumber\', width: 100," +
" align: \'left\',\r\n                               editor: {\r\n                     " +
"              type: \'textbox\',\r\n                                   options:{\r\n  " +
"                                     required:true,\r\n                           " +
"            events:{\r\n                                           keyup:function(" +
")\r\n                                           {\r\n\r\n                             " +
"                  var strProjNumber= $(this).val();\r\n                           " +
"                    UpdateChildGridList(strProjNumber,\"\",\"\",\"\",\"\",this);\r\n      " +
"                                     }\r\n                                       }" +
"\r\n                                   }\r\n                               }\r\n      " +
"                     },\r\n                            {\r\n                        " +
"        title: \'项目名称\', field: \'ProjName\', width: 150, align: \'left\',\r\n          " +
"                      editor: {\r\n                                    type: \'text" +
"box\',\r\n                                    options:{\r\n                          " +
"              required:true,\r\n                                        events:{\r\n" +
"                                            keyup:function()\r\n                  " +
"                          {\r\n                                                var" +
" strProjName=  $(this).val();\r\n                                                U" +
"pdateChildGridList(\"\",strProjName,\"\",\"\",\"\",this);\r\n                             " +
"               }\r\n                                        }\r\n                   " +
"                 }\r\n\r\n                                }\r\n                       " +
"     },\r\n                             {\r\n                                 title:" +
" \'负责人\', field: \'ProjEmpId\', ReName:\'ReName1\', width: 80, align: \'center\',formatt" +
"er: function (value, row, index) {\r\n                                     row.Pro" +
"jEmpName=JQ.tools.strGetValName(");

            
            #line 476 "..\..\Views\ProjectPW\info.cshtml"
                                                                       Write(Html.Raw(ViewBag.Qualification));

            
            #line default
            #line hidden
WriteLiteral(@",""EmpID"",""EmpName"",""0"",value,"","",""。"");


                                     //row.ReName1 = row.ProjEmpName ;
                                     return  row.ProjEmpName;
                                 },
                                 editor: {
                                     type: 'combobox',
                                     options: {
                                         editable:true,
                                         required:true,
                                         data: ");

            
            #line 487 "..\..\Views\ProjectPW\info.cshtml"
                                          Write(Html.Raw(ViewBag.Qualification));

            
            #line default
            #line hidden
WriteLiteral(",\r\n                                         panelHeight: \'150\', valueField: \'EmpI" +
"D\', textField: \'EmpName\',\r\n                                         onSelect:fun" +
"ction(record)\r\n                                         {\r\n                     " +
"                        var strProjEmpID=  $(this).combobox(\'getValue\');\r\n      " +
"                                       UpdateChildGridList(\"\",\"\",strProjEmpID,\"\"" +
",\"\",this);\r\n                                         }\r\n                        " +
"             }\r\n                                 }\r\n                            " +
" },\r\n                            {\r\n                                title: \'计划开始" +
"时间\',  field: \'DatePlanStart\', width: 100, align: \'center\',formatter: JQ.tools.Da" +
"teTimeFormatterByT,\r\n                                editor: {\r\n                " +
"                    type: \'datebox\',\r\n                                    option" +
"s: {\r\n                                        editable:false ,\r\n                " +
"                        onSelect:function(date)\r\n                               " +
"         {\r\n                                            var strPlanStat=  $(this" +
").datebox(\'getValue\');\r\n                                            UpdateChildG" +
"ridList(\"\",\"\",\"\",strPlanStat,\"\",this);\r\n                                        " +
"}\r\n                                    }\r\n                                }\r\n   " +
"                         },\r\n                              {\r\n                  " +
"                title: \'计划完成时间\',  field: \'DatePlanFinish\', width: 100, align: \'c" +
"enter\', formatter: JQ.tools.DateTimeFormatterByT,\r\n                             " +
"     editor: {\r\n                                      type: \'datebox\',\r\n        " +
"                              options: {\r\n                                      " +
"    editable:false ,\r\n                                          onSelect:functio" +
"n(date)\r\n                                          {\r\n                          " +
"                    var strPlanFinish=  $(this).datebox(\'getValue\');\r\n          " +
"                                    UpdateGridList(\"\",\"\",\"\",\"\",strPlanFinish,thi" +
"s);\r\n                                          }\r\n                              " +
"        }\r\n                                  }\r\n                              }\r" +
"\n\r\n                      ]],\r\n                      onShowPanel: function () {\r\n" +
"                          var combobox=this;\r\n\r\n                          ComboO" +
"nShowPanel(combobox);\r\n                      }\r\n                  }\r\n           " +
"   }\r\n          },\r\n          //{\r\n          //    title: \'立项时间\', field: \'DateCr" +
"eate\', width: 100, align: \'center\',rowspan:2,formatter: JQ.tools.DateTimeFormatt" +
"erByTReturnNowDate,\r\n          //    editor: {\r\n          //        type: \'dateb" +
"ox\'\r\n          //    }\r\n          //},\r\n            {title:\'建设规模\',colspan:5},\r\n " +
"        {\r\n             title: \'投资额(元)\', field: \'ProjFee\', width: 100, align: \'l" +
"eft\',rowspan:2,\r\n             editor: {\r\n                 type: \'numberbox\',\r\n  " +
"               options:{\r\n                     precision:2\r\n                 }\r\n" +
"             }\r\n         },\r\n         {\r\n             title: \'子项内容说明\', field: \'P" +
"rojDemand\', width: 200, align: \'left\',rowspan:2,\r\n             editor: {\r\n\r\n    " +
"             type: \'textbox\',\r\n             }\r\n         },\r\n         {\r\n        " +
"     title: \'备注\', field: \'ProjNoteOther\', width: 200, align: \'left\',rowspan:2,\r\n" +
"             editor: {\r\n\r\n                 type: \'textbox\',\r\n                 //" +
"options:{required:true}\r\n             }\r\n         },\r\n            {\r\n           " +
"     title: \'ProjPhaseInfo\',  field: \'ProjPhaseInfo\', width: 100, align: \'center" +
"\',  hidden: true,rowspan:2,\r\n                editor: {\r\n                    type" +
": \'textbox\'\r\n                }\r\n            },\r\n            {\r\n                t" +
"itle: \'BridgeGuid\',  field: \'BridgeGuid\', hidden: true,rowspan:2,\r\n            }" +
",\r\n            {\r\n                title: \'IsQuote\',  field: \'IsQuote\', hidden: t" +
"rue,rowspan:2,\r\n            }\r\n\r\n            ],[\r\n\r\n          {\r\n              t" +
"itle: \'电压等级\', field: \'ProjVoltID\', width: 100, align: \'center\', formatter: funct" +
"ion (value, row, index) {\r\n                  return JQ.tools.strGetValName(");

            
            #line 583 "..\..\Views\ProjectPW\info.cshtml"
                                           Write(Html.Raw(ViewData["ProjectVoltIds"]));

            
            #line default
            #line hidden
WriteLiteral(",\"value\",\"text\",\"0\",value,\",\",\"、\");\r\n              },\r\n              editor: {\r\n " +
"                 type: \'combobox\',\r\n                  options: {\r\n              " +
"        required:true,\r\n                      editable:false ,\r\n                " +
"      data: ");

            
            #line 590 "..\..\Views\ProjectPW\info.cshtml"
                       Write(Html.Raw(ViewData["ProjectVoltIds"]));

            
            #line default
            #line hidden
WriteLiteral(@",//[{ ""value"": ""59"", ""text"": '可研' }, { ""value"": ""60"", ""text"": ""初设"" }],
                      panelHeight: 'auto', valueField: 'value', textField: 'text'
                  }
              }
          },
          {
              title: '回路数', field: 'ColAttType3', width: 100, align: 'center', formatter: function (value, row, index) {
                  return JQ.tools.strGetValName(");

            
            #line 597 "..\..\Views\ProjectPW\info.cshtml"
                                           Write(Html.Raw(ViewData["ProjCircuitsIds"]));

            
            #line default
            #line hidden
WriteLiteral(",\"value\",\"text\",\"0\",value,\",\",\"、\");\r\n              },\r\n              editor: {\r\n " +
"                 type: \'combobox\',\r\n                  options: {\r\n              " +
"        required:true,\r\n                      editable:false ,\r\n                " +
"      data: ");

            
            #line 604 "..\..\Views\ProjectPW\info.cshtml"
                       Write(Html.Raw(ViewData["ProjCircuitsIds"]));

            
            #line default
            #line hidden
WriteLiteral(",//[{ \"value\": \"59\", \"text\": \'可研\' }, { \"value\": \"60\", \"text\": \"初设\" }],\r\n         " +
"             panelHeight: \'auto\', valueField: \'value\', textField: \'text\'\r\n      " +
"            }\r\n              }\r\n          },\r\n          {\r\n              title: " +
"\'线路长度(km)\',  field: \'ColAttVal3\', width: 100, align: \'center\',\r\n              ed" +
"itor: {\r\n                  type: \'numberbox\',\r\n                  options:{\r\n    " +
"                  precision:2\r\n                  }\r\n              }\r\n          }" +
",\r\n          {\r\n              title: \'变压器容量(MVA)\',  field: \'ColAttVal4\', width: " +
"100, align: \'center\',\r\n              editor: {\r\n                  type: \'numberb" +
"ox\',\r\n                  options:{\r\n                      precision:2\r\n          " +
"        }\r\n              }\r\n          },\r\n          {\r\n              title: \'台数\'" +
",  field: \'ColAttVal5\', width: 100, align: \'center\',\r\n              editor: {\r\n " +
"                 type: \'numberbox\',\r\n                  options:{\r\n              " +
"        precision:2\r\n                  }\r\n              }\r\n          }\r\n        " +
"    ]],\r\n            onClickRow:function(rowIndex, rowData){\r\n                $(" +
"\"#ProjPhaseGrid\").datagrid(\"uncheckAll\");\r\n                $(\"#ProjPhaseGrid\").d" +
"atagrid(\"checkRow\",rowIndex);\r\n\r\n                //$(\"tr .datagrid-row-selected " +
"input[type=\'checkbox\'][name=\'ck\']\").attr(\"checked\",\"checked\")\r\n            }\r\n  " +
"      });\r\n        var Variety=  $(\"#Variety\").val();\r\n        if(Variety==1)\r\n " +
"       {\r\n            $(\"#btnInput\").removeAttr(\"style\");\r\n            $(\"#btnCh" +
"oice\").attr(\"style\", \"border: 1px solid #DDD;\tbackground-color: #F5F5F5; color:#" +
"ACA899\" );\r\n            $(\"#projId\").val(\"0\");\r\n        }\r\n        else{\r\n\r\n    " +
"        $(\"#btnChoice\").removeAttr(\"style\");\r\n            $(\"#btnInput\").attr(\"s" +
"tyle\", \"border: 1px solid #DDD;\tbackground-color: #F5F5F5; color:#ACA899\" );\r\n  " +
"          $(\"#projId\").val(\"0\");\r\n        }\r\n        $(\"#projId\").val(");

            
            #line 657 "..\..\Views\ProjectPW\info.cshtml"
                    Write(Model.Id);

            
            #line default
            #line hidden
WriteLiteral(");\r\n        $(\"#ProjEmpName\").val(\"");

            
            #line 658 "..\..\Views\ProjectPW\info.cshtml"
                           Write(Model.ProjEmpName);

            
            #line default
            #line hidden
WriteLiteral("\");\r\n    });\r\n\r\n    //成本表格-页面加载完毕后开始编辑状态\r\n    function TreeGridRowEdit(target, mo" +
"del) {\r\n        if (model.ModelIsType == 0)  //不是标题\r\n        {\r\n            if (" +
"model.ModelTempFee == 0) model.ModelTempFee = \"\";\r\n            if (model.ModelFa" +
"ctFee == 0) model.ModelFactFee = \"\";\r\n\r\n            $(target).treegrid(\"beginEdi" +
"t\", model.Id);\r\n\r\n            if (model.ModelIsSum == 1) {\r\n\r\n                $(" +
"$(target).treegrid(\"getEditor\", { id: model.Id, field: \"ModelTempFee\" }).target[" +
"0]).numberbox({\r\n                    onChange: function (newValue, oldValue) {\r\n" +
"                        CalculateCost(target, model, newValue, oldValue, \"ModelT" +
"empFee\");\r\n                    }\r\n                });\r\n\r\n                $($(tar" +
"get).treegrid(\"getEditor\", { id: model.Id, field: \"ModelFactFee\" }).target[0]).n" +
"umberbox({\r\n                    onChange: function (newValue, oldValue) {\r\n     " +
"                   CalculateCost(target, model, newValue, oldValue, \"ModelFactFe" +
"e\");\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    " +
"}\r\n\r\n    //成本表格-提交保存时关闭编辑状态\r\n    function TreeGridRowEditEnd() {\r\n\r\n        var " +
"gridRoots = $(\"#ProjCostGrid\").treegrid(\"getRoots\");\r\n\r\n        $.each(gridRoots" +
", function (i, n) {\r\n            $(\"#ProjCostGrid\").treegrid(\"endEdit\", n.Id);\r\n" +
"            var rowChildren = $(\"#ProjCostGrid\").treegrid(\"getChildren\", n.Id);\r" +
"\n\r\n            $.each(rowChildren, function (k, m) {\r\n                if (m.Mode" +
"lTempFee == \"\") m.ModelTempFee = 0;\r\n                if (m.ModelFactFee == \"\") m" +
".ModelFactFee = 0;\r\n                $(\"#ProjCostGrid\").treegrid(\"endEdit\", m.Id)" +
";\r\n\r\n            });\r\n        });\r\n\r\n        $(\"#HiddenData\").val(JSON.stringify" +
"($(\"#ProjCostGrid\").treegrid(\"getData\")));\r\n\r\n        $.each(gridRoots, function" +
" (i, n) {\r\n            TreeGridRowEdit(ProjCostGrid, n);\r\n            var rowChi" +
"ldren = $(ProjCostGrid).treegrid(\"getChildren\", n.Id);\r\n\r\n            $.each(row" +
"Children, function (k, m) {\r\n                TreeGridRowEdit(ProjCostGrid, m);\r\n" +
"            });\r\n        });\r\n\r\n    }\r\n\r\n\r\n    //成本表格-动态计算合计\r\n    function Calcu" +
"lateCost(target, model, newValue, oldValue, name) {\r\n        if (model.ParentId " +
"!= 0) {\r\n            var parentVal = $(target).treegrid(\"find\", model.ParentId)[" +
"name] || 0;\r\n            //var parentVal = $(target).treegrid(\"find\", model.Pare" +
"ntId).CostTempFee || 0;\r\n            var oldVal = oldValue || 0;\r\n            ne" +
"wValue=newValue||0;\r\n            var rowData = {};\r\n            var s=(isNaN(par" +
"seFloat(parentVal))==false?parseFloat(parentVal):0 )+(isNaN(parseFloat(newValue)" +
")==false?parseFloat(newValue):0)-(isNaN(parseFloat(oldVal))==false?parseFloat(ol" +
"dVal):0);\r\n            rowData[name] = s.toFixed(4);\r\n            $(target).tree" +
"grid(\'update\', {\r\n                id: model.ParentId,\r\n                row: rowD" +
"ata\r\n            });\r\n            CalculateCost(target, $(target).treegrid(\"find" +
"\", model.ParentId), newValue, oldValue, name);\r\n        }\r\n    }\r\n\r\n    //阶段表格-开" +
"始编辑状态\r\n    function EndEdit() {\r\n        var getRows = $(\"#ProjPhaseGrid\").datag" +
"rid(\"getRows\");\r\n        $.each(getRows, function (p, m) {\r\n            var phas" +
"egrid= $(\'#ProjPhaseGrid\').datagrid(\'getEditor\', {index:p,field:\'ProjPhaseIds\'})" +
".target.combogrid(\"grid\");\r\n            $.each(phasegrid.datagrid(\'getRows\'), fu" +
"nction (i, n) {\r\n                phasegrid.datagrid(\"endEdit\", i);\r\n            " +
"});\r\n            $(\"#ProjPhaseGrid\").datagrid(\"endEdit\", p);\r\n        });\r\n     " +
"   $(\"#HiddenProjPhaseGridData\").val(JSON.stringify($(\"#ProjPhaseGrid\").datagrid" +
"(\"getData\")[\"rows\"]));\r\n\r\n        $.each(getRows, function (i, n) {\r\n\r\n         " +
"   $(\"#ProjPhaseGrid\").datagrid(\"beginEdit\", i);\r\n            var combobox=$(\'#P" +
"rojPhaseGrid\').datagrid(\'getEditor\', {index:i,field:\'ProjPhaseIds\'}).target;\r\n\r\n" +
"            var  rowIndex =$(combobox).closest(\'tr.datagrid-row\').attr(\'datagrid" +
"-row-index\')\r\n            var grid=$(combobox).combogrid(\"grid\");\r\n\r\n           " +
" grid.datagrid(\"load\",{}); //清空grid\r\n            var rows=[];\r\n            var r" +
"owdata=$(\'#ProjPhaseGrid\').datagrid(\'getRows\')[rowIndex];\r\n            rows=JSON" +
".parse(rowdata.ProjPhaseInfo).rows;\r\n            grid.datagrid(\"loadData\",{ \'tot" +
"al\':rows.length,\'rows\':rows });\r\n        });\r\n    }\r\n\r\n\r\n    //阶段表格-添加行\r\n    fun" +
"ction Add(rowdata) {\r\n        var  t=0;\r\n        if (rowdata == null) {\r\n       " +
"     rowdata={\r\n                ProjFee:0, //默认值\r\n                ProjTypeID:\"\"\r" +
"\n            };\r\n            t=1;\r\n        }\r\n        debugger;\r\n        var row" +
"Index = $(\'#ProjPhaseGrid\').datagrid(\"getRows\").length || 0;\r\n        $(\'#ProjPh" +
"aseGrid\').datagrid(\'appendRow\', rowdata);\r\n        $(\'#ProjPhaseGrid\').datagrid(" +
"\'beginEdit\', rowIndex);\r\n        var _PhaseGrid=$(\'#ProjPhaseGrid\').datagrid(\'ge" +
"tEditor\', {index:rowIndex,field:\'ProjPhaseIds\'}).target;\r\n        var grid=_Phas" +
"eGrid.combogrid(\"grid\");\r\n        var rows=[];\r\n        var json=");

            
            #line 782 "..\..\Views\ProjectPW\info.cshtml"
            Write(Html.Raw(ViewData["ProjPhaseIds"]));

            
            #line default
            #line hidden
WriteLiteral(";\r\n        $.each(json, function(idx, obj) {\r\n            row={\r\n                " +
"PhaseId:obj.value,\r\n                PhaseName:obj.text,\r\n                ProjNum" +
"ber:t==1?\"\":rowdata.ProjNumber,\r\n                ProjName:t==1?\"\":rowdata.ProjNa" +
"me,\r\n                ProjEmpId:t==1?$(\"#strProjEmpId\").val():rowdata.ProjEmpId,\r" +
"\n                ProjEmpName: t==1?$(\"#strProjEmpName\").val():rowdata.ProjEmpNam" +
"e,\r\n                DatePlanStart: t==1?\"1900-01-01\":rowdata.DatePlanStart,\r\n   " +
"             DatePlanFinish:  t==1?\"1900-01-01\":rowdata.DatePlanFinish,\r\n       " +
"     };\r\n            rows.push(row);\r\n        });\r\n        grid.datagrid(\"loadDa" +
"ta\",{ \'total\':rows.length,\'rows\':rows });\r\n\r\n        var ProjNumber=$(\'#ProjPhas" +
"eGrid\').datagrid(\'getEditor\', {index:rowIndex,field:\'ProjNumber\'}).target.val();" +
"\r\n        var phaseRowData={\"ProjNumber\":ProjNumber,\"rows\":grid.datagrid(\"getDat" +
"a\")[\"rows\"]};\r\n\r\n        var _txtProjPhaseInfo=$(\'#ProjPhaseGrid\').datagrid(\'get" +
"Editor\', {index:rowIndex,field:\'ProjPhaseInfo\'}).target;\r\n        _txtProjPhaseI" +
"nfo.textbox(\'setValue\',JSON.stringify(phaseRowData));\r\n\r\n    }\r\n\r\n\r\n\r\n    functi" +
"on Del()\r\n    {\r\n        var row = $(\'#ProjPhaseGrid\').datagrid(\'getSelections\')" +
";\r\n        if (row.length==0) {\r\n            JQ.dialog.warning(\"请至少选择一项！！！\");\r\n " +
"           return;\r\n        }\r\n\r\n        JQ.dialog.confirm(\"你确定要删除吗？\", function " +
"() {\r\n            $.each(row,function (i,e) {\r\n                var _getIndex=$(\"" +
"#ProjPhaseGrid\").datagrid(\"getRowIndex\",e);\r\n                $(\'#ProjPhaseGrid\')" +
".datagrid(\'deleteRow\',_getIndex);\r\n            });\r\n        })\r\n    }\r\n\r\n\r\n    f" +
"unction SelectMainProject()\r\n    {\r\n        JQ.dialog.dialog({\r\n            titl" +
"e: \"选择项目信息\",\r\n            url: \'");

            
            #line 829 "..\..\Views\ProjectPW\info.cshtml"
             Write(Url.Action("MainListInfo", "Project", new { @area = "Project" }));

            
            #line default
            #line hidden
WriteLiteral(@"?TypeId=2',
            width: '1024',
            height: '100%',
            iconCls: 'fa fa-plus',
        });
    }

    var _ProjMainBack = function (projId) {
        $(""#projId"").val(projId);

        if( $(""#strMainId"").val()>0)
        {
            $(""#strMainId"").val(projId);
        }
        $(""#ProjNumber"").textbox({editable:false});
        $(""#ProjName"").textbox({editable:false});

        $(""#btnChoice"").removeAttr(""style"");
        $(""#btnInput"").attr(""style"", ""border: 1px solid #DDD;	background-color: #F5F5F5; color:#ACA899"" );

        $.ajax({
            url: '");

            
            #line 850 "..\..\Views\ProjectPW\info.cshtml"
             Write(Url.Action("GetJsonByProject", "Project", new { @area = "Project" }));

            
            #line default
            #line hidden
WriteLiteral("?Id=\'+projId,\r\n            type: \"POST\",\r\n            success: function (result) " +
"{\r\n                var obj=JSON.parse(result)\r\n\r\n                $(\"#ProjNumber\"" +
").textbox(\'setValue\',obj.ProjNumber);\r\n                $(\"#ProjName\").textbox(\'s" +
"etValue\',obj.ProjName);\r\n\r\n                if(obj.ProjEmpId!=\"0\")  $(\"#ProjEmpId" +
"\").combobox(\'setValue\',obj.ProjEmpId);\r\n                if(obj.ProjTypeID!=\"0\") " +
"  $(\"#ProjTypeID\").combotree(\'setValue\',obj.ProjTypeID);\r\n\r\n                if(o" +
"bj.ProjPropertyID!=\"0\")  $(\"#ProjPropertyID\").combotree(\'setValue\',obj.ProjPrope" +
"rtyID);\r\n                if(obj.ProjVoltID!=\"0\")   $(\"#ProjVoltID\").combotree(\'s" +
"etValue\',obj.ProjVoltID);\r\n                if(obj.ColAttType2!=\"0\")   $(\"#ColAtt" +
"Type2\").combotree(\'setValue\',obj.ColAttType2);\r\n                if(obj.ProjAreaI" +
"D!=\"0\")  $(\"#ProjAreaID\").combotree(\'setValue\',obj.ProjAreaID);\r\n               " +
" if(obj.ColAttType1!=\"0\")  $(\"#ColAttType1\").combotree(\'setValue\',obj.ColAttType" +
"1);\r\n                if(obj.ColAttType4!=\"0\")  $(\"#ColAttType4\").combotree(\'setV" +
"alue\',obj.ColAttType4);\r\n\r\n                $(\"#TaskBasisName\").textbox(\'setValue" +
"\',obj.TaskBasisName);\r\n                $(\"#TaskBasisNumber\").textbox(\'setValue\'," +
"obj.TaskBasisNumber);\r\n\r\n                $(\"#CustID\").combobox(\"setValue\",obj.Cu" +
"stId);\r\n                $(\"#CustID\").combobox(\"setText\",obj.CustName);\r\n        " +
"        $(\"#CustName\").val(obj.CustName);\r\n                $(\"#CustLinkId\").comb" +
"obox(\"setText\",obj.CustLinkMan);\r\n                $(\"#CustLinkTel\").textbox(\"set" +
"Value\",obj.CustLinkTel);\r\n                $(\"#CustLinkWeb\").textbox(\"setValue\",o" +
"bj.CustLinkWeb);\r\n\r\n                if(obj.ProjTaskSource!=\"0\")  $(\"#ProjTaskSou" +
"rce\").combotree(\'setValue\',obj.ProjTaskSource);\r\n                if(obj.ProjDepI" +
"d!=\"0\") $(\"#ProjDepId\").combotree(\'setValue\',obj.ProjDepId);\r\n                if" +
"(obj.ProjJoinDepIds!=\"0\") {\r\n                    $(\"#ProjJoinDepIds\").combotree(" +
"\'setValues\',obj.ProjJoinDepIds);\r\n                }\r\n\r\n                $(\"#Creat" +
"orEmpName\").textbox(\'setText\',obj.CreatorEmpName);\r\n                $(\"#DateCrea" +
"te\").datebox(\'setValue\',obj.DateCreate);\r\n                $(\"#DatePlanStart\").da" +
"tebox(\'setValue\',obj.DatePlanStart);\r\n                $(\"#DatePlanFinish\").dateb" +
"ox(\'setValue\',obj.DatePlanFinish);\r\n\r\n                $(\"#ProjTaskContent\").text" +
"box(\'setValue\',obj.ProjTaskContent);\r\n                $(\"#ProjFeeSource\").textbo" +
"x(\'setValue\',obj.ProjFeeSource);\r\n                $(\"#DatePlanDeliver\").datebox(" +
"\'setValue\',obj.DatePlanDeliver);\r\n                $(\"#ColAttVal1\").textbox(\'setV" +
"alue\',obj.ColAttVal1);\r\n                $(\"#ProjDemand\").textbox(\'setValue\',obj." +
"ProjDemand);\r\n                $(\"#ProjNoteOther\").textbox(\'setValue\',obj.ProjNot" +
"eOther);\r\n\r\n                reloadTreeGrid(projId);\r\n            }\r\n        });\r" +
"\n\r\n    }\r\n\r\n    function SelectCustomProject()\r\n    {\r\n        $(\"#ProjNumber\")." +
"textbox(\'setText\',\'\');\r\n        $(\"#ProjName\").textbox(\'setText\',\'\');\r\n\r\n       " +
" $(\"#ProjNumber\").textbox({editable:true});\r\n        $(\"#ProjName\").textbox({edi" +
"table:true});\r\n\r\n        $(\"#btnChoice\").attr(\"style\", \"border: 1px solid #DDD;\t" +
"background-color: #F5F5F5; color:#ACA899\" );\r\n        $(\"#btnInput\").removeAttr(" +
"\"style\");\r\n        $(\"#projId\").val(\"0\");\r\n        reloadTreeGrid(0);\r\n    }\r\n\r\n" +
"    function reloadTreeGrid(projid)\r\n    {\r\n        //成本表格\r\n        JQ.treegrid." +
"treegrid({\r\n            //JQPrimaryID: \'Id\',//主键的字段\r\n            idField: \'Id\',\r" +
"\n            fit: false,\r\n            pagination: false,\r\n            treeField:" +
" \'ModelName\',\r\n            JQID: \'ProjCostGrid\',//数据表格ID\r\n            JQLoadingT" +
"ype: \'treegrid\',//数据表格类型 [datagrid,treegrid]\r\n            url: \'");

            
            #line 927 "..\..\Views\ProjectPW\info.cshtml"
             Write(Url.Action("GetCostList", "Project",new { @area="Project"}));

            
            #line default
            #line hidden
WriteLiteral("?projId=\'+projid,//请求的地址\r\n            checkOnSelect: false,//是否包含check\r\n         " +
"   columns: [[\r\n                { title: \'成本项\', field: \'ModelName\', width: 420, " +
"align: \'left\' },\r\n                { title: \'预估金额(元)\', field: \'ModelTempFee\', wid" +
"th: 150, align: \'left\',  //formatter:function(value,row,index){if(value==\"\") ret" +
"urn 0;else return value;},\r\n                    editor: {\r\n                     " +
"   type: \"numberbox\",\r\n                        options:{\r\n                      " +
"      precision:2\r\n                        }\r\n                    }\r\n           " +
"     },\r\n                {\r\n                    title: \'实际金额(元)\', field: \'ModelF" +
"actFee\', width: 150, align: \'left\', //formatter:function(value,row,index){if(val" +
"ue==\"\") return 0;else return value;},\r\n                    editor: {\r\n          " +
"              type: \"numberbox\",\r\n                        options:{\r\n           " +
"                 precision:2\r\n                        }\r\n                    }\r\n" +
"                }\r\n            ]]\r\n\r\n        });\r\n    }\r\n\r\n    function UpdateGr" +
"idList(strProjNumber,strProjName,strProjEmpID,strPlanStat,strPlanFinish,obj)\r\n  " +
"  {\r\n\r\n        var  rowIndex =$(obj).closest(\'tr.datagrid-row\').attr(\'datagrid-r" +
"ow-index\');\r\n        var _ProjPhaseInfo=$(\'#ProjPhaseGrid\').datagrid(\'getEditor\'" +
", {index:rowIndex,field:\'ProjPhaseInfo\'}).target;\r\n        var _PhaseJson=_ProjP" +
"haseInfo.val();\r\n\r\n        var strProjEmpName=\"\";\r\n        if(strProjEmpID!=\"\")\r" +
"\n        {\r\n            strProjEmpName  =$(\'#ProjPhaseGrid\').datagrid(\'getEditor" +
"\', {index:rowIndex,field:\'ProjEmpId\'}).target.combobox(\'getText\');\r\n        }\r\n " +
"       var rows=[];\r\n        rows=JSON.parse(_PhaseJson).rows;\r\n        $.each(r" +
"ows,function(idx,obj)\r\n        {\r\n\r\n            obj.ProjNumber=strProjNumber==\"\"" +
"?obj.ProjNumber:strProjNumber;\r\n            obj.ProjName=strProjName==\"\"?obj.Pro" +
"jName:strProjName;;\r\n            obj.ProjEmpId=strProjEmpID==\"\"?obj.ProjEmpId:st" +
"rProjEmpID;\r\n            obj.DatePlanStart=strPlanStat==\"\"?obj.DatePlanStart:str" +
"PlanStat;;\r\n            obj.DatePlanFinish=strPlanFinish==\"\"?obj.DatePlanFinish:" +
"strPlanFinish;\r\n            obj.ProjEmpName=strProjEmpName==\"\"?obj.ProjEmpName:s" +
"trProjEmpName;\r\n        });\r\n        var _ProjNumber=strProjNumber==\"\"?$(\'#ProjP" +
"haseGrid\').datagrid(\'getEditor\', {index:rowIndex,field:\'ProjNumber\'}).target.val" +
"():strProjNumber;\r\n        var phaseRowData={\"ProjNumber\":_ProjNumber,\"rows\":row" +
"s};\r\n\r\n        _ProjPhaseInfo.textbox(\'setValue\',JSON.stringify(phaseRowData));\r" +
"\n\r\n\r\n    }\r\n    function UpdateChildGridList(strProjNumber,strProjName,strProjEm" +
"pID,strPlanStat,strPlanFinish,obj)\r\n    {\r\n        var _fatherRowIndex=$(\"#strRo" +
"wIndex\").val();\r\n\r\n        var _fatherProjPhaseInfo=$(\'#ProjPhaseGrid\').datagrid" +
"(\'getEditor\', {index:_fatherRowIndex,field:\'ProjPhaseInfo\'}).target;\r\n\r\n        " +
"var _fatherPhaseGrid=$(\'#ProjPhaseGrid\').datagrid(\'getEditor\', {index:_fatherRow" +
"Index,field:\'ProjPhaseIds\'}).target;\r\n        var grid=_fatherPhaseGrid.combogri" +
"d(\"grid\");\r\n\r\n        var  rowIndex =$(obj).closest(\'tr.datagrid-row\').attr(\'dat" +
"agrid-row-index\')\r\n        var _fatherPhaseJson=_fatherProjPhaseInfo.val();\r\n\r\n " +
"       var _ChildProjNumber=strProjNumber==\"\"?grid.datagrid(\'getEditor\', {index:" +
"rowIndex,field:\'ProjNumber\'}).target.val():strProjNumber;\r\n        var _ChildPro" +
"jName=strProjName==\"\"?grid.datagrid(\'getEditor\', {index:rowIndex,field:\'ProjName" +
"\'}).target.val():strProjName;\r\n        var _ChildDatePlanStart=strPlanStat==\"\"?g" +
"rid.datagrid(\'getEditor\', {index:rowIndex,field:\'DatePlanStart\'}).target.datebox" +
"(\'getValue\'):strPlanStat;\r\n        var _ChildDatePlanFinish=strPlanFinish==\"\"?gr" +
"id.datagrid(\'getEditor\', {index:rowIndex,field:\'DatePlanFinish\'}).target.datebox" +
"(\'getValue\'):strPlanFinish;\r\n\r\n        var _ChildProjEmpId=strProjEmpID==\"\"?grid" +
".datagrid(\'getEditor\', {index:rowIndex,field:\'ProjEmpId\'}).target.combobox(\'getV" +
"alue\'):strProjEmpID;\r\n        var _ChikdProjEmpName=grid.datagrid(\'getEditor\', {" +
"index:rowIndex,field:\'ProjEmpId\'}).target.combobox(\'getText\');\r\n\r\n        var ro" +
"ws=[];\r\n        rows=JSON.parse(_fatherPhaseJson).rows;\r\n        $.each(rows,fun" +
"ction(idx,obj)\r\n        {\r\n            if(idx==rowIndex)\r\n            {\r\n       " +
"         obj.ProjNumber=_ChildProjNumber;\r\n                obj.ProjName=_ChildPr" +
"ojName;\r\n                obj.ProjEmpId=_ChildProjEmpId;\r\n                obj.Dat" +
"ePlanStart=_ChildDatePlanStart;\r\n                obj.DatePlanFinish=_ChildDatePl" +
"anFinish;\r\n                obj.ProjEmpName=_ChikdProjEmpName;\r\n            }\r\n  " +
"      });\r\n        var ProjNumber=$(\'#ProjPhaseGrid\').datagrid(\'getEditor\', {ind" +
"ex:_fatherRowIndex,field:\'ProjNumber\'}).target.val();\r\n        var phaseRowData=" +
"{\"ProjNumber\":ProjNumber,\"rows\":rows};\r\n        _fatherProjPhaseInfo.textbox(\'se" +
"tValue\',JSON.stringify(phaseRowData));\r\n    }\r\n    function ComboOnShowPanel(com" +
"bobox)\r\n    {\r\n\r\n        var  rowIndex =$(combobox).closest(\'tr.datagrid-row\').a" +
"ttr(\'datagrid-row-index\');\r\n        $(\"#strRowIndex\").val(rowIndex);\r\n        va" +
"r grid=$(combobox).combogrid(\"grid\");\r\n        grid.datagrid(\"load\",{}); //清空gri" +
"d\r\n\r\n        var _ProjNumber=$(\'#ProjPhaseGrid\').datagrid(\'getEditor\', {index:ro" +
"wIndex,field:\'ProjNumber\'}).target.val();\r\n        var _ProjName=$(\'#ProjPhaseGr" +
"id\').datagrid(\'getEditor\', {index:rowIndex,field:\'ProjName\'}).target.val();\r\n   " +
"     var _ProjEmpId=$(\'#ProjPhaseGrid\').datagrid(\'getEditor\', {index:rowIndex,fi" +
"eld:\'ProjEmpId\'}).target.combobox(\'getValue\');\r\n        var _DatePlanStart=$(\'#P" +
"rojPhaseGrid\').datagrid(\'getEditor\', {index:rowIndex,field:\'DatePlanStart\'}).tar" +
"get.datebox(\'getValue\');\r\n        var _DatePlanFinish=$(\'#ProjPhaseGrid\').datagr" +
"id(\'getEditor\', {index:rowIndex,field:\'DatePlanFinish\'}).target.datebox(\'getValu" +
"e\');\r\n\r\n        if(_ProjNumber==\"\"||_ProjName==\"\"||_ProjEmpId==\"\")\r\n        {\r\n " +
"           $(combobox).combo(\'hidePanel\');\r\n            JQ.dialog.info(\"请填写编号、名称" +
"、负责人后，再选择阶段\");\r\n            return ;\r\n        }\r\n\r\n        var _ProjPhaseInfo=$(" +
"\'#ProjPhaseGrid\').datagrid(\'getEditor\', {index:rowIndex,field:\'ProjPhaseInfo\'})." +
"target;\r\n        var _PhaseJson=_ProjPhaseInfo.val();\r\n\r\n        var rows=[];\r\n " +
"       rows=JSON.parse(_PhaseJson).rows;\r\n        grid.datagrid(\"loadData\",{ \'to" +
"tal\':rows.length,\'rows\':rows });\r\n\r\n        var getRows =grid.datagrid(\"getRows\"" +
");\r\n        $.each(getRows, function (i, n) {\r\n            grid.datagrid(\"beginE" +
"dit\", i);\r\n        });\r\n    }\r\n</script>\r\n");

            
            #line 1056 "..\..\Views\ProjectPW\info.cshtml"
 using (Html.BeginForm("save", "ProjectPW", FormMethod.Post, new { @area = "Project", @id = "ProjectFormPW" }))
{
    
            
            #line default
            #line hidden
            
            #line 1058 "..\..\Views\ProjectPW\info.cshtml"
Write(Html.HiddenFor(m => m.Id));

            
            #line default
            #line hidden
            
            #line 1058 "..\..\Views\ProjectPW\info.cshtml"
                              

            
            #line default
            #line hidden
WriteLiteral("    <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"CompanyType\"");

WriteLiteral(" name=\"CompanyType\"");

WriteLiteral(" value=\"FGS\"");

WriteLiteral(" />\r\n");

WriteLiteral("    <table");

WriteLiteral(" class=\"table table-bordered\"");

WriteLiteral(">\r\n\r\n        <div");

WriteLiteral(" style=\"width:100%;text-align:center;font-size:20px;font-weight:bold;\"");

WriteLiteral(">\r\n            <a>配网项目任务书</a>\r\n        </div>\r\n        <div");

WriteLiteral(" style=\"float:right;margin-right:20px;margin-top:20px;\"");

WriteLiteral(">\r\n            ");

WriteLiteral("\r\n        </div>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(" rowspan=\"2\"");

WriteLiteral(">项目编号</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(" rowspan=\"2\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" name=\"ProjNumber\"");

WriteLiteral(" id=\"ProjNumber\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" missingMessage=\"请输入项目编号\"");

WriteLiteral(" required=\"true\"");

WriteAttribute("value", Tuple.Create(" value=\"", 47225), Tuple.Create("\"", 47250)
            
            #line 1071 "..\..\Views\ProjectPW\info.cshtml"
                                                                  , Tuple.Create(Tuple.Create("", 47233), Tuple.Create<System.Object, System.Int32>(Model.ProjNumber
            
            #line default
            #line hidden
, 47233), false)
);

WriteLiteral(" />\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(" rowspan=\"2\"");

WriteLiteral(">项目名称</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" name=\"ProjName\"");

WriteLiteral(" id=\"ProjName\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" validtype=\"length[0,200]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 47476), Tuple.Create("\"", 47499)
            
            #line 1075 "..\..\Views\ProjectPW\info.cshtml"
                                               , Tuple.Create(Tuple.Create("", 47484), Tuple.Create<System.Object, System.Int32>(Model.ProjName
            
            #line default
            #line hidden
, 47484), false)
);

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td>\r\n          " +
"      <div");

WriteLiteral(" id=\"div_btns\"");

WriteLiteral(">\r\n                    <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" name=\"btnChoice\"");

WriteLiteral(" id=\"btnChoice\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-minus-circle\'\"");

WriteLiteral(" onclick=\"SelectMainProject()\"");

WriteLiteral(">选择项目</a>\r\n                    <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" name=\"btnInput\"");

WriteLiteral(" id=\"btnInput\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-minus-circle\'\"");

WriteLiteral(" onclick=\"SelectCustomProject()\"");

WriteLiteral(">自定义输入项</a>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n\r\n        " +
"<tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">项目负责人</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"ProjEmpId\"");

WriteLiteral(" name=\"ProjEmpId\"");

WriteLiteral(" class=\"easyui-combobox\"");

WriteAttribute("value", Tuple.Create(" value=\"", 48184), Tuple.Create("\"", 48208)
            
            #line 1090 "..\..\Views\ProjectPW\info.cshtml"
     , Tuple.Create(Tuple.Create("", 48192), Tuple.Create<System.Object, System.Int32>(Model.ProjEmpId
            
            #line default
            #line hidden
, 48192), false)
);

WriteLiteral(" />\r\n                <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"ProjEmpName\"");

WriteLiteral(" name=\"ProjEmpName\"");

WriteLiteral(" />\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">项目类型</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n");

WriteLiteral("                ");

            
            #line 1095 "..\..\Views\ProjectPW\info.cshtml"
           Write(BaseData.getBase(new Params()
           {
               controlName = "ProjTypeID",
               isRequired = true,
               engName = "ProjectType",
               width = "98%",
               isVerify = true,
               typeId = "2",
               ids = Model.ProjTypeID.ToString()
           }));

            
            #line default
            #line hidden
WriteLiteral("\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">项目性质</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n");

WriteLiteral("                ");

            
            #line 1110 "..\..\Views\ProjectPW\info.cshtml"
           Write(BaseData.getBase(new Params()
           {
               controlName = "ProjPropertyID",
               //isRequired = true,
               engName = "ProjProperty",
               width = "98%",
               ids = Model.ProjPropertyID.ToString()
           }));

            
            #line default
            #line hidden
WriteLiteral("\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">电压等级</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n");

WriteLiteral("                ");

            
            #line 1121 "..\..\Views\ProjectPW\info.cshtml"
           Write(BaseData.getBase(new Params()
           {
               controlName = "ProjVoltID",
               //isRequired = true,
               engName = "ProjectVolt",
               width = "98%",
               ids = Model.ProjVoltID.ToString()
           }));

            
            #line default
            #line hidden
WriteLiteral("\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">任务类型</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" style=\"float:left\"");

WriteLiteral(">\r\n");

WriteLiteral("                    ");

            
            #line 1135 "..\..\Views\ProjectPW\info.cshtml"
                Write(BaseData.getBase(new Params()
                {
                    controlName = "ColAttType2",
                    isRequired = true,
                    engName = "ProjectTask",
                    width = "120px",
                    ids = Model.ColAttType2.ToString()
                }));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </div>\r\n                <div");

WriteLiteral(" style=\"float:left;line-height:26px\"");

WriteLiteral(">区域：</div>\r\n                <div");

WriteLiteral(" style=\"float:left\"");

WriteLiteral(">\r\n");

WriteLiteral("                    ");

            
            #line 1146 "..\..\Views\ProjectPW\info.cshtml"
                Write(BaseData.getBase(new Params()
                {
                    controlName = "ProjAreaID",
                    //isRequired = true,
                    engName = "ProjectArea",
                    width = "120px",
                    ids = Model.ProjAreaID.ToString()
                }));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </div>\r\n\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">任务形式</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" style=\"float:left\"");

WriteLiteral(">\r\n");

WriteLiteral("                    ");

            
            #line 1160 "..\..\Views\ProjectPW\info.cshtml"
                Write(BaseData.getBase(new Params()
                {
                    controlName = "ColAttType1",
                    //isRequired = true,
                    engName = "TaskType",
                    width = "120px",
                    ids = Model.ColAttType1.ToString()
                }));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </div>\r\n                <div");

WriteLiteral(" style=\"float:left;line-height:26px\"");

WriteLiteral(">紧急程度：</div>\r\n                <div");

WriteLiteral(" style=\"float:left;\"");

WriteLiteral(">\r\n");

WriteLiteral("                    ");

            
            #line 1171 "..\..\Views\ProjectPW\info.cshtml"
                Write(BaseData.getBase(new Params()
                {
                    controlName = "ColAttType4",
                    //isRequired = true,
                    engName = "ProjectUrgency",
                    width = "120px",
                    ids = Model.ColAttType4.ToString()
                }));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </div>\r\n\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n   " +
"         <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">任务依据</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral("><input");

WriteLiteral(" name=\"TaskBasisName\"");

WriteLiteral(" id=\"TaskBasisName\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" validtype=\"length[0,100]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 51633), Tuple.Create("\"", 51661)
            
            #line 1186 "..\..\Views\ProjectPW\info.cshtml"
                                                                     , Tuple.Create(Tuple.Create("", 51641), Tuple.Create<System.Object, System.Int32>(Model.TaskBasisName
            
            #line default
            #line hidden
, 51641), false)
);

WriteLiteral(" /></td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">依据编号</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral("><input");

WriteLiteral(" name=\"TaskBasisNumber\"");

WriteLiteral(" id=\"TaskBasisNumber\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" validtype=\"length[0,100]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 51857), Tuple.Create("\"", 51887)
            
            #line 1188 "..\..\Views\ProjectPW\info.cshtml"
                                                                         , Tuple.Create(Tuple.Create("", 51865), Tuple.Create<System.Object, System.Int32>(Model.TaskBasisNumber
            
            #line default
            #line hidden
, 51865), false)
);

WriteLiteral(" /></td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">客户单位</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"CustID\"");

WriteLiteral(" name=\"CustID\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" />\r\n                <input");

WriteLiteral(" id=\"CustName\"");

WriteLiteral(" name=\"CustName\"");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" isFirst=\"0\"");

WriteAttribute("value", Tuple.Create(" value=\"", 52158), Tuple.Create("\"", 52181)
            
            #line 1194 "..\..\Views\ProjectPW\info.cshtml"
     , Tuple.Create(Tuple.Create("", 52166), Tuple.Create<System.Object, System.Int32>(Model.CustName
            
            #line default
            #line hidden
, 52166), false)
);

WriteLiteral(" />\r\n                <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n                    $(function () {\r\n                        $(\"#CustID\").comb" +
"obox({\r\n                            url: \'");

            
            #line 1198 "..\..\Views\ProjectPW\info.cshtml"
                             Write(Url.Action("GetCustomerListComboboxWithCount", "BussCustomer", new { @area = "Bussiness" }));

            
            #line default
            #line hidden
WriteLiteral(@"?TopCount=10',
                            valueField: 'Id',
                            textField: 'CustName',
                            mode:'remote',
                            onBeforeLoad:function (param) {
                                if ($(""#CustName"").attr(""isFirst"")==""0"") {
                                    param.q=$(""#CustName"").val();
                                }
                            },
                            onLoadSuccess:function () {
                                if ($(""#CustID"").combobox(""getText"")==""""&&$(""#CustName"").attr(""isFirst"")==""0"") {
                                    $(""#CustID"").combobox(""setText"",$(""#CustName"").val());
                                    $(""#CustName"").attr(""isFirst"",""1"");
                                }
                            },
                            onHidePanel:function(){
                                $(""#CustLinkId"").combobox(""setValue"","""");
                                $(""#CustLinkTel"").textbox(""setValue"","""");
                                $(""#CustLinkWeb"").textbox(""setValue"","""");
                                var custid=$(""#CustID"").combobox(""getValue"");
                                if(isNaN(custid)){
                                    custid=-1;
                                    url='");

            
            #line 1220 "..\..\Views\ProjectPW\info.cshtml"
                                    Write(Url.Action("getLinkManCombobox", "BussCustomerLinkMan", new { @area = "Bussiness" }));

            
            #line default
            #line hidden
WriteLiteral("?CustID=\'+custid;\r\n                                }else{\r\n                      " +
"              url=\'");

            
            #line 1222 "..\..\Views\ProjectPW\info.cshtml"
                                    Write(Url.Action("getLinkManCombobox", "BussCustomerLinkMan", new { @area = "Bussiness" }));

            
            #line default
            #line hidden
WriteLiteral(@"?CustID='+custid;
                                }
                                //加载联系人
                                $(""#CustLinkId"").combobox({
                                    url:url,
                                    valueField: 'Id',
                                    textField: 'CustLinkManName',
                                    editable:true,
                                    onLoadSuccess:function () {
                                        var data= $(this).combobox(""getData"");
                                        if (data.length>0) {
                                            $(this).combobox(""setValue"",data[0].Id);
                                            $(""#CustLinkTel"").textbox(""setValue"",data[0].linkTel);
                                            $(""#CustLinkWeb"").textbox(""setValue"",data[0].linkWeb);
                                        }
                                    },
                                    onSelect:function (item) {
                                        //加载联系人
                                        $(""#CustLinkTel"").textbox(""setValue"",item.linkTel);
                                        $(""#CustLinkWeb"").textbox(""setValue"",item.linkWeb);
                                    }
                                })
                            }
                        })

                    })
                </script>
                ");

WriteLiteral("\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>联系人</th>\r\n     " +
"       <td>\r\n                <input");

WriteLiteral(" id=\"CustLinkId\"");

WriteLiteral(" name=\"CustLinkId\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" />\r\n                <input");

WriteLiteral(" id=\"CustLinkMan\"");

WriteLiteral(" name=\"CustLinkMan\"");

WriteLiteral(" type=\"hidden\"");

WriteAttribute("value", Tuple.Create(" value=\"", 56137), Tuple.Create("\"", 56163)
            
            #line 1259 "..\..\Views\ProjectPW\info.cshtml"
, Tuple.Create(Tuple.Create("", 56145), Tuple.Create<System.Object, System.Int32>(Model.CustLinkMan
            
            #line default
            #line hidden
, 56145), false)
);

WriteLiteral(">\r\n                <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n                    $(function () {\r\n                        $(\"#CustLinkId\")." +
"combobox({\r\n                            url: \'");

            
            #line 1263 "..\..\Views\ProjectPW\info.cshtml"
                             Write(Url.Action("getLinkManCombobox", "BussCustomerLinkMan", new { @area = "Bussiness" }));

            
            #line default
            #line hidden
WriteLiteral("?CustID=");

            
            #line 1263 "..\..\Views\ProjectPW\info.cshtml"
                                                                                                                          Write(Model.CustID);

            
            #line default
            #line hidden
WriteLiteral(@"',
                            valueField: 'Id',
                            textField: 'CustLinkManName',
                            onSelect:function (item) {
                                //加载联系人
                                $(""#CustLinkTel"").textbox(""setValue"",item.linkTel);
                                $(""#CustLinkWeb"").textbox(""setValue"",item.linkWeb);
                            },
                            filter:function (q, row) {
                                $(""#CustLinkTel"").textbox(""setValue"","""");
                                $(""#CustLinkWeb"").textbox(""setValue"","""");
                                return true;
                            },
                            onLoadSuccess:function () {
                                $(""#CustLinkId"").combobox(""setText"",$(""#CustLinkMan"").val());
                            },
                        })

                    })
                </script>
            </td>
            <th>联系电话</th>
            <td>
                <input");

WriteLiteral(" id=\"CustLinkTel\"");

WriteLiteral(" name=\"CustLinkTel\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" validType=\"length[0,100]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 57594), Tuple.Create("\"", 57620)
            
            #line 1286 "..\..\Views\ProjectPW\info.cshtml"
                                                     , Tuple.Create(Tuple.Create("", 57602), Tuple.Create<System.Object, System.Int32>(Model.CustLinkTel
            
            #line default
            #line hidden
, 57602), false)
);

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>邮箱</th>\r\n   " +
"         <td>\r\n                <input");

WriteLiteral(" id=\"CustLinkWeb\"");

WriteLiteral(" name=\"CustLinkWeb\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" validType=\"length[0,100]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 57843), Tuple.Create("\"", 57869)
            
            #line 1292 "..\..\Views\ProjectPW\info.cshtml"
                                                     , Tuple.Create(Tuple.Create("", 57851), Tuple.Create<System.Object, System.Int32>(Model.CustLinkWeb
            
            #line default
            #line hidden
, 57851), false)
);

WriteLiteral(" />\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">任务来源</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n");

WriteLiteral("                ");

            
            #line 1296 "..\..\Views\ProjectPW\info.cshtml"
           Write(BaseData.getBase(new Params()
           {
               controlName = "ProjTaskSource",
               // isRequired = true,
               engName = "ProjTaskSource",
               width = "98%",
               ids = Model.ProjTaskSource.ToString()
           }));

            
            #line default
            #line hidden
WriteLiteral("\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">主办部门</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n");

WriteLiteral("                ");

            
            #line 1309 "..\..\Views\ProjectPW\info.cshtml"
           Write(BaseData.getBase(new Params()
           {
               controlName = "ProjDepId",
               isRequired = true,
               engName = "department",
               width = "98%",
               ids = Model.ProjDepId.ToString()
           }));

            
            #line default
            #line hidden
WriteLiteral("\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">协办部门</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n");

WriteLiteral("                ");

            
            #line 1320 "..\..\Views\ProjectPW\info.cshtml"
           Write(BaseData.getBase(new Params()
           {
               isMult = true,
               controlName = "ProjJoinDepIds",
               isRequired = true,
               engName = "department",
               width = "98%",
               ids = Model.ProjJoinDepIds.ToString()
           }));

            
            #line default
            #line hidden
WriteLiteral("\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">计划编制人</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral("><input");

WriteLiteral(" name=\"CreatorEmpName\"");

WriteLiteral(" id=\"CreatorEmpName\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"editable:false\"");

WriteLiteral(" validtype=\"length[0,100]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 59313), Tuple.Create("\"", 59342)
            
            #line 1333 "..\..\Views\ProjectPW\info.cshtml"
                                                                                                     , Tuple.Create(Tuple.Create("", 59321), Tuple.Create<System.Object, System.Int32>(Model.CreatorEmpName
            
            #line default
            #line hidden
, 59321), false)
);

WriteLiteral(" /></td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">下达时间</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral("><input");

WriteLiteral(" name=\"DateCreate\"");

WriteLiteral(" id=\"DateCreate\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" data-options=\"editable:false\"");

WriteLiteral(" validtype=\"length[0,23]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 59557), Tuple.Create("\"", 59582)
            
            #line 1335 "..\..\Views\ProjectPW\info.cshtml"
                                                                                            , Tuple.Create(Tuple.Create("", 59565), Tuple.Create<System.Object, System.Int32>(Model.DateCreate
            
            #line default
            #line hidden
, 59565), false)
);

WriteLiteral(" /></td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">计划开始</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral("><input");

WriteLiteral(" name=\"DatePlanStart\"");

WriteLiteral(" id=\"DatePlanStart\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" data-options=\"editable:false\"");

WriteLiteral(" validtype=\"length[0,23]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 59832), Tuple.Create("\"", 59860)
            
            #line 1339 "..\..\Views\ProjectPW\info.cshtml"
                                                                                                  , Tuple.Create(Tuple.Create("", 59840), Tuple.Create<System.Object, System.Int32>(Model.DatePlanStart
            
            #line default
            #line hidden
, 59840), false)
);

WriteLiteral(" /></td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">计划结束</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral("><input");

WriteLiteral(" name=\"DatePlanFinish\"");

WriteLiteral(" id=\"DatePlanFinish\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" data-options=\"editable:false\"");

WriteLiteral(" validtype=\"length[0,23]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 60083), Tuple.Create("\"", 60112)
            
            #line 1341 "..\..\Views\ProjectPW\info.cshtml"
                                                                                                    , Tuple.Create(Tuple.Create("", 60091), Tuple.Create<System.Object, System.Int32>(Model.DatePlanFinish
            
            #line default
            #line hidden
, 60091), false)
);

WriteLiteral(" /></td>\r\n        </tr>\r\n        <tr>\r\n            <td");

WriteLiteral(" colspan=\"4\"");

WriteLiteral(" id=\"tduploader\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"fileuploder\"");

WriteLiteral(" name=\"fileuploder\"");

WriteLiteral(" type=\"file\"");

WriteLiteral(" style=\"display:none\"");

WriteLiteral(" />\r\n                <table");

WriteLiteral(" id=\"ProjPhaseGrid\"");

WriteLiteral(" bookmark=\"ProjPhaseGrid\"");

WriteLiteral("></table>\r\n\r\n                <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"HiddenProjPhaseGridData\"");

WriteLiteral(" name=\"HiddenProjPhaseGridData\"");

WriteLiteral(" />\r\n                <div");

WriteLiteral(" id=\"ProjPhaseGridPanel\"");

WriteLiteral(" JQPanel=\"searchPanel\"");

WriteLiteral(" style=\"padding:5px;height:auto;\"");

WriteLiteral(">\r\n                    <span");

WriteLiteral(" JQPanel=\"toolbarPanel\"");

WriteLiteral(">\r\n                        <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" name=\"btnAddUnit\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-plus\'\"");

WriteLiteral(" onclick=\"Add(null)\"");

WriteLiteral(">新增</a>\r\n                        <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" name=\"btnRemoveUnit\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-minus-circle\'\"");

WriteLiteral(" onclick=\"Del()\"");

WriteLiteral(">删除</a>\r\n                        <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" name=\"btnImportUnit\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-minus-circle\'\"");

WriteLiteral(" onclick=\"javascript:_fuploader&&_fuploader.click()\"");

WriteLiteral(">导入子项</a>\r\n                        <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" name=\"btnDownImportExcel\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-minus-circle\'\"");

WriteAttribute("href", Tuple.Create(" href=\"", 61250), Tuple.Create("\"", 61344)
            
            #line 1354 "..\..\Views\ProjectPW\info.cshtml"
                                                            , Tuple.Create(Tuple.Create("", 61257), Tuple.Create<System.Object, System.Int32>(Url.Action("DownImportExcel", "Project", new { @area="Project"})
            
            #line default
            #line hidden
, 61257), false)
, Tuple.Create(Tuple.Create("", 61324), Tuple.Create("?fileName=项目导入模版.xls", 61324), true)
);

WriteLiteral(">模版下载</a>\r\n                    </span>\r\n                </div>\r\n                <" +
"div");

WriteLiteral(" id=\"tbCustomer\"");

WriteLiteral(" style=\"padding:5px;height:auto; display:none;\"");

WriteLiteral(">\r\n                    <input");

WriteLiteral(" id=\"fullNameSearchCustomer\"");

WriteLiteral(" style=\"width:250px;\"");

WriteLiteral(" JQWhereOptions=\"{ Key: \'CustName\', \'Contract\': \'like\' }\"");

WriteLiteral(" />\r\n                </div>\r\n                <div");

WriteLiteral(" id=\"tbCustLinkMan\"");

WriteLiteral(" style=\"padding:5px;height:auto; display:none;\"");

WriteLiteral(">\r\n                    <input");

WriteLiteral(" id=\"fullNameSearchCustLinkMan\"");

WriteLiteral(" style=\"width:250px;\"");

WriteLiteral(" JQWhereOptions=\"{ Key: \'CustLinkManName\', \'Contract\': \'like\' }\"");

WriteLiteral(" />\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n    " +
"        <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">任务内容</th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(" width=\"100%\"");

WriteLiteral(">\r\n                <textarea");

WriteLiteral(" name=\"ProjTaskContent\"");

WriteLiteral(" id=\"ProjTaskContent\"");

WriteLiteral(" style=\"width:99%;height:80px;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"multiline:true\"");

WriteLiteral(" validType=\"length[0,1000]\"");

WriteLiteral(">");

            
            #line 1368 "..\..\Views\ProjectPW\info.cshtml"
                                                                                                                                                                                Write(Model.ProjTaskContent);

            
            #line default
            #line hidden
WriteLiteral("</textarea>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>资金来源" +
"</th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n                <textarea");

WriteLiteral(" name=\"ProjFeeSource\"");

WriteLiteral(" id=\"ProjFeeSource\"");

WriteLiteral(" style=\"width:99%;height:80px;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"multiline:true\"");

WriteLiteral(" validType=\"length[0,1000]\"");

WriteLiteral(">");

            
            #line 1374 "..\..\Views\ProjectPW\info.cshtml"
                                                                                                                                                                            Write(Model.ProjFeeSource);

            
            #line default
            #line hidden
WriteLiteral("</textarea>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">综合进度要求</th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" style=\"float:left; width:15%;\"");

WriteLiteral(">\r\n                    <span");

WriteLiteral(" style=\"float:left; width:300px; margin:10px;\"");

WriteLiteral(">交付时间</span>\r\n                    <input");

WriteLiteral(" name=\"DatePlanDeliver\"");

WriteLiteral(" id=\"DatePlanDeliver\"");

WriteLiteral(" style=\"width:100%;\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" validtype=\"length[0,23]\"");

WriteAttribute("value", Tuple.Create(" value=\"", 62973), Tuple.Create("\"", 63003)
            
            #line 1382 "..\..\Views\ProjectPW\info.cshtml"
                                                                 , Tuple.Create(Tuple.Create("", 62981), Tuple.Create<System.Object, System.Int32>(Model.DatePlanDeliver
            
            #line default
            #line hidden
, 62981), false)
);

WriteLiteral(" />\r\n                </div>\r\n                <div");

WriteLiteral(" style=\"float:left; width:85%;\"");

WriteLiteral(">\r\n                    <textarea");

WriteLiteral(" name=\"ColAttVal1\"");

WriteLiteral(" id=\"ColAttVal1\"");

WriteLiteral(" style=\"width:99%;height:80px;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"multiline:true\"");

WriteLiteral(" validType=\"length[0,1000]\"");

WriteLiteral(">");

            
            #line 1385 "..\..\Views\ProjectPW\info.cshtml"
                                                                                                                                                                          Write(Model.ColAttVal1);

            
            #line default
            #line hidden
WriteLiteral("</textarea>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n\r\n        " +
"<tr>\r\n            <th>其他</th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n                <textarea");

WriteLiteral(" name=\"ProjDemand\"");

WriteLiteral(" id=\"ProjDemand\"");

WriteLiteral(" style=\"width:99%;height:80px;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"multiline:true\"");

WriteLiteral(" validType=\"length[0,1000]\"");

WriteLiteral(">");

            
            #line 1393 "..\..\Views\ProjectPW\info.cshtml"
                                                                                                                                                                      Write(Model.ProjDemand);

            
            #line default
            #line hidden
WriteLiteral("</textarea>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>备注</" +
"th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n                <textarea");

WriteLiteral(" name=\"ProjNoteOther\"");

WriteLiteral(" id=\"ProjNoteOther\"");

WriteLiteral(" style=\"width:99%;height:80px;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"multiline:true\"");

WriteLiteral(" validType=\"length[0,1000]\"");

WriteLiteral(">");

            
            #line 1399 "..\..\Views\ProjectPW\info.cshtml"
                                                                                                                                                                            Write(Model.ProjNoteOther);

            
            #line default
            #line hidden
WriteLiteral("</textarea>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n  " +
"              上传附件\r\n            </th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n");

            
            #line 1407 "..\..\Views\ProjectPW\info.cshtml"
                
            
            #line default
            #line hidden
            
            #line 1407 "..\..\Views\ProjectPW\info.cshtml"
                  
                    var uploader = new DataModel.FileUploader();
                    uploader.RefID = ViewBag.ChildModelId;
                    uploader.RefTable = "Project";
                    uploader.Name = "UploadFile1";
                    
            
            #line default
            #line hidden
            
            #line 1412 "..\..\Views\ProjectPW\info.cshtml"
                Write(Html.Partial("~/Areas/Core/Views/UserControl/FileUploader.cshtml", uploader));

            
            #line default
            #line hidden
            
            #line 1412 "..\..\Views\ProjectPW\info.cshtml"
                                                                                                   
                
            
            #line default
            #line hidden
WriteLiteral("\r\n            </td>\r\n        </tr>\r\n\r\n    </table>\r\n");

WriteLiteral("    <table");

WriteLiteral(" id=\"ProjCostGrid\"");

WriteLiteral("></table>\r\n");

WriteLiteral("    <input");

WriteLiteral(" id=\"HiddenData\"");

WriteLiteral(" name=\"HiddenData\"");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" />\r\n");

WriteLiteral("    <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"projId\"");

WriteLiteral(" name=\"projId\"");

WriteLiteral(" value=\"0\"");

WriteLiteral(" />\r\n");

WriteLiteral("    <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"Variety\"");

WriteLiteral(" name=\"Variety\"");

WriteLiteral(" />\r\n");

WriteLiteral("    <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"ChildModelId\"");

WriteLiteral(" name=\"ChildModelId\"");

WriteLiteral(" />\r\n");

WriteLiteral("    <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"stepOrder\"");

WriteLiteral(" name=\"stepOrder\"");

WriteLiteral(" />\r\n");

WriteLiteral("    <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" name=\"IsQuote\"");

WriteAttribute("value", Tuple.Create(" value=\"", 64883), Tuple.Create("\"", 64909)
            
            #line 1424 "..\..\Views\ProjectPW\info.cshtml"
, Tuple.Create(Tuple.Create("", 64891), Tuple.Create<System.Object, System.Int32>(ViewBag.isquote
            
            #line default
            #line hidden
, 64891), false)
);

WriteLiteral(" />\r\n");

WriteLiteral("    <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"strRowIndex\"");

WriteLiteral(" name=\"strRowIndex\"");

WriteLiteral(" value=\"0\"");

WriteLiteral(" />\r\n");

WriteLiteral("    <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"strMainId\"");

WriteLiteral(" name=\"strMainId\"");

WriteLiteral(" value=\"0\"");

WriteLiteral(" />\r\n");

            
            #line 1427 "..\..\Views\ProjectPW\info.cshtml"
                    }

            
            #line default
            #line hidden
WriteLiteral("<script");

WriteLiteral(" type=\"text/javascript\"");

WriteAttribute("src", Tuple.Create(" src=\"", 65114), Tuple.Create("\"", 65165)
            
            #line 1428 "..\..\Views\ProjectPW\info.cshtml"
, Tuple.Create(Tuple.Create("", 65120), Tuple.Create<System.Object, System.Int32>(Url.Content("~/Scripts/ajaxfileupload.js")
            
            #line default
            #line hidden
, 65120), false)
);

WriteLiteral("></script>\r\n\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
    var _fuploader=null;
    var index=0;
    function initUploader()
    {
        index++;
        if(_fuploader) {
            _fuploader.parentNode.removeChild(_fuploader);
        }
        _fuploader=document.createElement(""input"");
        _fuploader.setAttribute(""id"",""fileuploder""+index);
        _fuploader.setAttribute(""name"",""fileuploder""+index);
        _fuploader.setAttribute(""type"",""file"");
        _fuploader.style.display=""none"";
        document.getElementById(""tduploader"").appendChild(_fuploader);
        //_fuploader.onclick=function () {
        //    if($(""#projId"").val()==""0"")
        //    {
        //        JQ.dialog.warning(""请先选择项目!"");
        //        return false;
        //    }
        //    return true;
        //};
        _fuploader.onchange=function(){
            $.ajaxFileUpload({
                url: """);

            
            #line 1455 "..\..\Views\ProjectPW\info.cshtml"
                  Write(Url.Action("UploadTemplate", "ProjectPW", new { @area="Project"}));

            
            #line default
            #line hidden
WriteLiteral(@""",
                secureuri: false,
                dataType:""json"",
                fileElementId: _fuploader.getAttribute(""id""),
                cache:false,
                success: function (data, status) {
                    if (data.hasOwnProperty(""Result"")) {
                        if (data.Result == false) {
                            JQ.dialog.error(data.Message);
                            return;
                        }else if(data.Result == true){
                            JQ.dialog.show(""导入成功!"");
                            var jsonData=JSON.parse(data.data);
                            for(var i in jsonData)
                            {
                                Add(jsonData[i]);
                            }
                        }
                    }
                },
                complete:function () {
                    initUploader();
                }
            });
        }
    }
    initUploader();
</script>");

        }
    }
}
#pragma warning restore 1591

#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/usercontrol/ExchSpecEmployee.cshtml")]
    public partial class _Views_usercontrol_ExchSpecEmployee_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_usercontrol_ExchSpecEmployee_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n\r\n<div");

WriteLiteral(" JQPanel=\"dialogButtonPanel\"");

WriteLiteral(">\r\n    <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-search\'\"");

WriteLiteral(" id=\"btnSure\"");

WriteLiteral(">确定</a>\r\n    <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-trash\'\"");

WriteLiteral(" id=\"EmptyLnk\"");

WriteLiteral(">清除所有</a>\r\n    <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" style=\"float:right;\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-refresh\'\"");

WriteLiteral(" id=\"IsALL\"");

WriteLiteral(">切换至所有人员</a>\r\n</div>\r\n<div");

WriteLiteral(" id=\"cc\"");

WriteLiteral(" class=\"easyui-layout\"");

WriteLiteral(" style=\"overflow: hidden\"");

WriteLiteral(" fit=\"true\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" data-options=\"region:\'west\',split:false\"");

WriteLiteral(" style=\"width:220px;\"");

WriteLiteral(">\r\n        <ul");

WriteLiteral(" id=\"employeeLeftTree\"");

WriteLiteral("></ul>\r\n    </div>\r\n    <div");

WriteLiteral(" data-options=\"region:\'center\'\"");

WriteLiteral(" style=\"background:#eee;\"");

WriteLiteral(">\r\n        <ul");

WriteLiteral(" id=\"employeeRightTree\"");

WriteLiteral("></ul>\r\n    </div>\r\n</div>\r\n\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n    var leftUrl = \'");

            
            #line 18 "..\..\Views\usercontrol\ExchSpecEmployee.cshtml"
              Write(Url.Action("getExchSpecEmpList"));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 18 "..\..\Views\usercontrol\ExchSpecEmployee.cshtml"
                                                       Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("\';\r\n    $(\"#IsALL\").click(function () {\r\n        var text = $(\"#IsALL\").linkbutto" +
"n(\'options\').text;\r\n        var linktext = $(\"#IsALL\").text();\r\n        if (text" +
" == \"切换至所有人员\" || linktext == \"切换至所有人员\")\r\n        {\r\n            leftUrl = \'");

            
            #line 24 "..\..\Views\usercontrol\ExchSpecEmployee.cshtml"
                  Write(Url.Action("getExchSpecEmpList"));

            
            #line default
            #line hidden
WriteLiteral("\';\r\n            $(\"#IsALL\").text(\"切换至当前项目\");\r\n            $(\"#IsALL\").linkbutton(" +
"{text:\"切换至当前项目\"});\r\n        }\r\n        else\r\n        {\r\n            leftUrl = \'");

            
            #line 30 "..\..\Views\usercontrol\ExchSpecEmployee.cshtml"
                  Write(Url.Action("getExchSpecEmpList"));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 30 "..\..\Views\usercontrol\ExchSpecEmployee.cshtml"
                                                           Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("\';\r\n            $(\"#IsALL\").text(\"切换至所有人员\");\r\n            $(\"#IsALL\").linkbutton(" +
"{text:\"切换至所有人员\"});\r\n        }\r\n        $(\'#employeeLeftTree\').tree(\'options\').ur" +
"l = leftUrl;\r\n        $(\'#employeeLeftTree\').tree(\"reload\");\r\n    });\r\n    //清空\r" +
"\n    $(\"#EmptyLnk\").click(function () {\r\n        debugger;\r\n        var rootNode" +
"s = $(\"#employeeRightTree\").tree(\"getRoots\");\r\n        var ids = [];\r\n        fo" +
"r (var i = 0; i < rootNodes.length; i++) {\r\n            ids.push(rootNodes[i].id" +
");\r\n        }\r\n        $.each(ids, function (i, ne) {\r\n            clickFun(ne, " +
"\"employeeRightTree\");\r\n        })\r\n    })\r\n\r\n    $(\"#btnSure\").click(function ()" +
" {\r\n        //获取本层dialog\r\n        window.SpecEmps = [];\r\n        var data = $(\"#" +
"employeeRightTree\").tree(\"getRoots\");\r\n\r\n        $.each(data, function (i, e) {\r" +
"\n            if (e.children == undefined) return true;\r\n            if (e.childr" +
"en.length > 0) {\r\n                $.each(e.children, function (ic, ec) {\r\n      " +
"              window.SpecEmps.push({ SpecID: ec.SpecID, SpecName: ec.SpecName, E" +
"mpName: ec.text, EmpID: ec.EmpID });\r\n                })\r\n            }\r\n       " +
" })\r\n        if (window.SpecEmps.length > 0) {\r\n            JQ.dialog.dialogClos" +
"e();\r\n        } else {\r\n            JQ.dialog.show(\"请至少选择一位！！！\");\r\n        }\r\n\r\n" +
"    })\r\n\r\n    $(function () {\r\n        showleftTree();\r\n        showrightTree();" +
"\r\n    })\r\n\r\n    function showleftTree() {\r\n        $(\'#employeeLeftTree\').tree({" +
"\r\n            url: leftUrl,//open\r\n            animate: true,\r\n            onCli" +
"ck: function (node) {\r\n\r\n                var parent = $(this).tree(\"getParent\", " +
"node.target),\r\n                  childs = $(this).tree(\"getChildren\", node.targe" +
"t);\r\n                if (childs.length == 0) {\r\n\r\n                    clickFun(n" +
"ode.id, \'employeeLeftTree\');\r\n                }\r\n                else {\r\n       " +
"             if (node.state == \"open\") {\r\n                        $(this).tree(\"" +
"collapse\", node.target);\r\n                    } else {\r\n                        " +
"$(this).tree(\"expand\", node.target);\r\n                    }\r\n                }\r\n" +
"            },\r\n            onLoadSuccess: function (node, data) {\r\n            " +
"    regditEvent(data, \"employeeLeftTree\");\r\n            }\r\n        });\r\n    }\r\n\r" +
"\n    function showrightTree() {\r\n        $(\'#employeeRightTree\').tree({\r\n       " +
"     url: \'");

            
            #line 104 "..\..\Views\usercontrol\ExchSpecEmployee.cshtml"
             Write(Url.Action("getExchSpecEmpList"));

            
            #line default
            #line hidden
WriteLiteral("?empids=");

            
            #line 104 "..\..\Views\usercontrol\ExchSpecEmployee.cshtml"
                                                       Write(Html.Raw(ViewBag.empids));

            
            #line default
            #line hidden
WriteLiteral("&projID=");

            
            #line 104 "..\..\Views\usercontrol\ExchSpecEmployee.cshtml"
                                                                                         Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("\',//open\r\n            animate: true,\r\n            onClick: function (node) {\r\n   " +
"             var parent = $(this).tree(\"getParent\", node.target),\r\n             " +
"     childs = $(this).tree(\"getChildren\", node.target);\r\n                if (chi" +
"lds.length == 0) {\r\n                    clickFun(node.id, \'employeeRightTree\');\r" +
"\n                }\r\n                else {\r\n                    if (node.state =" +
"= \"open\") {\r\n                        $(this).tree(\"collapse\", node.target);\r\n   " +
"                 } else {\r\n                        $(this).tree(\"expand\", node.t" +
"arget);\r\n                    }\r\n                }\r\n            },\r\n            o" +
"nLoadSuccess: function (node, data) {\r\n                regditEvent(data, \"employ" +
"eeRightTree\");\r\n                //全部展开\r\n                $(\'#employeeRightTree\')." +
"tree(\"expandAll\");\r\n            }\r\n        });\r\n    }\r\n    //注册 鼠标浮动事件\r\n    func" +
"tion regditEvent(data, treeId) {\r\n        if (JQ.tools.isNotEmpty(data)) {\r\n    " +
"        var $grid = $(\"#\" + treeId);\r\n            var text, icon;\r\n            $" +
".each(data, function (i, e) {\r\n                var $NodedivID = $(\"#\" + e.domId)" +
";//行节点\r\n\r\n                //$NodedivID.attr(\'jq-employeetree\', \"{id:\" + e.id + \"" +
",text:\'\" + e.text + \"\',treeid:\'\" + treeId + \"\'}\");\r\n                $NodedivID.a" +
"ttr(\'jq-employeetree\', JSON.stringify({ \'id\': e.id, \'text\': e.text, \'treeid\': tr" +
"eeId }));\r\n                if (treeId == \'employeeLeftTree\') {\r\n                " +
"    text = \'全选\';\r\n                    icon = \'fa fa-check-circle\';\r\n            " +
"    }\r\n                else {\r\n                    text = \'移除\';\r\n               " +
"     icon = \'fa fa-trash\';\r\n                }\r\n\r\n                if (e.id.indexO" +
"f(\'T\') == 0) {\r\n                    $(\"<a>\", {\r\n                        \'class\':" +
" icon,\r\n                        \'func\': \'all\',\r\n                        style: \'" +
"float:right;margin-right:10px;display:none;height: 18px;padding: 0 2px;\',\r\n     " +
"                   text: text,\r\n                        click: function (e) {\r\n " +
"                           var j = eval(\"(\" + $(this).parent().attr(\"jq-employee" +
"tree\") + \")\");\r\n                            clickFun(j.id, treeId);\r\n           " +
"                 e.stopPropagation();\r\n                        }\r\n              " +
"      }).appendTo($NodedivID);\r\n                }\r\n            })\r\n\r\n           " +
" $(\"div[jq-employeetree]\").hover(\r\n                 function (e) {\r\n            " +
"         var j = eval(\"(\" + $(this).attr(\'jq-employeetree\') + \")\");\r\n           " +
"          var isok = j.id.indexOf(\'T\') == 0;\r\n                     if (isok) {\r\n" +
"                         $(this).find(\"a[func=\'all\']\").show(100);\r\n             " +
"        }\r\n\r\n                 },\r\n                 function (e) {\r\n             " +
"        var j = eval(\"(\" + $(this).attr(\'jq-employeetree\') + \")\");\r\n            " +
"         var isok = j.id.indexOf(\'T\') == 0;\r\n                     if (isok) {\r\n " +
"                        $(this).find(\"a[func=\'all\']\").hide(100);\r\n              " +
"       }\r\n                 }\r\n           );\r\n        }\r\n    }\r\n    //移除节点\r\n    f" +
"unction clickFun(nodeId, treeid) {\r\n\r\n        var $grid = $(\"#\" + treeid);\r\n    " +
"    var otherTreeid = treeid == \'employeeLeftTree\' ? \"employeeRightTree\" : \'empl" +
"oyeeLeftTree\';\r\n        appendNodes(nodeId, treeid, otherTreeid);\r\n\r\n\r\n        v" +
"ar CurrentNode = $grid.tree(\"find\", nodeId);\r\n        var Childs = $grid.tree(\"g" +
"etChildren\", CurrentNode.target);\r\n        if (Childs.length > 0) {\r\n           " +
" //父节点、子节点\r\n            $grid.tree(\"remove\", CurrentNode.target);\r\n        } els" +
"e {\r\n            var parentNode = $grid.tree(\"getParent\", CurrentNode.target);\r\n" +
"            $grid.tree(\"remove\", CurrentNode.target);\r\n            //判断是否还有子节点\r\n" +
"            if (parentNode == null) return;\r\n            var CChilds = $grid.tre" +
"e(\"getChildren\", parentNode.target);\r\n            if (CChilds.length == 0) {\r\n  " +
"              $grid.tree(\"remove\", parentNode.target);\r\n            }\r\n        }" +
"\r\n    }\r\n    //新增节点\r\n    function appendNodes(nodeId, treeid, addtreeid) {\r\n    " +
"    $addgrid = $(\"#\" + addtreeid);\r\n        $removegrid = $(\"#\" + treeid);\r\n\r\n  " +
"      var CurrentNode = $removegrid.tree(\"find\", nodeId);\r\n        //是否还有父节点\r\n  " +
"      var parentNode = $removegrid.tree(\"getParent\", CurrentNode.target);\r\n     " +
"   if (parentNode == null) {\r\n            //判断新增边 是否有父节点\r\n            var otherp" +
"arentNode = $addgrid.tree(\"find\", CurrentNode.id);\r\n            if (otherparentN" +
"ode == null) {\r\n                $addgrid.tree(\"append\", { data: [{ id: CurrentNo" +
"de.id, text: CurrentNode.text, SpecID: CurrentNode.SpecID, SpecName: CurrentNode" +
".SpecName, EmpID: CurrentNode.EmpID }] });\r\n                otherparentNode = $a" +
"ddgrid.tree(\"find\", CurrentNode.id);\r\n            }\r\n\r\n            var childs = " +
"$removegrid.tree(\"getChildren\", CurrentNode.target);\r\n            if (childs.len" +
"gth > 0) {\r\n                $.each(childs, function (i, e) {\r\n                  " +
"  var otherChild = $addgrid.tree(\"find\", e.id);\r\n                    if (otherCh" +
"ild == null) {\r\n                        $addgrid.tree(\"append\", { parent: otherp" +
"arentNode.target, data: [{ id: e.id, text: e.text, iconCls: e.iconCls, SpecID: e" +
".SpecID, SpecName: e.SpecName, EmpID: e.EmpID }] });\r\n                    }\r\n   " +
"             })\r\n            }\r\n\r\n        } else {\r\n            var otherparentN" +
"ode = $addgrid.tree(\"find\", parentNode.id);\r\n            if (otherparentNode == " +
"null) {\r\n                $addgrid.tree(\"append\", { data: [{ id: parentNode.id, t" +
"ext: parentNode.text, SpecID: parentNode.SpecID, SpecName: parentNode.SpecName, " +
"EmpID: parentNode.EmpID }] });\r\n                otherparentNode = $addgrid.tree(" +
"\"find\", parentNode.id);\r\n            }\r\n            $addgrid.tree(\"append\", { pa" +
"rent: otherparentNode.target, data: [{ id: CurrentNode.id, text: CurrentNode.tex" +
"t, iconCls: CurrentNode.iconCls, SpecID: CurrentNode.SpecID, SpecName: CurrentNo" +
"de.SpecName, EmpID: CurrentNode.EmpID }] });\r\n        }\r\n    }\r\n\r\n\r\n\r\n</script>");

        }
    }
}
#pragma warning restore 1591

#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/DesTask/ProjectPlanMain.cshtml")]
    public partial class _Views_DesTask_ProjectPlanMain_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_DesTask_ProjectPlanMain_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
  
    Layout = "~/Areas/Core/Views/Shared/_Layout.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n");

DefineSection("head", () => {

WriteLiteral("\r\n    ");

WriteLiteral("\r\n    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n\r\n        var tabId = ");

            
            #line 9 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
               Write(ViewBag.tabId);

            
            #line default
            #line hidden
WriteLiteral(";\r\n        var tabs = [\r\n            \'");

            
            #line 11 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
        Write(Url.Action("PlanTableInfo"));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            \'");

            
            #line 12 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
        Write(Url.Action("ProjectPlanInfo"));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            \'");

            
            #line 13 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
        Write(Url.Action("SpecPlanInfo"));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            \'");

            
            #line 14 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
        Write(Url.Action("ExchPlanInfo", "DesExch", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            \'");

            
            #line 15 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
        Write(Url.Action("ProjectGantt"));

            
            #line default
            #line hidden
WriteLiteral(@"'
        ];

        $(function () {

            //    // 默认选中 类型为：阶段 状态为：轮到 或 进行 的项
            //    var selx = Enumerable.From(data.rows).OrderBy(""x=>x.TaskGroupPath"").Where(""x => x.TaskGroupType == 1 && [1,2].indexOf(x.TaskGroupStatus) > -1"").FirstOrDefault();
            var toSelect;
            $(""#lefttree"").tree({
                url: '");

            
            #line 24 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
                  Write(Url.Action("GetProjectTree","Project",new { @area="Project" }));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                method: \"POST\",\r\n                queryParams: { projectID: \"");

            
            #line 26 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
                                      Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("\" },\r\n                lines: true,\r\n                formatter: function (node) {\r" +
"\n                    if(node.projectid==");

            
            #line 29 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
                                  Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("&&(node.taskgroupid==");

            
            #line 29 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
                                                                      Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral(@")){
                        toSelect=node.id;
                    }
                    return decodeURIComponent(node.text.replace(/\+/g, "" ""));
                },
                onBeforeSelect: function(node) {
                    if (node.type == 0) return false;
                },
                onSelect: function (node) {
                    $(""#rightframe"").attr(""src"", tabs[tabId] + '?projID=' + node.projectid + '&taskGroupId=' + node.taskgroupid + '&taskSpecId=");

            
            #line 38 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
                                                                                                                                           Write(ViewBag.taskSpecId);

            
            #line default
            #line hidden
WriteLiteral("\'+ \'&from=");

            
            #line 38 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
                                                                                                                                                                          Write(ViewBag.from);

            
            #line default
            #line hidden
WriteLiteral(@"');
                },
                onLoadSuccess : function(node, data) {
                    // 默认选择
                    var selnode = $('#lefttree').tree('find', toSelect);
                    $('#lefttree').tree('select', selnode.target);
                }
            });

            // 首次载入
            //$(""#rightframe"").attr(""src"", tabs[");

            
            #line 48 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
                                           Write(ViewBag.tabId);

            
            #line default
            #line hidden
WriteLiteral("] + \'?projID=");

            
            #line 48 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
                                                                      Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 48 "..\..\Views\DesTask\ProjectPlanMain.cshtml"
                                                                                                  Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("\');\r\n\r\n        });\r\n\r\n        // 供子页面调用，子页面变换后，在这里标记一下，这样点击tree节点时页面保持不变。\r\n      " +
"  window.changeTabId = function(id) {\r\n            tabId = id;\r\n        }\r\n\r\n   " +
" </script>\r\n");

});

WriteLiteral("\r\n");

DefineSection("Body_Content", () => {

WriteLiteral("\r\n    <div");

WriteLiteral(" data-options=\"region:\'west\',title:\'项目树\',collapsible:true,split:true\"");

WriteLiteral(" style=\"width:205px\"");

WriteLiteral(">\r\n        <table");

WriteLiteral(" id=\"lefttree\"");

WriteLiteral("></table>\r\n    </div>\r\n    <div");

WriteLiteral(" id=\"ProjMainTab\"");

WriteLiteral(" data-options=\"region:\'center\',border:false\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" style=\"width:100%; height:100%; overflow:hidden\"");

WriteLiteral(">\r\n            <iframe");

WriteLiteral(" id=\"rightframe\"");

WriteLiteral(" src=\"about:blank;\"");

WriteLiteral(" style=\"width:100%;height:100%\"");

WriteLiteral(" frameborder=\"0\"");

WriteLiteral("></iframe>\r\n        </div>\r\n    </div>\r\n\r\n");

});

        }
    }
}
#pragma warning restore 1591

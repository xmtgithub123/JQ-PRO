#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/DesTask/TaskInfoApprovePostBack.cshtml")]
    public partial class _Views_DesTask_TaskInfoApprovePostBack_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_DesTask_TaskInfoApprovePostBack_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("<style");

WriteLiteral(" type=\"text/css\"");

WriteLiteral(">\r\n    #TaskInfoPerson td {\r\n        font-size: 16px;\r\n        height: 30px;\r\n   " +
" }\r\n\r\n    .FlowNodeClass td {\r\n        font-size: 12px !important;\r\n        heig" +
"ht: 20px !important;\r\n        border: 1px solid #D3D3D3;\r\n    }\r\n\r\n    .btn-medi" +
"um {\r\n        padding: 5px 15px;\r\n        color: white !important;\r\n        widt" +
"h: 100px;\r\n    }\r\n\r\n    .NextSpan {\r\n        padding: 5px 5px;\r\n        font-siz" +
"e: 18px;\r\n    }\r\n\r\n    .pagefoot {\r\n        text-align: center;\r\n        padding" +
": 5px;\r\n        height: auto;\r\n    }\r\n\r\n        .pagefoot .l-btn-text {\r\n       " +
"     vertical-align: middle !important;\r\n            font-size: 14px;\r\n        }" +
"\r\n\r\n        .pagefoot .btn-blue {\r\n            background: -webkit-linear-gradie" +
"nt(top,#67c2ff 0,#3d93cf 100%);\r\n            background: -moz-linear-gradient(to" +
"p,#67c2ff 0,#3d93cf 100%);\r\n            background: -o-linear-gradient(top,#67c2" +
"ff 0,#3d93cf 100%);\r\n            background: linear-gradient(top,#67c2ff 0,#3d93" +
"cf 100%);\r\n            border: none;\r\n        }\r\n\r\n        .pagefoot .btn-green " +
"{\r\n            background: -webkit-linear-gradient(top,#6cd2b7 0,#69a898 100%);\r" +
"\n            background: -moz-linear-gradient(top,#6cd2b7 0,#69a898 100%);\r\n    " +
"        background: -o-linear-gradient(top,#6cd2b7 0,#69a898 100%);\r\n           " +
" background: linear-gradient(top,#6cd2b7 0,#69a898 100%);\r\n            border: n" +
"one;\r\n        }\r\n\r\n        .pagefoot .btn-gray {\r\n            background: -webki" +
"t-linear-gradient(top,#bebebe 0,#808080 100%);\r\n            background: -moz-lin" +
"ear-gradient(top,#bebebe 0,#808080 100%);\r\n            background: -o-linear-gra" +
"dient(top,#bebebe 0,#808080 100%);\r\n            background: linear-gradient(top," +
"#bebebe 0,#808080 100%);\r\n            border: none;\r\n        }\r\n\r\n        .pagef" +
"oot .btn-blue:hover {\r\n            background: #3d93cf;\r\n        }\r\n\r\n        .p" +
"agefoot .btn-green:hover {\r\n            background: #69a898;\r\n        }\r\n\r\n     " +
"   .pagefoot .btn-gray:hover {\r\n            background: #808080;\r\n        }\r\n</s" +
"tyle>\r\n\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteAttribute("src", Tuple.Create(" src=\"", 2062), Tuple.Create("\"", 2107)
            
            #line 72 "..\..\Views\DesTask\TaskInfoApprovePostBack.cshtml"
, Tuple.Create(Tuple.Create("", 2068), Tuple.Create<System.Object, System.Int32>(Url.Content("~/Scripts/JQ/DesFlow.js")
            
            #line default
            #line hidden
, 2068), false)
);

WriteLiteral("></script>\r\n\r\n<div");

WriteLiteral(" id=\"TaskInfoApprovePostBack\"");

WriteLiteral(" class=\"easyui-layout\"");

WriteLiteral(" data-options=\"fit:true\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" data-options=\"region:\'center\',border:false\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"easyui-layout\"");

WriteLiteral(" data-options=\"fit:true\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" data-options=\"region:\'north\',border:false\"");

WriteLiteral(" style=\"border-bottom-width:1px;overflow:hidden\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" style=\"height:30px;padding:5px 0px;\"");

WriteLiteral(">\r\n                    ");

WriteLiteral("\r\n                    <div");

WriteLiteral(" style=\"float:right;margin-right:5px;margin-top:7px;\"");

WriteLiteral(">\r\n                        节点状态：\r\n                        <span");

WriteLiteral(" class=\"node-example node-status-0-bg\"");

WriteLiteral(">未启动</span>\r\n                        <span");

WriteLiteral(" class=\"node-example node-status-1-bg\"");

WriteLiteral(">已安排</span>\r\n                        <span");

WriteLiteral(" class=\"node-example node-status-2-bg\"");

WriteLiteral(">进行中</span>\r\n                        <span");

WriteLiteral(" class=\"node-example node-status-3-bg\"");

WriteLiteral(">已完成</span>\r\n                        <span");

WriteLiteral(" class=\"node-example node-status-4-bg\"");

WriteLiteral(">已回退</span>\r\n                    </div>\r\n                </div>\r\n            </di" +
"v>\r\n            <div");

WriteLiteral(" data-options=\"region:\'center\',border:false\"");

WriteLiteral(" style=\"border-right-width:1px;\"");

WriteLiteral(">\r\n                <table");

WriteLiteral(" id=\"TaskInfoApprovePostBack_files\"");

WriteLiteral("></table>\r\n                <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n                    $(function () {\r\n                        $(\'#TaskInfoAppro" +
"vePostBack_files\').treegrid({\r\n                            url: \'");

            
            #line 98 "..\..\Views\DesTask\TaskInfoApprovePostBack.cshtml"
                             Write(Url.Action("TaskInfoGetDesTaskAttachSelDataJson"));

            
            #line default
            #line hidden
WriteLiteral("?TaskId=\'+");

            
            #line 98 "..\..\Views\DesTask\TaskInfoApprovePostBack.cshtml"
                                                                                         Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral(@",
                            idField: 'AttachID',
                            treeField: 'AttachName',
                            border: 0,
                            fit: true,
                            lines: true,
                            animate: true,
                            rownumbers:true,
                            queryParams:{AttachIds:'");

            
            #line 106 "..\..\Views\DesTask\TaskInfoApprovePostBack.cshtml"
                                               Write(Html.Raw(ViewBag.AttachIds));

            
            #line default
            #line hidden
WriteLiteral("\'},\r\n                            //checkOnSelect:false,\r\n                        " +
"    selectOnCheck:true,\r\n                            checkOnSelect:true,\r\n      " +
"                      singleSelect:false,\r\n                            columns: " +
"[[\r\n                                { title: \'附件信息\', field: \'AttachName\', width:" +
" 400, align: \'left\',halign:\'center\',formatter:function (value,row,index) {\r\n    " +
"                                var FileName=\"<div style=\\\"float:left\\\">\"+row.At" +
"tachName+\"</div>\";\r\n                                    return FileName;\r\n      " +
"                          } },\r\n                                  { title: \'校审流程" +
"\', field: \'FlowNodeBack\', width: 600, align: \'left\',formatter:function (value,ro" +
"w,index) {\r\n                                      return \"<div id=\\\"FlowNodeBack" +
"_\"+row.AttachID+\"\\\" class=\\\"approve-progress\\\"></div>\"\r\n                        " +
"          } },\r\n                                { title: \"版本\", field: \"AttachVer" +
"\", width: 50, align: \"center\", halign: \"center\",formatter:function (value,row,in" +
"dex) {\r\n                                    if(row.AttachExt==\".\"){\r\n           " +
"                             return \"\";\r\n                                    }el" +
"se {\r\n                                        return value;\r\n                   " +
"                 }\r\n                                } },\r\n                      " +
"          {\r\n                                    title: \"大小\", field: \"AttachSize" +
"\", width: 76, align: \"center\", halign: \"center\", formatter: function (value, row" +
",index) {\r\n                                        if(row.AttachExt==\".\"){\r\n    " +
"                                        return \"\";\r\n                            " +
"            }else {\r\n                                            return JQ.tools" +
".getFileSizeText(value);\r\n                                        }\r\n           " +
"                         }\r\n                                },\r\n                " +
"                {\r\n                                    title: \"修改时间\", field: \"At" +
"tachDateChange\", width: 90, align: \"center\", halign: \"center\", formatter: functi" +
"on (value, rowData,index) {\r\n                                        return JQ.t" +
"ools.DateTimeFormatterByT(rowData.AttachDateChange);\r\n                          " +
"          }\r\n                                },\r\n                               " +
" {\r\n                                    title: \"上传日期\", field: \"AttachDateUpload\"" +
", width: 90, align: \"center\", halign: \"center\", formatter: function (value, rowD" +
"ata,index) {\r\n                                        return JQ.tools.DateTimeFo" +
"rmatterByT(rowData.AttachDateUpload);\r\n                                    }\r\n  " +
"                              },\r\n                                {\r\n           " +
"                         title: \"操作\", field: \"AttachID\", width: 80, align: \"cent" +
"er\", halign: \"center\", formatter: function (value, rowData,index) {\r\n           " +
"                             return \"<a id=\\\"btnDel\\\" href=\\\"#\\\" rootID=\"+rowDat" +
"a.AttachID+\" >排除</a>  \";\r\n                                    }\r\n               " +
"                 }\r\n                            ]],\r\n                           " +
" onLoadSuccess:function (row,data) {\r\n                                if (data.t" +
"otal>0) {\r\n                                    $.each(data.rows,function (i,e) {" +
"\r\n                                        if (e.AttachExt==\".\") {\r\n             " +
"                               if ( $(\"#TaskInfoApprovePostBack_files\").treegrid" +
"(\"getChildren\",e.AttachID).length==0) {\r\n                                       " +
"         $(\"#TaskInfoApprovePostBack_files\").treegrid(\"update\",{id:e.AttachID,ro" +
"w:{iconCls:\"fa-folder\"}});\r\n                                                $(\"s" +
"pan[class=\'tree-icon tree-file fa-folder\']\").removeClass(\"tree-file\");\r\n        " +
"                                        //$(\"#TaskInfoDiv > .tree-icon,#TaskInfo" +
"Div > .tree-file,#TaskInfoDiv > .fa-folder\").removeClass(\"tree-file\");\r\n        " +
"                                    }\r\n                                        }" +
"\r\n                                        else {\r\n                              " +
"              var jsonNode= e.AttachFlowNodeJson == \"\" ? [] : JSON.parse(e.Attac" +
"hFlowNodeJson).root.item;\r\n                                            var $tabl" +
"e=$(\"div[id=\'FlowNodeBack_\"+e.AttachID+\"\']\");\r\n                                 " +
"           if (e.AttachFlowNodeJson!=\"\") {\r\n                                    " +
"            JQ.DesFlow.show({\r\n                                                 " +
"   Ctl:$table,\r\n                                                    FlowData:jso" +
"nNode,\r\n                                                });\r\n                   " +
"                         } else {\r\n                                             " +
"   $table.html(\"该文件发布了新版本，需设计重新提交校审。\");\r\n                                       " +
"     }\r\n                                        }\r\n                             " +
"         \r\n                                        //删除样式\r\n                     " +
"                   $(\"a[rootID=\'\"+e.AttachID+\"\']\").linkbutton({\r\n               " +
"                             iconCls: \'fa fa-ban\',\r\n                            " +
"                onClick:function () {\r\n                                         " +
"       deleteFunc(e.AttachID);\r\n                                            }\r\n " +
"                                       })\r\n\r\n                                   " +
" })\r\n                                    //自动 调整行高\r\n                            " +
"        $(\"#TaskInfoApprovePostBack_files\").treegrid(\"autoSizeColumn\",\"AttachID\"" +
");\r\n                                }\r\n                            },\r\n         " +
"               })\r\n                    });\r\n\r\n                    function delet" +
"eFunc(AttachID) {\r\n                        //return JQ.dialog.confirm(\"你确定要排除吗?\"" +
",function (){\r\n                            var parentNode=$(\"#TaskInfoApprovePos" +
"tBack_files\").treegrid(\"getParent\",AttachID);\r\n                            $(\"#T" +
"askInfoApprovePostBack_files\").treegrid(\"remove\",AttachID);\r\n                   " +
"         //判断父节点\r\n                            if (parentNode!=null) {\r\n         " +
"                       if ($(\"#TaskInfoApprovePostBack_files\").treegrid(\"getChil" +
"dren\",parentNode.AttachID).length==0) {\r\n                                    $(\"" +
"#TaskInfoApprovePostBack_files\").treegrid(\"update\", { id: parentNode.AttachID, r" +
"ow: { iconCls: \"fa-folder\" } });\r\n\r\n                                    var pane" +
"l= $(\"#TaskInfoApprovePostBack_files\").treegrid(\"getPanel\");\r\n                  " +
"                  var delHtml=panel.find(\"tr[node-id=\'\"+parentNode.AttachID+\"\'] " +
"a[id=\'btnDel\']\");\r\n                                    delHtml.linkbutton({\r\n   " +
"                                     iconCls: \'fa fa-trash\',\r\n                  " +
"                      onClick:function () {\r\n                                   " +
"         deleteFunc(parentNode.AttachID);\r\n                                     " +
"   }\r\n                                    });\r\n\r\n\r\n                             " +
"       $(\"span[class=\'tree-icon tree-file fa-folder\']\").removeClass(\"tree-file\")" +
";\r\n                                }\r\n                            }\r\n           " +
"             //});\r\n                    }\r\n                </script>\r\n          " +
"  </div>\r\n        </div>\r\n    </div>\r\n    <div");

WriteLiteral(" data-options=\"region:\'south\',border:true\"");

WriteLiteral(" style=\"overflow:hidden\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"pagefoot\"");

WriteLiteral(">\r\n            <a");

WriteLiteral(" href=\"javascript:void(0);\"");

WriteLiteral(" class=\"easyui-linkbutton btn-medium btn-gray\"");

WriteLiteral(" id=\"btnClose\"");

WriteLiteral(">取消</a>&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <a");

WriteLiteral(" href=\"javascript:void(0);\"");

WriteLiteral(" class=\"easyui-linkbutton btn-medium btn-blue\"");

WriteLiteral(" id=\"btnBack\"");

WriteLiteral(">回退</a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n    $(\"#btnClose\", $(\"#TaskInfoApprovePostBack\")).click(function() {\r\n        " +
"    window.top.$(\"#");

            
            #line 227 "..\..\Views\DesTask\TaskInfoApprovePostBack.cshtml"
                      Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral("\").dialog(\"close\");\r\n    });\r\n\r\n    $(\"#btnBack\", $(\"#TaskInfoApprovePostBack\"))." +
"click(function () {\r\n\r\n        //判断是否有文件\r\n        var result=false;\r\n        var" +
" rootNode=$(\"#TaskInfoApprovePostBack_files\").treegrid(\"getRoots\");\r\n        if " +
"(rootNode==null||rootNode.length==0) {\r\n            JQ.dialog.show(\"没有可提交的文件！！！\"" +
");\r\n            return false;\r\n        }\r\n        //仅判断是否有文件\r\n        $.each(roo" +
"tNode,function (i,e) {\r\n            if (result) {\r\n                return false;" +
"\r\n            }\r\n            if (e.AttachExt!=\".\") {\r\n                result=tru" +
"e;\r\n                return false;\r\n            }\r\n            var childNodes=$(\"" +
"#TaskInfoApprovePostBack_files\").treegrid(\"getChildren\",e.AttachID);\r\n          " +
"  if (childNodes!=null&&childNodes.length>0) {\r\n                $.each(childNode" +
"s,function(ic,ec){\r\n                    if (ec.AttachExt!=\".\") {\r\n              " +
"          result=true;\r\n                        return false;\r\n                 " +
"   }\r\n                })\r\n            }\r\n        })\r\n\r\n        if (!result) {\r\n " +
"           JQ.dialog.show(\"没有可提交的文件！！！\");\r\n            return false;\r\n        }\r" +
"\n\r\n        var addRow=[];\r\n        $.each(rootNode,function (i,e) {\r\n           " +
" addRow.push(e.AttachID);\r\n            var childNodes=$(\"#TaskInfoApprovePostBac" +
"k_files\").treegrid(\"getChildren\",e.AttachID);\r\n            if (childNodes!=null&" +
"&childNodes.length>0) {\r\n                $.each(childNodes,function(ic,ec){\r\n   " +
"                 addRow.push(ec.AttachID);\r\n                })\r\n            }\r\n " +
"       })\r\n\r\n        //JQ.dialog.confirm(\'你确定要回退这些文件到设计吗?\',function () {\r\n      " +
"      JQ.tools.ajax({\r\n                url: \'");

            
            #line 277 "..\..\Views\DesTask\TaskInfoApprovePostBack.cshtml"
                 Write(Url.Action("TaskInfoApproveSavePostBack"));

            
            #line default
            #line hidden
WriteLiteral("?TaskId=\'+");

            
            #line 277 "..\..\Views\DesTask\TaskInfoApprovePostBack.cshtml"
                                                                     Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral(",\r\n                data: {AttachIds:addRow.join(\',\')},\r\n                succesCol" +
"lBack: function () {\r\n                    if (typeof(window.top[\"_DialogCallback" +
"_");

            
            #line 280 "..\..\Views\DesTask\TaskInfoApprovePostBack.cshtml"
                                                      Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral("\"]) == \"function\") {\r\n                        window.top[\"_DialogCallback_");

            
            #line 281 "..\..\Views\DesTask\TaskInfoApprovePostBack.cshtml"
                                               Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral("\"]();\r\n                        window.top.$(\"#");

            
            #line 282 "..\..\Views\DesTask\TaskInfoApprovePostBack.cshtml"
                                  Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral("\").dialog(\"close\");\r\n                    }\r\n                }\r\n            });\r\n " +
"       //});\r\n\r\n    })\r\n</script>\r\n\r\n");

        }
    }
}
#pragma warning restore 1591

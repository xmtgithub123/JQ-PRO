#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 4 "..\..\Views\DesTask\SpecPlanList.cshtml"
    using JQ.Web;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/DesTask/SpecPlanList.cshtml")]
    public partial class _Views_DesTask_SpecPlanList_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_DesTask_SpecPlanList_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Views\DesTask\SpecPlanList.cshtml"
  
    Layout = "~/Areas/Core/Views/Shared/_Layout.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n");

DefineSection("head", () => {

WriteLiteral("\r\n");

});

WriteLiteral("\r\n");

DefineSection("Body_Content", () => {

WriteLiteral("\r\n\r\n    <table");

WriteLiteral(" id=\"SpecPlanGrid\"");

WriteLiteral("></table>\r\n    <div");

WriteLiteral(" id=\"DesTaskPanel\"");

WriteLiteral(" JQPanel=\"searchPanel\"");

WriteLiteral(" style=\"padding:5px;height:auto;\"");

WriteLiteral(">\r\n        <span");

WriteLiteral(" JQPanel=\"toolbarPanel\"");

WriteLiteral("></span>\r\n\r\n        <input");

WriteLiteral(" id=\"JQSearch\"");

WriteLiteral(" style=\"width:250px;\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'p.ProjNumber,p.ProjName\', Contract:\'like\'}\"");

WriteLiteral(" />\r\n\r\n        <div");

WriteLiteral(" class=\"moreSearchPanel\"");

WriteLiteral(">\r\n\r\n");

WriteLiteral("            ");

            
            #line 18 "..\..\Views\DesTask\SpecPlanList.cshtml"
       Write(BaseData.getBases(new Params() { isMult = true, engName = "ProjectPhase", queryOptions = "{ Key:'g.TaskGroupPhaseId', Contract:'in',filedType:'Int'}" }));

            
            #line default
            #line hidden
WriteLiteral("\r\n            <input");

WriteLiteral(" id=\"startTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:110px\"");

WriteLiteral(" data-options=\"prompt: \'计划开始时间\'\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'s.DatePlanStart\', Contract:\'>=\',filedType:\'Date\' }\"");

WriteLiteral(">\r\n            至\r\n            <input");

WriteLiteral(" id=\"endTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:110px\"");

WriteLiteral(" data-options=\"prompt: \'计划结束时间\'\"");

WriteLiteral(" JQWhereOptions=\"{ Key:\'s.DatePlanStart\', Contract:\'<=\',filedType:\'Date\' }\"");

WriteLiteral(">&nbsp;\r\n\r\n        </div>\r\n    </div>\r\n    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n        var requestUrl = \'");

            
            #line 26 "..\..\Views\DesTask\SpecPlanList.cshtml"
                     Write(Url.Action("SpecPlanListJson", "DesTask",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?FormMenu=SpecPlanList\';\r\n\r\n        var params = {\r\n        };\r\n\r\n        $(funct" +
"ion () {\r\n\r\n            JQ.datagrid.datagrid({\r\n                JQButtonTypes: [" +
"\'export\', \'moreSearch\'],//需要显示的按钮\r\n                JQPrimaryID: \'Id\',//主键的字段\r\n  " +
"              JQID: \'SpecPlanGrid\',//数据表格ID\r\n                JQDialogTitle: \'信息\'" +
",//弹出窗体标题\r\n                JQWidth: \'768\',//弹出窗体宽\r\n                JQHeight: \'10" +
"0%\',//弹出窗体高\r\n                JQLoadingType: \'datagrid\',//数据表格类型 [datagrid,datagr" +
"id]\r\n                JQFields: [\"Id\"],//追加的字段名\r\n                url: requestUrl," +
"//请求的地址\r\n                checkOnSelect: false,\r\n                selectOnCheck: f" +
"alse,\r\n                singleSelect: true,\r\n                JQExcludeCol: [9],\r\n" +
"                queryParams: params,\r\n                //JQMergeCells: { fields: " +
"[\'ProjNumber\', \'ProjName\'], Only: \'Id\' },//当字段值相同时会自动的跨行(只对相邻有效)\r\n              " +
"  toolbar: \'#DesTaskPanel\',//工具栏的容器ID\r\n                JQExcludeCol: [11],\r\n    " +
"            columns: [[\r\n                    //{ field: \'ck\', align: \'center\', c" +
"heckbox: true, JQIsExclude: true },\r\n\t\t            { title: \'项目编号\', field: \'Proj" +
"Number\', width: \'8%\', align: \'center\', sortable: false },\r\n\t\t            { title" +
": \'项目名称\', field: \'ProjName\', width: \'26%\', align: \'left\', sortable: false },\r\n  " +
"                  { title: \'阶段\', field: \'ProjPhaseName\', width: \'8%\', align: \'ce" +
"nter\', sortable: false },\r\n                    {\r\n                        title:" +
" \'阶段状态\', field: \'ProjPhaseStatusName\', width: 80, align: \'center\', formatter: fu" +
"nction (value, row, index) {\r\n                            var icon = \"\";\r\n      " +
"                      var title = \"\";\r\n                            switch (row.P" +
"rojPhaseStatus) {\r\n                                case 0:\r\n                    " +
"                title = \"未启动\";\r\n                                    icon = \"fa-c" +
"ircle-o text-muted\";\r\n                                    break;\r\n              " +
"                  case 1:\r\n                                    title = \"已轮到\";\r\n " +
"                                   icon = \"fa-dot-circle-o text-warning\";\r\n     " +
"                               break;\r\n                                case 2:\r\n" +
"                                    title = \"进行中\";\r\n                            " +
"        icon = \"fa-play-circle text-success\";\r\n                                 " +
"   break;\r\n                                case 3:\r\n                            " +
"        title = \"已完成\";\r\n                                    icon = \"fa-check-cir" +
"cle text-info\";\r\n                                    break;\r\n                   " +
"             case 4:\r\n                                    title = \"已停止\";\r\n      " +
"                              icon = \"fa-minus-circle text-danger\";\r\n           " +
"                         break;\r\n                            }\r\n                " +
"            row.ProjPhaseStatusName = title;\r\n                            return" +
" \"<i class=\\\"fa \" + icon + \"\\\" style=\\\"font-size: 16px;\\\" title=\\\"\" + title + \"\\" +
"\"></i>&nbsp;\" + title;\r\n                        }\r\n                    },\r\n     " +
"               { title: \'阶段负责人\', field: \'ProjPhaseEmpName\', width: \'8%\', align: " +
"\'center\', sortable: false },\r\n                    { title: \'专业\', field: \'ProjSpe" +
"cName\', width: \'8%\', align: \'center\', sortable: false },\r\n                    { " +
"title: \'专业负责人\', field: \'ProjSpecEmpName\', width: \'8%\', align: \'center\', sortable" +
": false },\r\n\t\t            { title: \'计划开始\', field: \'DatePlanStart\', width: 80, al" +
"ign: \'center\', sortable: false, formatter: JQ.tools.DateTimeFormatterByT },\r\n\t\t " +
"           { title: \'计划结束\', field: \'DatePlanFinish\', width: 80, align: \'center\'," +
" sortable: false, formatter: JQ.tools.DateTimeFormatterByT },\r\n                 " +
"   {\r\n                        title: \'进度\', field: \'ProgressVer\', width: 80, alig" +
"n: \'center\', formatter: function (value, row, index) {\r\n                        " +
"    if (row.TaskTotalCount == 0) {\r\n                                row.Progress" +
"Ver = \"0%\";\r\n                            } else {\r\n                             " +
"   row.ProgressVer = \"{0}%\".format(Math.ceil(row.TaskFinishCount / row.TaskTotal" +
"Count * 100));\r\n                            }\r\n                            var _" +
"titleName = \"项目进度：[{0}]{1} &gt; {2}\".format(row.ProjNumber.escapeHTML(), row.Pro" +
"jName.escapeHTML(), row.ProjPhaseName);\r\n                            return \'<di" +
"v title=\"已完任务 {1} / 全部任务 {2}\" onclick=\"openProjectProgressInfo(\\\'{3}\\\', {4}, {5}" +
")\" class=\"easyui-progressbar progressbar easyui-fluid\" style=\"width: 69px; heigh" +
"t: 22px; cursor:pointer;\"><div class=\"progressbar-text\" style=\"width: 69px; heig" +
"ht: 22px; line-height: 22px;\">{0}</div><div class=\"progressbar-value\" style=\"wid" +
"th: {0}; height: 22px; line-height: 22px;\"><div class=\"progressbar-text\" style=\"" +
"width: 69px; height: 22px; line-height: 22px;\">{0}</div></div></div>\'.format(row" +
".ProgressVer, row.TaskFinishCount, row.TaskTotalCount, _titleName, row.Id, row.T" +
"askGroupId);\r\n                        }\r\n                    },\r\n               " +
"     {\r\n                        title: \'操作\', field: \'Id\', width: 80, align: \'cen" +
"ter\', formatter: function (value, row, index) {\r\n                            var" +
" _titleName = \"专业策划：[{0}]{1} &gt; {2} &gt; {3}\".format(row.ProjNumber.escapeHTML" +
"(), row.ProjName.escapeHTML(), row.ProjPhaseName, row.ProjSpecName);\r\n          " +
"                  return \"<a href=\\\"javascript:void(0);\\\" class=\\\"easyui-linkbut" +
"ton\\\" data-options=\\\"plain:true,iconCls:\'fa fa-trash\'\\\" onclick=\\\"openProjPlanIn" +
"fo(\'{0}\',{1},{2},{3})\\\">专业策划</a>\".format(_titleName, row.Id, row.TaskGroupId, ro" +
"w.ProjSpecId);\r\n                        }\r\n                    }\r\n              " +
"  ]],\r\n                onClickRow: function (rowIndex, rowData) {\r\n             " +
"       $(\"#SpecPlanGrid\").datagrid(\'unselectRow\', rowIndex);\r\n                }\r" +
"\n            });\r\n\r\n            $(\"#JQSearch\").textbox({\r\n                button" +
"Text: \'筛选\',\r\n                buttonIcon: \'fa fa-search\',\r\n                height" +
": 25,\r\n                prompt: \'项目名称、编号\',\r\n                onClickButton: functi" +
"on () {\r\n                    JQ.datagrid.searchGrid(\r\n                        {\r" +
"\n                            dgID: \'SpecPlanGrid\',\r\n                            " +
"loadingType: \'datagrid\',\r\n                            queryParams: params\r\n     " +
"                   });\r\n                }\r\n            });\r\n\r\n        });\r\n\r\n   " +
"     function openProjPlanInfo(title, projId, taskGroupId, taskSpecId) {\r\n      " +
"      var url = \'");

            
            #line 132 "..\..\Views\DesTask\SpecPlanList.cshtml"
                  Write(Url.Action("SpecPlanInfo"));

            
            #line default
            #line hidden
WriteLiteral(@"?tabId=3&projID=' + projId + '&taskGroupId=' + taskGroupId + '&taskSpecId=' + taskSpecId;

            //window.top.addTab(""专业策划:"" + title, url, """");

            JQ.dialog.dialogIframe({
                title: title,
                url: url,
                width: 1366,
                height: 800
            });
        }

        function openProjectProgressInfo(title, projId, taskGroupId) {
            var url = '");

            
            #line 145 "..\..\Views\DesTask\SpecPlanList.cshtml"
                  Write(Url.Action("ProjectProgressInfo", "DesTask", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?projID=\' + projId + \'&taskGroupId=\' + taskGroupId\r\n            JQ.dialog.dialogI" +
"frame({\r\n                title: title,\r\n                url: url,\r\n             " +
"   width: 1200,\r\n                height: 800\r\n            });\r\n        }\r\n    </" +
"script>\r\n");

});

WriteLiteral("\r\n");

        }
    }
}
#pragma warning restore 1591

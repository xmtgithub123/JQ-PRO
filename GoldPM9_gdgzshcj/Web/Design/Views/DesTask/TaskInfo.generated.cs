#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/DesTask/TaskInfo.cshtml")]
    public partial class _Views_DesTask_TaskInfo_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_DesTask_TaskInfo_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n<link");

WriteAttribute("href", Tuple.Create(" href=\"", 7), Tuple.Create("\"", 64)
            
            #line 2 "..\..\Views\DesTask\TaskInfo.cshtml"
, Tuple.Create(Tuple.Create("", 14), Tuple.Create<System.Object, System.Int32>(Url.Content("~/Scripts/uploader/jq.upload.css")
            
            #line default
            #line hidden
, 14), false)
);

WriteLiteral(" rel=\"stylesheet\"");

WriteLiteral(" />\r\n\r\n<style");

WriteLiteral(" type=\"text/css\"");

WriteLiteral(">\r\n    #TaskInfoDiv .tree-title {\r\n        height: auto;\r\n    }\r\n\r\n    .FlowNodeC" +
"lass td {\r\n        font-size: 12px !important;\r\n        height: 20px !important;" +
"\r\n        border: 1px solid #D3D3D3;\r\n    }\r\n</style>\r\n<style");

WriteLiteral(" type=\"text/css\"");

WriteLiteral(@">
    .jq-panel .list-group-item {
        border-bottom: 1px solid #dbdbdb;
        padding: 10px 15px;
    }

    .jq-panel-heading {
        font-weight: bold;
    }

    .jq-btn-block {
        width: auto;
    }

    .jq-btn {
        padding: 2px 12px;
    }

    .jq-panel .list-group-item span.item-title {
        display: inline-block;
        float: left;
        width: 60px;
        text-align: left;
        margin-right: 5px;
    }

    .jq-panel .list-group-item p.item-text {
        padding-left: 70px;
        /* margin: -15px 0; */
        text-indent: -0px;
        color: #848484;
    }
</style>

<!--前置任务列表模板-->
<script");

WriteLiteral(" id=\"TaskInfo_listPreTaskTpl\"");

WriteLiteral(" type=\"text/x-dot-template\"");

WriteLiteral(@">
    {{~it:value:index}}
    <li class=""list-group-item clearfix""><span class=""item-title"">{{=value.TaskEmpName}}:</span><p class=""item-text""><i class=""{{=GetTaskStatusIconCls(value.TaskStatus)}}""></i>&nbsp;<a href=""javascript:showPreTaskInfo({{=value.Id}}, '{{=value.TaskName.escapeHTML()}}');"">{{=value.TaskName}}</a><span class=""badge badge-important pull-right"">{{=(value.NeedApproveCount == 0 ? """" : value.NeedApproveCount)}}</span></p></li>
    {{~}}
</script>

<div");

WriteLiteral(" id=\"TaskInfoDiv\"");

WriteLiteral(" class=\"easyui-layout\"");

WriteLiteral(" data-options=\"fit:true\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" data-options=\"region:\'center\',border:false\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"easyui-layout\"");

WriteLiteral(" data-options=\"fit:true\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" data-options=\"region:\'north\',border:false\"");

WriteLiteral(" style=\"border-bottom-width:1px;overflow:hidden\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" style=\"height:30px;padding:5px 0px;\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" style=\"float:left;margin-left:5px;\"");

WriteLiteral(">\r\n                        <a");

WriteLiteral(" id=\"createFolder\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-folder-open fa-lg\'\"");

WriteLiteral(">创建文件夹</a>\r\n                        <a");

WriteLiteral(" id=\"upFile\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-upload fa-lg\'\"");

WriteLiteral(">上传</a>\r\n                        <a");

WriteLiteral(" id=\"downFile\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-download fa-lg\'\"");

WriteLiteral(">下载</a>\r\n                        <a");

WriteLiteral(" id=\"delFile\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-trash fa-lg\'\"");

WriteLiteral(">删除</a>\r\n                        <a");

WriteLiteral(" id=\"reloadFiles\"");

WriteLiteral(" data-options=\"iconCls:\'fa fa-repeat fa-lg\',plain:true\"");

WriteLiteral(">刷新</a>\r\n                    </div>\r\n                    <div");

WriteLiteral(" style=\"float:right;margin-right:5px\"");

WriteLiteral(">\r\n                        <a");

WriteLiteral(" id=\"BtnMulstSign\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-pencil-square-o fa-lg\'\"");

WriteLiteral("><strong>提交会签</strong></a>\r\n                        <a");

WriteLiteral(" id=\"BtnExch\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-share-square-o fa-lg\'\"");

WriteLiteral("><strong>提出资料</strong></a>\r\n                        <span");

WriteLiteral(" class=\"datagrid-btn-separator\"");

WriteLiteral(" style=\"vertical-align: middle; height: 22px;display:inline-block;float:none;padd" +
"ing-right:5px;\"");

WriteLiteral("></span>\r\n                        <a");

WriteLiteral(" class=\"jq-btn-success\"");

WriteLiteral(" id=\"BtnNext\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-legal fa-lg\'\"");

WriteLiteral("><strong>提交校审</strong></a>\r\n                    </div>\r\n                </div>\r\n " +
"           </div>\r\n            <div");

WriteLiteral(" data-options=\"region:\'center\',border:false\"");

WriteLiteral(">\r\n                <span");

WriteLiteral(" id=\"_desupload_$_1_temp\"");

WriteLiteral("></span>\r\n                <table");

WriteLiteral(" id=\"TaskInfo_files\"");

WriteLiteral("></table>\r\n                <div");

WriteLiteral(" id=\"TaskInfo_rigthMenu\"");

WriteLiteral(" data-options=\"onClick:TaskInfo_rigthMenuHandler\"");

WriteLiteral(" class=\"easyui-menu\"");

WriteLiteral(" style=\"width:100px;display: none;\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" id=\"showAttachSplitFiles\"");

WriteLiteral(" data-options=\"iconCls:\'fa fa-object-ungroup\'\"");

WriteLiteral(">拆图文件</div>\r\n                    <div");

WriteLiteral(" id=\"showAttachHistory\"");

WriteLiteral(" data-options=\"iconCls:\'fa fa-history\'\"");

WriteLiteral(">历史版本</div>\r\n                    <div");

WriteLiteral(" id=\"showAttachInfo\"");

WriteLiteral(" data-options=\"iconCls:\'fa fa-info-circle\'\"");

WriteLiteral(">文件属性</div>\r\n                </div>\r\n            </div>\r\n            <div");

WriteLiteral(" data-options=\"region:\'south\',border:false,split:true,title:\'工具面板\',collapsible:tr" +
"ue\"");

WriteLiteral(" style=\"height:350px\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"TaskTab\"");

WriteLiteral(" class=\"easyui-tabs\"");

WriteLiteral(" data-options=\"fit:true\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" title=\"校审意见\"");

WriteAttribute("url", Tuple.Create(" url=\"", 4165), Tuple.Create("\"", 4268)
            
            #line 87 "..\..\Views\DesTask\TaskInfo.cshtml"
, Tuple.Create(Tuple.Create("", 4171), Tuple.Create<System.Object, System.Int32>(Url.Action("TaskCheckList","DesTaskCheck")
            
            #line default
            #line hidden
, 4171), false)
, Tuple.Create(Tuple.Create("", 4214), Tuple.Create("?taskId=", 4214), true)
            
            #line 87 "..\..\Views\DesTask\TaskInfo.cshtml"
              , Tuple.Create(Tuple.Create("", 4222), Tuple.Create<System.Object, System.Int32>(ViewBag.TaskModel.Id
            
            #line default
            #line hidden
, 4222), false)
, Tuple.Create(Tuple.Create("", 4243), Tuple.Create("&divid=", 4243), true)
            
            #line 87 "..\..\Views\DesTask\TaskInfo.cshtml"
                                          , Tuple.Create(Tuple.Create("", 4250), Tuple.Create<System.Object, System.Int32>(ViewBag._DialogId
            
            #line default
            #line hidden
, 4250), false)
);

WriteLiteral("></div>\r\n                    <div");

WriteLiteral(" title=\"差错排查\"");

WriteAttribute("url", Tuple.Create(" url=\"", 4315), Tuple.Create("\"", 4430)
            
            #line 88 "..\..\Views\DesTask\TaskInfo.cshtml"
, Tuple.Create(Tuple.Create("", 4321), Tuple.Create<System.Object, System.Int32>(Url.Action("MisTakeList","DesTaskCheck")
            
            #line default
            #line hidden
, 4321), false)
, Tuple.Create(Tuple.Create("", 4362), Tuple.Create("?taskId=", 4362), true)
            
            #line 88 "..\..\Views\DesTask\TaskInfo.cshtml"
            , Tuple.Create(Tuple.Create("", 4370), Tuple.Create<System.Object, System.Int32>(ViewBag.TaskModel.Id
            
            #line default
            #line hidden
, 4370), false)
, Tuple.Create(Tuple.Create("", 4391), Tuple.Create("&divid=", 4391), true)
            
            #line 88 "..\..\Views\DesTask\TaskInfo.cshtml"
                                        , Tuple.Create(Tuple.Create("", 4398), Tuple.Create<System.Object, System.Int32>(ViewBag._DialogId
            
            #line default
            #line hidden
, 4398), false)
, Tuple.Create(Tuple.Create("", 4416), Tuple.Create("&from=TaskInfo", 4416), true)
);

WriteLiteral("></div>\r\n                    <div");

WriteLiteral(" title=\"会签记录\"");

WriteAttribute("url", Tuple.Create(" url=\"", 4477), Tuple.Create("\"", 4581)
            
            #line 89 "..\..\Views\DesTask\TaskInfo.cshtml"
, Tuple.Create(Tuple.Create("", 4483), Tuple.Create<System.Object, System.Int32>(Url.Action("DesMutiSignList","DesMutiSign")
            
            #line default
            #line hidden
, 4483), false)
, Tuple.Create(Tuple.Create("", 4527), Tuple.Create("?taskId=", 4527), true)
            
            #line 89 "..\..\Views\DesTask\TaskInfo.cshtml"
               , Tuple.Create(Tuple.Create("", 4535), Tuple.Create<System.Object, System.Int32>(ViewBag.TaskModel.Id
            
            #line default
            #line hidden
, 4535), false)
, Tuple.Create(Tuple.Create("", 4556), Tuple.Create("&divid=", 4556), true)
            
            #line 89 "..\..\Views\DesTask\TaskInfo.cshtml"
                                           , Tuple.Create(Tuple.Create("", 4563), Tuple.Create<System.Object, System.Int32>(ViewBag._DialogId
            
            #line default
            #line hidden
, 4563), false)
);

WriteLiteral("></div>\r\n                    <div");

WriteLiteral(" title=\"提资记录\"");

WriteAttribute("url", Tuple.Create(" url=\"", 4628), Tuple.Create("\"", 4729)
            
            #line 90 "..\..\Views\DesTask\TaskInfo.cshtml"
, Tuple.Create(Tuple.Create("", 4634), Tuple.Create<System.Object, System.Int32>(Url.Action("DesSpecExchList", "DesExch")
            
            #line default
            #line hidden
, 4634), false)
, Tuple.Create(Tuple.Create("", 4675), Tuple.Create("?taskId=", 4675), true)
            
            #line 90 "..\..\Views\DesTask\TaskInfo.cshtml"
            , Tuple.Create(Tuple.Create("", 4683), Tuple.Create<System.Object, System.Int32>(ViewBag.TaskModel.Id
            
            #line default
            #line hidden
, 4683), false)
, Tuple.Create(Tuple.Create("", 4704), Tuple.Create("&divid=", 4704), true)
            
            #line 90 "..\..\Views\DesTask\TaskInfo.cshtml"
                                        , Tuple.Create(Tuple.Create("", 4711), Tuple.Create<System.Object, System.Int32>(ViewBag._DialogId
            
            #line default
            #line hidden
, 4711), false)
);

WriteLiteral("></div>\r\n                    <div");

WriteLiteral(" title=\"备注\"");

WriteAttribute("url", Tuple.Create(" url=\"", 4774), Tuple.Create("\"", 4796)
            
            #line 91 "..\..\Views\DesTask\TaskInfo.cshtml"
, Tuple.Create(Tuple.Create("", 4780), Tuple.Create<System.Object, System.Int32>(ViewBag.AltHtml
            
            #line default
            #line hidden
, 4780), false)
);

WriteLiteral("></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n" +
"    <div");

WriteLiteral(" data-options=\"region:\'east\',border:false,split:true,title:\'详情面板\',collapsible:tru" +
"e\"");

WriteLiteral(" style=\"width:300px\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" style=\"margin:10px 10px \"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"jq-panel jq-panel-default\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"jq-panel-heading\"");

WriteLiteral(">前置任务</div>\r\n                <ul");

WriteLiteral(" class=\"list-group\"");

WriteLiteral(" id=\"listPreTask\"");

WriteLiteral("></ul>\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"jq-panel jq-panel-default\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"jq-panel-heading\"");

WriteLiteral(">任务详情</div>\r\n                <ul");

WriteLiteral(" class=\"list-group\"");

WriteLiteral(">\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">任务编号:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral(">");

            
            #line 105 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                              Write(Html.Raw(ViewBag.TaskModel.TaskNumber));

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">任务名称:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral(">");

            
            #line 106 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                              Write(Html.Raw(ViewBag.TaskModel.TaskName));

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">所属专业:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral(">");

            
            #line 107 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                               Write(ViewBag.TaskSpecName);

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">执行人员:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral(">");

            
            #line 108 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                               Write(ViewBag.TaskModel.TaskEmpName);

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">计划开始:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral("> ");

            
            #line 109 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                Write(ViewBag.TaskModel.DatePlanStart.Year == 1900 ? "" : ViewBag.TaskModel.DatePlanStart.ToString("yyyy-MM-dd"));

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">计划完成:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral(">");

            
            #line 110 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                               Write(ViewBag.TaskModel.DatePlanFinish.Year == 1900 ? "" : ViewBag.TaskModel.DatePlanFinish.ToString("yyyy-MM-dd"));

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral(">\r\n                        <a");

WriteLiteral(" class=\"jq-btn jq-btn-success jq-btn-block\"");

WriteLiteral(" id=\"BtnTaskStart\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-play-circle fa-lg\"");

WriteLiteral("></i><strong> 启动当前任务</strong></a>\r\n                        <a");

WriteLiteral(" class=\"jq-btn jq-btn-info jq-btn-block\"");

WriteLiteral(" id=\"BtnTaskFinish\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-check-circle fa-lg\"");

WriteLiteral("></i><strong> 关闭当前任务</strong></a>\r\n                        <a");

WriteLiteral(" class=\"jq-btn jq-btn-info jq-btn-block\"");

WriteLiteral(" id=\"BtnReSign\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-check-circle fa-lg\"");

WriteLiteral("></i><strong> 重新签名文件</strong></a>\r\n                        <a");

WriteLiteral(" class=\"jq-btn jq-btn-info jq-btn-block\"");

WriteLiteral(" id=\"Publish\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-check-circle fa-lg\"");

WriteLiteral("></i><strong> 发起：出版单</strong></a>\r\n                    </li>\r\n                </u" +
"l>\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"jq-panel jq-panel-default\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"jq-panel-heading\"");

WriteLiteral(">项目详情</div>\r\n                <ul");

WriteLiteral(" class=\"list-group\"");

WriteLiteral(">\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">项目编号:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral(">");

            
            #line 122 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                              Write(Html.Raw(ViewBag.ProjModel.ProjNumber));

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">项目名称:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral(">");

            
            #line 123 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                              Write(Html.Raw(ViewBag.ProjModel.ProjName));

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">项目阶段:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral(">");

            
            #line 124 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                               Write(ViewBag.TaskPhaseName);

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">负责人员:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral(">");

            
            #line 125 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                              Write(ViewBag.ProjModel.ProjEmpName);

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">计划开始:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral(">");

            
            #line 126 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                               Write(ViewBag.ProjModel.DatePlanStart.Year == 1900 ? "" : ViewBag.ProjModel.DatePlanStart.ToString("yyyy-MM-dd"));

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral("><span");

WriteLiteral(" class=\"item-title\"");

WriteLiteral(">计划结束:</span><p");

WriteLiteral(" class=\"item-text\"");

WriteLiteral(">");

            
            #line 127 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                               Write(ViewBag.ProjModel.DatePlanFinish.Year == 1900 ? "" : ViewBag.ProjModel.DatePlanFinish.ToString("yyyy-MM-dd"));

            
            #line default
            #line hidden
WriteLiteral("</p></li>\r\n                    <li");

WriteLiteral(" class=\"list-group-item clearfix\"");

WriteLiteral(">\r\n                        <a");

WriteLiteral(" class=\"jq-btn jq-btn-info jq-btn-block\"");

WriteLiteral(" id=\"BtnShowProjectProgressInfo\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-sitemap fa-lg\"");

WriteLiteral("></i><strong> 查看项目进度</strong></a>\r\n                        <a");

WriteLiteral(" class=\"jq-btn jq-btn-info jq-btn-block\"");

WriteLiteral(" id=\"BtnShowProjectEvent\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-edit fa-lg\"");

WriteLiteral("></i><strong> 查看项目记事</strong></a>\r\n                        <a");

WriteLiteral(" class=\"jq-btn jq-btn-info jq-btn-block\"");

WriteLiteral(" id=\"BtnShowProjectReceive\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-paste fa-lg\"");

WriteLiteral("></i><strong> 查看项目收资</strong></a>\r\n                        <a");

WriteLiteral(" class=\"jq-btn jq-btn-info jq-btn-block\"");

WriteLiteral(" id=\"BtnShowProjectDiscuss\"");

WriteLiteral(" style=\"display:none;\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-comments fa-lg\"");

WriteLiteral("></i><strong> 查看项目讨论</strong></a>\r\n                    </li>\r\n                </u" +
"l>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 9320), Tuple.Create("\"", 9364)
            
            #line 140 "..\..\Views\DesTask\TaskInfo.cshtml"
, Tuple.Create(Tuple.Create("", 9326), Tuple.Create<System.Object, System.Int32>(Url.Content("~/Scripts/doT.min.js")
            
            #line default
            #line hidden
, 9326), false)
);

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral("></script>\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 9407), Tuple.Create("\"", 9455)
            
            #line 141 "..\..\Views\DesTask\TaskInfo.cshtml"
, Tuple.Create(Tuple.Create("", 9413), Tuple.Create<System.Object, System.Int32>(Url.Content("~/Scripts/touchSlider.js")
            
            #line default
            #line hidden
, 9413), false)
);

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral("></script>\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 9498), Tuple.Create("\"", 9550)
            
            #line 142 "..\..\Views\DesTask\TaskInfo.cshtml"
, Tuple.Create(Tuple.Create("", 9504), Tuple.Create<System.Object, System.Int32>(Url.Content("~/Scripts/uploader/upload.js")
            
            #line default
            #line hidden
, 9504), false)
);

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral("></script>\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 9593), Tuple.Create("\"", 9652)
            
            #line 143 "..\..\Views\DesTask\TaskInfo.cshtml"
, Tuple.Create(Tuple.Create("", 9599), Tuple.Create<System.Object, System.Int32>(Url.Content("~/Scripts/uploader/jq.taskUpload.js")
            
            #line default
            #line hidden
, 9599), false)
);

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral("></script>\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 9695), Tuple.Create("\"", 9742)
            
            #line 144 "..\..\Views\DesTask\TaskInfo.cshtml"
, Tuple.Create(Tuple.Create("", 9701), Tuple.Create<System.Object, System.Int32>(Url.Content("~/Scripts/JQ/DesFlow.js")
            
            #line default
            #line hidden
, 9701), false)
);

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral("></script>\r\n\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n\r\n    var _enum_Design_TaskGroupStatus_未启动 = ");

            
            #line 148 "..\..\Views\DesTask\TaskInfo.cshtml"
                                       Write((int)DBSql.Design.TaskGroupStatus.未启动);

            
            #line default
            #line hidden
WriteLiteral(";\r\n    var _enum_Design_TaskGroupStatus_进行中 = ");

            
            #line 149 "..\..\Views\DesTask\TaskInfo.cshtml"
                                       Write((int)DBSql.Design.TaskGroupStatus.进行中);

            
            #line default
            #line hidden
WriteLiteral(";\r\n    var _enum_Design_TaskGroupStatus_已完成 = ");

            
            #line 150 "..\..\Views\DesTask\TaskInfo.cshtml"
                                       Write((int)DBSql.Design.TaskGroupStatus.已完成);

            
            #line default
            #line hidden
WriteLiteral(";\r\n    var _enum_Design_TaskGroupStatus_已停止 = ");

            
            #line 151 "..\..\Views\DesTask\TaskInfo.cshtml"
                                       Write((int)DBSql.Design.TaskGroupStatus.已停止);

            
            #line default
            #line hidden
WriteLiteral(";\r\n\r\n    var _enum_Design_TaskStatus_未启动 = ");

            
            #line 153 "..\..\Views\DesTask\TaskInfo.cshtml"
                                  Write((int)DBSql.Design.TaskStatus.未启动);

            
            #line default
            #line hidden
WriteLiteral(";\r\n    var _enum_Design_TaskStatus_已安排 = ");

            
            #line 154 "..\..\Views\DesTask\TaskInfo.cshtml"
                                  Write((int)DBSql.Design.TaskStatus.已安排);

            
            #line default
            #line hidden
WriteLiteral(";\r\n    var _enum_Design_TaskStatus_进行中 = ");

            
            #line 155 "..\..\Views\DesTask\TaskInfo.cshtml"
                                  Write((int)DBSql.Design.TaskStatus.进行中);

            
            #line default
            #line hidden
WriteLiteral(";\r\n    var _enum_Design_TaskStatus_已完成 = ");

            
            #line 156 "..\..\Views\DesTask\TaskInfo.cshtml"
                                  Write((int)DBSql.Design.TaskStatus.已完成);

            
            #line default
            #line hidden
WriteLiteral(";\r\n    var _enum_Design_TaskStatus_已停止 = ");

            
            #line 157 "..\..\Views\DesTask\TaskInfo.cshtml"
                                  Write((int)DBSql.Design.TaskStatus.已停止);

            
            #line default
            #line hidden
WriteLiteral(";\r\n\r\n    var _TaskGroupInfoGroupStatus = \'");

            
            #line 159 "..\..\Views\DesTask\TaskInfo.cshtml"
                                Write(ViewBag.TaskGroupModel.TaskGroupStatus);

            
            #line default
            #line hidden
WriteLiteral("\';\r\n    var _TaskInfoTaskStatus = \'");

            
            #line 160 "..\..\Views\DesTask\TaskInfo.cshtml"
                          Write(ViewBag.TaskModel.TaskStatus);

            
            #line default
            #line hidden
WriteLiteral("\';\r\n    var _TaskInfoTaskEmpId = \'");

            
            #line 161 "..\..\Views\DesTask\TaskInfo.cshtml"
                         Write(ViewBag.TaskModel.TaskEmpID);

            
            #line default
            #line hidden
WriteLiteral("\';\r\n    var _TaskInfoCurrentUserId = \'");

            
            #line 162 "..\..\Views\DesTask\TaskInfo.cshtml"
                             Write(ViewBag.EmpID);

            
            #line default
            #line hidden
WriteLiteral("\';\r\n    var _TaskInfoDesTaskApproveMode = \'");

            
            #line 163 "..\..\Views\DesTask\TaskInfo.cshtml"
                                  Write(ViewBag._DesTaskApproveMode);

            
            #line default
            #line hidden
WriteLiteral("\';\r\n\r\n    var _TaskInfoDesignUpload = new JQ.taskUpload();\r\n\r\n    // 打开模态对话框\r\n   " +
" function TaskInfo_showModelDialog(title, url, width, height, onclose) {\r\n      " +
"  var _TaskInfo_DialogdivId = JQ.dialog.dialog({\r\n            title: decodeURICo" +
"mponent(title),\r\n            url: url,\r\n            width: width,\r\n            h" +
"eight: height,\r\n            JQID: \"\",\r\n            JQLoadingType: \"\",\r\n         " +
"   iconCls: \"fa fa-table\",\r\n            onClose: onclose\r\n        });\r\n        J" +
"Q.Flow.stopBubble();\r\n\r\n        // 刷新列表\r\n        window.top[\"_DialogCallback_\" +" +
"_TaskInfo_DialogdivId] = function () {\r\n            $(\"#TaskInfo_files\", $(\"#Tas" +
"kInfoDiv\")).treegrid(\"clearSelections\");\r\n            $(\"#TaskInfo_files\", $(\"#T" +
"askInfoDiv\")).treegrid(\"clearChecked\");\r\n            $(\"#TaskInfo_files\", $(\"#Ta" +
"skInfoDiv\")).treegrid(\"reload\");\r\n            TaskInfoGetPreTaskList();\r\n       " +
" }\r\n    }\r\n\r\n\r\n    //校审按钮----首次提交\r\n    $(\"#BtnNext\", $(\"#TaskInfoDiv\")).click(fu" +
"nction () {\r\n        if ($(this).linkbutton(\'options\').disabled == false) {\r\n   " +
"         var getChecks= $(\'#TaskInfo_files\').treegrid(\"getChecked\");\r\n          " +
"  if (getChecks.length==0) {\r\n                JQ.dialog.warning(\"请在列表中勾选要处理的项！！！" +
"\");\r\n                return false;\r\n            }\r\n            var _idSet = Enum" +
"erable.From(getChecks).Select(\"x=>x.AttachID\").ToArray();\r\n            //需要验证备注是" +
"否填写错误\r\n            if (typeof(window.DesignInfoValid)==\"function\") {\r\n          " +
"      if(!window.DesignInfoValid()) {\r\n                    TabSelect_");

            
            #line 203 "..\..\Views\DesTask\TaskInfo.cshtml"
                          Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral("(\"备注\");\r\n                    return false;\r\n                }\r\n            }\r\n\r\n " +
"           //判断校审是否通过\r\n\r\n            if (typeof(window.top[\"NextDesignValid_");

            
            #line 210 "..\..\Views\DesTask\TaskInfo.cshtml"
                                               Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral("\"])==\"function\") {\r\n                if(!window.top[\"NextDesignValid_");

            
            #line 211 "..\..\Views\DesTask\TaskInfo.cshtml"
                                            Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral("\"](_idSet)) {\r\n                    $(\"#TaskTab\", $(\"#TaskInfoDiv\")).tabs(\"select\"" +
",0);\r\n                    return false;\r\n                }\r\n            }\r\n     " +
"       if (typeof(window.NextXiaoValid_");

            
            #line 216 "..\..\Views\DesTask\TaskInfo.cshtml"
                                        Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral(")==\"function\") {\r\n                if(!window.NextXiaoValid_");

            
            #line 217 "..\..\Views\DesTask\TaskInfo.cshtml"
                                     Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral("(_idSet)) {\r\n                    $(\"#TaskTab\", $(\"#TaskInfoDiv\")).tabs(\"select\",0" +
");\r\n                    return false;\r\n                }\r\n            }\r\n\r\n     " +
"       TaskInfo_showModelDialog(\r\n                \"提交校审确认\",\r\n                \'");

            
            #line 225 "..\..\Views\DesTask\TaskInfo.cshtml"
            Write(Url.Action("TaskInfoPostApprove"));

            
            #line default
            #line hidden
WriteLiteral("?Id=");

            
            #line 225 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                  Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral(@"&AttachIds='+_idSet,
                '1000',
                '600'
            );
        }
    });

    //会签按钮
    $(""#BtnMulstSign"", $(""#TaskInfoDiv"")).click(function () {
        if ($(this).linkbutton('options').disabled == false) {
            TabSelect_");

            
            #line 235 "..\..\Views\DesTask\TaskInfo.cshtml"
                  Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral(@"(""会签记录"");

            var getChecks= $('#TaskInfo_files').treegrid(""getChecked"");

            var files=Enumerable.From(getChecks).Where(""x=>x.AttachExt!='.'"").Select(""x=>x.AttachID"").ToArray();
            if (files.length<1) {
                alert(""请先选择会签文件！"");
                return ;
            }

            var _idSet = Enumerable.From(getChecks).Select(""x=>x.AttachID"").ToArray();
            TaskInfo_showModelDialog(
                '图纸会签',
                '");

            
            #line 248 "..\..\Views\DesTask\TaskInfo.cshtml"
            Write(Url.Action("DesMutiSignInfo", "DesMutiSign"));

            
            #line default
            #line hidden
WriteLiteral("?taskId=");

            
            #line 248 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                 Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral(@"&fileIds='+_idSet,
                900,
                800
            );
        }
    });

    // 提出资料
    $(""#BtnExch"", $(""#TaskInfoDiv"")).click(function () {
        if ($(this).linkbutton('options').disabled == false) {
            TabSelect_");

            
            #line 258 "..\..\Views\DesTask\TaskInfo.cshtml"
                  Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral("(\"提资记录\");\r\n\r\n            // \'");

            
            #line 260 "..\..\Views\DesTask\TaskInfo.cshtml"
           Write(Url.Action("SpecExchAdd","DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 260 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                             Write(ViewBag.TaskModel.ProjId);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 260 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                   Write(ViewBag.TaskModel.TaskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&ExchSpecID=\'+");

            
            #line 260 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                                               Write(ViewBag.TaskModel.TaskSpecId);

            
            #line default
            #line hidden
WriteLiteral(",\r\n            TaskInfo_showModelDialog(\r\n                \'添加提资计划\',\r\n            " +
"    \'");

            
            #line 263 "..\..\Views\DesTask\TaskInfo.cshtml"
            Write(Url.Action("ExchTaskList", "DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 263 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                Write(ViewBag.TaskModel.ProjId);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 263 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                      Write(ViewBag.TaskModel.TaskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&ExchSpecID=\'+");

            
            #line 263 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                                                  Write(ViewBag.TaskModel.TaskSpecId);

            
            #line default
            #line hidden
WriteLiteral("+\'&taskId=");

            
            #line 263 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                                                                                         Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                1200,\r\n                900\r\n            );\r\n        }\r\n    })" +
";\r\n\r\n    // 发起出版单\r\n    $(\"#Publish\", $(\"#TaskInfoDiv\")).click(function(){\r\n     " +
"   TaskInfo_showModelDialog(\r\n           \'发起出版单\',\r\n           \'");

            
            #line 274 "..\..\Views\DesTask\TaskInfo.cshtml"
       Write(Url.Action("PublishAdd", "IsoFormProjectPublish",new { @area="ISO"}));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 274 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                    Write(ViewBag.TaskModel.ProjId);

            
            #line default
            #line hidden
WriteLiteral("&TaskPhaseId=");

            
            #line 274 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                          Write(ViewBag.TaskModel.TaskPhaseId);

            
            #line default
            #line hidden
WriteLiteral("&ExchSpecID=\'+");

            
            #line 274 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                                                      Write(ViewBag.TaskModel.TaskSpecId);

            
            #line default
            #line hidden
WriteLiteral("+\'&taskId=");

            
            #line 274 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                                                                                             Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral("+&Ename=");

            
            #line 274 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                                                                                                                          Write(ViewBag.ProjModel.ProjEmpName);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n           1224,\r\n           800\r\n       );\r\n    });\r\n\r\n    //重新签名\r\n    $(\"#B" +
"tnReSign\", $(\"#TaskInfoDiv\")).click(function(){\r\n        JQ.dialog.confirm(\"确定要重" +
"新签名吗？\", function () {\r\n            $.ajax({\r\n                url: \"");

            
            #line 284 "..\..\Views\DesTask\TaskInfo.cshtml"
                  Write(Url.Action("TaskInfoReSign"));

            
            #line default
            #line hidden
WriteLiteral("?TaskId=");

            
            #line 284 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                         Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral(@""",
                type:""POST"",
                success: function (data) {
                    if(data.Result==true) {
                        JQ.dialog.info(""签名成功！"");
                    }
                    else {
                        JQ.dialog.info(""签名失败！"");
                    }
                }
            });
        }, null);
    });

    // 查看前置任务
    function showPreTaskInfo(taskId, title) {
        TaskInfo_showModelDialog(
            ""前置任务：{0}"".format(title),
            '");

            
            #line 302 "..\..\Views\DesTask\TaskInfo.cshtml"
        Write(Url.Action("TaskInfoApprove", "DesTask",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?from=SummaryTask&Id=\' + taskId + \'&ViewEmpID=");

            
            #line 302 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                     Write(ViewBag.ViewEmpID);

            
            #line default
            #line hidden
WriteLiteral(@"',
            1200,
            900,
            function () {
                TaskInfoGetPreTaskList();
            }
        );
    }

    // 启动任务
    $(""#BtnTaskStart"", $(""#TaskInfoDiv"")).click(function(){
        JQ.dialog.confirm(""确定重启当前任务吗？"", function () {
            JQ.tools.ajax({
                url: '");

            
            #line 315 "..\..\Views\DesTask\TaskInfo.cshtml"
                 Write(Url.Action("TaskInfoChangeTaskStart"));

            
            #line default
            #line hidden
WriteLiteral("?TaskId=");

            
            #line 315 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                data: {},\r\n                succesCollBack: function (data) {\r" +
"\n                    _TaskInfoTaskStatus = \'");

            
            #line 318 "..\..\Views\DesTask\TaskInfo.cshtml"
                                       Write((int)DBSql.Design.TaskStatus.进行中);

            
            #line default
            #line hidden
WriteLiteral(@"'
                    TaskInfoPageInit();
                }
            });
        }, null);
    });

    // 关闭任务
    $(""#BtnTaskFinish"", $(""#TaskInfoDiv"")).click(function(){
        JQ.dialog.confirm(""确定关闭当前任务吗？"", function () {
            JQ.tools.ajax({
                url: '");

            
            #line 329 "..\..\Views\DesTask\TaskInfo.cshtml"
                 Write(Url.Action("TaskInfoChangeTaskFinish"));

            
            #line default
            #line hidden
WriteLiteral("?TaskId=");

            
            #line 329 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                 Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                data: {},\r\n                succesCollBack: function (data) {\r" +
"\n                    _TaskInfoTaskStatus = \'");

            
            #line 332 "..\..\Views\DesTask\TaskInfo.cshtml"
                                       Write((int)DBSql.Design.TaskStatus.已完成);

            
            #line default
            #line hidden
WriteLiteral(@"'
                    TaskInfoPageInit();
                }
            });
        }, null);
    });

    // 查看项目进度
    $(""#BtnShowProjectProgressInfo"", $(""#TaskInfoDiv"")).click(function(){
        JQ.dialog.dialogIframe({
            title: ""项目进度：[{0}]{1} ＞ {2}"".format('");

            
            #line 342 "..\..\Views\DesTask\TaskInfo.cshtml"
                                            Write(Html.Raw(ViewBag.ProjModel.ProjNumber));

            
            #line default
            #line hidden
WriteLiteral("\', \'");

            
            #line 342 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                       Write(Html.Raw(ViewBag.ProjModel.ProjName));

            
            #line default
            #line hidden
WriteLiteral("\', \'");

            
            #line 342 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                 Write(ViewBag.TaskPhaseName);

            
            #line default
            #line hidden
WriteLiteral("\'),\r\n            url: \'");

            
            #line 343 "..\..\Views\DesTask\TaskInfo.cshtml"
             Write(Url.Action("ProjectProgressInfo"));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 343 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                        Write(ViewBag.ProjModel.Id);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 343 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                            Write(ViewBag.TaskModel.TaskGroupId);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            width: 1200,\r\n            height: 800\r\n        });\r\n    });\r\n\r\n  " +
"  //查看项目记事\r\n    $(\"#BtnShowProjectEvent\", $(\"#TaskInfoDiv\")).click(function(){\r\n" +
"        JQ.dialog.dialogIframe({\r\n            title:\"项目记事：[{0}]{1} ＞ {2}\".format" +
"(\'");

            
            #line 352 "..\..\Views\DesTask\TaskInfo.cshtml"
                                           Write(Html.Raw(ViewBag.ProjModel.ProjNumber));

            
            #line default
            #line hidden
WriteLiteral("\', \'");

            
            #line 352 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                      Write(Html.Raw(ViewBag.ProjModel.ProjName));

            
            #line default
            #line hidden
WriteLiteral("\', \'");

            
            #line 352 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                Write(ViewBag.TaskPhaseName);

            
            #line default
            #line hidden
WriteLiteral("\'),\r\n            url:  \'");

            
            #line 353 "..\..\Views\DesTask\TaskInfo.cshtml"
              Write(Url.Action("ProjEventList", "DesEvent"));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 353 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                               Write(ViewBag.ProjModel.Id);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 353 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                   Write(ViewBag.TaskModel.TaskGroupId);

            
            #line default
            #line hidden
WriteLiteral(@"',
            width: 1200,
            height: 800,
            onClose: function () {

            }
        });
    });

    //查看项目收资
    $(""#BtnShowProjectReceive"", $(""#TaskInfoDiv"")).click(function(){
        TaskInfo_showModelDialog(
            ""项目收资：[{0}]{1} ＞ {2}"".format('");

            
            #line 365 "..\..\Views\DesTask\TaskInfo.cshtml"
                                     Write(Html.Raw(ViewBag.ProjModel.ProjNumber));

            
            #line default
            #line hidden
WriteLiteral("\', \'");

            
            #line 365 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                Write(Html.Raw(ViewBag.ProjModel.ProjName));

            
            #line default
            #line hidden
WriteLiteral("\', \'");

            
            #line 365 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                          Write(ViewBag.TaskPhaseName);

            
            #line default
            #line hidden
WriteLiteral("\'),\r\n            \'");

            
            #line 366 "..\..\Views\DesTask\TaskInfo.cshtml"
        Write(Url.Action("ProjDesReceiveList", "DesReceive"));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 366 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                Write(ViewBag.ProjModel.Id);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 366 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                    Write(ViewBag.TaskModel.TaskGroupId);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            1200,\r\n            800\r\n        );\r\n    });\r\n\r\n    //查看项目讨论\r\n    " +
"$(\"#BtnShowProjectDiscuss\", $(\"#TaskInfoDiv\")).click(function(){\r\n        JQ.dia" +
"log.dialogIframe({\r\n            title:\"项目讨论：[{0}]{1} ＞ {2}\".format(\'");

            
            #line 375 "..\..\Views\DesTask\TaskInfo.cshtml"
                                           Write(Html.Raw(ViewBag.ProjModel.ProjNumber));

            
            #line default
            #line hidden
WriteLiteral("\', \'");

            
            #line 375 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                      Write(Html.Raw(ViewBag.ProjModel.ProjName));

            
            #line default
            #line hidden
WriteLiteral("\', \'");

            
            #line 375 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                Write(ViewBag.TaskPhaseName);

            
            #line default
            #line hidden
WriteLiteral("\'),\r\n            url:  \'");

            
            #line 376 "..\..\Views\DesTask\TaskInfo.cshtml"
              Write(Url.Action("ProjDiscussList", "DesDiscuss"));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 376 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                   Write(ViewBag.ProjModel.Id);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 376 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                       Write(ViewBag.TaskModel.TaskGroupId);

            
            #line default
            #line hidden
WriteLiteral(@"',
            width: 1200,
            height: 800,
            onClose: function () {

            }
        });
    });

    // 上传文件
    $(""#upFile"", $(""#TaskInfoDiv"")).click(function () {
        if ($(this).linkbutton('options').disabled == false) {
            _TaskInfoDesignUpload.open(""");

            
            #line 388 "..\..\Views\DesTask\TaskInfo.cshtml"
                                    Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral(@""", ""DesTaskAttach"");
        }
    });

    // 下载文件
    $(""#downFile"", $(""#TaskInfoDiv"")).click(function () {
        if ($(this).linkbutton('options').disabled == false) {
            TaskInfo_showModelDialog(
                ""批量下载"",
                '");

            
            #line 397 "..\..\Views\DesTask\TaskInfo.cshtml"
            Write(Url.Action("TaskAttach", "DesTask"));

            
            #line default
            #line hidden
WriteLiteral("?TaskId=");

            
            #line 397 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                         Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral(@"',
                1200,
                800
            );
        }
    });

    // 创建文件夹
    $(""#createFolder"", $(""#TaskInfoDiv"")).click(function () {
        if ($(this).linkbutton('options').disabled == false) {
            _TaskInfoDesignUpload.CreateFolder(""");

            
            #line 407 "..\..\Views\DesTask\TaskInfo.cshtml"
                                            Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral(@""", ""DesTaskAttach"");
        }
    });

    // 删除文件
    $(""#delFile"", $(""#TaskInfoDiv"")).click(function () {
        if ($(this).linkbutton('options').disabled == false) {
            _TaskInfoDesignUpload.DeleteFiles(0);
        }
    });

    // 刷新文件列表
    $(""#reloadFiles"", $(""#TaskInfoDiv"")).click(function () {
        //_dialogClose = false;
        $(""#TaskInfo_files"", $(""#TaskInfoDiv"")).treegrid(""clearSelections"");
        $(""#TaskInfo_files"", $(""#TaskInfoDiv"")).treegrid(""clearChecked"");
        $(""#TaskInfo_files"", $(""#TaskInfoDiv"")).treegrid(""reload"");
        TaskInfoGetPreTaskList();
    });

    //任务界面tab切换
    TabSelect_");

            
            #line 428 "..\..\Views\DesTask\TaskInfo.cshtml"
          Write(ViewBag._DialogId);

            
            #line default
            #line hidden
WriteLiteral("=function (title) {\r\n        $(\"#TaskTab\", $(\"#TaskInfoDiv\")).tabs(\"select\",title" +
");\r\n    }\r\n\r\n</script>\r\n\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">

    // 获取状态图标
    function GetTaskStatusIconCls(status)
    {
        var icon = """";
        switch (status)
        {
            case 0:
                icon = ""fa fa-circle-o"";
                break;
            case 1:
                icon = ""fa fa-dot-circle-o"";
                break;
            case 2:
                icon = ""fa fa-play-circle"";
                break;
            case 3:
                icon = ""fa fa-check-circle"";
                break;
            case 4:
                icon = ""fa fa-minus-circle"";
                break;
        }
        return icon;
    }

    // 获取前置任务
    function TaskInfoGetPreTaskList() {
        JQ.tools.ajax({
            url: '");

            
            #line 464 "..\..\Views\DesTask\TaskInfo.cshtml"
             Write(Url.Action("TaskInfoGetPreTaskListJson", "DesTask", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?TaskId=");

            
            #line 464 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                    Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            doBackResult: false,\r\n            succesCollBack: function (resul" +
"t) {\r\n                var interText = doT.template($(\"#TaskInfo_listPreTaskTpl\")" +
".text());\r\n                $(\"#listPreTask\", $(\"#TaskInfoDiv\")).html(interText(r" +
"esult.rows));\r\n            }\r\n        });\r\n    }\r\n\r\n    // 页面初始化\r\n    function T" +
"askInfoPageInit() {\r\n        debugger;\r\n        $(\"#createFolder\", $(\"#TaskInfoD" +
"iv\")).linkbutton();\r\n        $(\"#upFile\", $(\"#TaskInfoDiv\")).linkbutton();\r\n    " +
"    $(\"#downFile\", $(\"#TaskInfoDiv\")).linkbutton();\r\n        $(\"#delFile\", $(\"#T" +
"askInfoDiv\")).linkbutton();\r\n        //$(\"#upFile_toggle\", $(\"#TaskInfoDiv\")).li" +
"nkbutton();\r\n        $(\"#reloadFiles\", $(\"#TaskInfoDiv\")).linkbutton();\r\n\r\n     " +
"   $(\"#BtnMulstSign\", $(\"#TaskInfoDiv\")).linkbutton();\r\n        $(\"#BtnExch\", $(" +
"\"#TaskInfoDiv\")).linkbutton();\r\n        $(\"#BtnNext\", $(\"#TaskInfoDiv\")).linkbut" +
"ton();\r\n\r\n        $(\"#BtnTaskStart\", $(\"#TaskInfoDiv\")).linkbutton();\r\n        $" +
"(\"#BtnTaskFinish\", $(\"#TaskInfoDiv\")).linkbutton();\r\n        $(\"#Publish\", $(\"#T" +
"askInfoDiv\")).linkbutton();\r\n        $(\"#BtnReSign\", $(\"#TaskInfoDiv\")).linkbutt" +
"on();\r\n\r\n        $(\"#BtnShowProjectProgressInfo\", $(\"#TaskInfoDiv\")).linkbutton(" +
");\r\n        $(\"#BtnShowProjectEvent\", $(\"#TaskInfoDiv\")).linkbutton();\r\n        " +
"$(\"#BtnShowProjectReceive\", $(\"#TaskInfoDiv\")).linkbutton();\r\n        $(\"#BtnSho" +
"wProjectDiscuss\", $(\"#TaskInfoDiv\")).linkbutton();\r\n\r\n\r\n        // 权限控制\r\n       " +
" if (_TaskInfoCurrentUserId == _TaskInfoTaskEmpId && _TaskGroupInfoGroupStatus =" +
"= _enum_Design_TaskGroupStatus_进行中) {\r\n            // 如果你是这个任务的负责人 且 阶段为进行中\r\n   " +
"         debugger;\r\n            // 控制 启动 关闭 等 按钮\r\n            if (_TaskInfoTaskS" +
"tatus == \'");

            
            #line 503 "..\..\Views\DesTask\TaskInfo.cshtml"
                                    Write((int)DBSql.Design.TaskStatus.进行中);

            
            #line default
            #line hidden
WriteLiteral("\') {\r\n                $(\"#createFolder\", $(\"#TaskInfoDiv\")).linkbutton(\"enable\");" +
"\r\n                $(\"#upFile\", $(\"#TaskInfoDiv\")).linkbutton(\"enable\");\r\n       " +
"         $(\"#downFile\", $(\"#TaskInfoDiv\")).linkbutton(\"enable\");\r\n              " +
"  $(\"#delFile\", $(\"#TaskInfoDiv\")).linkbutton(\"enable\");\r\n                //$(\"#" +
"upFile_toggle\", $(\"#TaskInfoDiv\")).linkbutton(\"enable\");\r\n\r\n                $(\"#" +
"BtnMulstSign\", $(\"#TaskInfoDiv\")).linkbutton(\"enable\");\r\n                $(\"#Btn" +
"Next\", $(\"#TaskInfoDiv\")).linkbutton(\"enable\");\r\n\r\n                $(\"#BtnTaskSt" +
"art\", $(\"#TaskInfoDiv\")).hide();\r\n                $(\"#BtnTaskFinish\", $(\"#TaskIn" +
"foDiv\")).show();\r\n                $(\"#Publish\", $(\"#TaskInfoDiv\")).hide();\r\n    " +
"            $(\"#BtnReSign\", $(\"#TaskInfoDiv\")).hide();\r\n            } else {\r\n  " +
"              $(\"#createFolder\", $(\"#TaskInfoDiv\")).linkbutton(\"disable\");\r\n    " +
"            $(\"#upFile\", $(\"#TaskInfoDiv\")).linkbutton(\"disable\");\r\n            " +
"    $(\"#downFile\", $(\"#TaskInfoDiv\")).linkbutton(\"disable\");\r\n                $(" +
"\"#delFile\", $(\"#TaskInfoDiv\")).linkbutton(\"disable\");\r\n                //$(\"#upF" +
"ile_toggle\", $(\"#TaskInfoDiv\")).linkbutton(\"disable\");\r\n\r\n                $(\"#Bt" +
"nMulstSign\", $(\"#TaskInfoDiv\")).linkbutton(\"disable\");\r\n                $(\"#BtnN" +
"ext\", $(\"#TaskInfoDiv\")).linkbutton(\"disable\");\r\n                $(\"#BtnTaskStar" +
"t\", $(\"#TaskInfoDiv\")).show();\r\n                $(\"#BtnTaskFinish\", $(\"#TaskInfo" +
"Div\")).hide();\r\n                $(\"#Publish\", $(\"#TaskInfoDiv\")).hide();\r\n      " +
"          $(\"#BtnReSign\", $(\"#TaskInfoDiv\")).hide();\r\n                if (_TaskI" +
"nfoTaskStatus == \'");

            
            #line 530 "..\..\Views\DesTask\TaskInfo.cshtml"
                                        Write((int)DBSql.Design.TaskStatus.已完成);

            
            #line default
            #line hidden
WriteLiteral("\') {\r\n                    $(\"#Publish\", $(\"#TaskInfoDiv\")).hide();\r\n             " +
"   }\r\n            }\r\n        } else {\r\n            // 不是这个任务的负责人\r\n            $(" +
"\"#upFile\", $(\"#TaskInfoDiv\")).linkbutton(\"disable\");\r\n            $(\"#downFile\"," +
" $(\"#TaskInfoDiv\")).linkbutton(\"disable\");\r\n            $(\"#createFolder\", $(\"#T" +
"askInfoDiv\")).linkbutton(\"disable\");\r\n            $(\"#delFile\", $(\"#TaskInfoDiv\"" +
")).linkbutton(\"disable\");\r\n            //$(\"#upFile_toggle\", $(\"#TaskInfoDiv\"))." +
"linkbutton(\"disable\");\r\n\r\n            $(\"#BtnMulstSign\", $(\"#TaskInfoDiv\")).link" +
"button(\"disable\");\r\n            $(\"#BtnNext\", $(\"#TaskInfoDiv\")).linkbutton(\"dis" +
"able\");\r\n            $(\"#BtnExch\", $(\"#TaskInfoDiv\")).linkbutton(\"disable\");\r\n\r\n" +
"            $(\"#BtnTaskStart\", $(\"#TaskInfoDiv\")).hide();\r\n            $(\"#BtnTa" +
"skFinish\", $(\"#TaskInfoDiv\")).hide();\r\n            $(\"#Publish\", $(\"#TaskInfoDiv" +
"\")).hide();\r\n            $(\"#BtnReSign\", $(\"#TaskInfoDiv\")).hide();\r\n        }\r\n" +
"    }\r\n\r\n    // 初始化底部选项卡\r\n    function TaskInfoTabInit() {\r\n        $(\"#TaskTab\"" +
", $(\"#TaskInfoDiv\")).tabs({\r\n            onSelect:function (title,index) {\r\n    " +
"            //加载页面\r\n                var selectTab= $(\"#TaskTab\", $(\"#TaskInfoDiv" +
"\")).tabs(\"getTab\",index);\r\n                var isRefresh=true;\r\n                " +
"if (selectTab.find(\"div[id=\'TaskCheckListDiv\']\").length>0) {\r\n                  " +
"  isRefresh= false;//校审建议\r\n                }\r\n                if (selectTab.find" +
"(\"form[id=\'DesignInfoForm\']\").length>0) {\r\n                    isRefresh= false;" +
"//备注\r\n                }\r\n\r\n                if (isRefresh) {\r\n                   " +
" $(\'#TaskTab\', $(\"#TaskInfoDiv\")).tabs(\'update\', {\r\n                        tab:" +
" selectTab,\r\n                        options: {\r\n                            hre" +
"f: $(selectTab).attr(\"url\"),  // 新内容的URL\r\n                        }\r\n           " +
"         });\r\n                }\r\n            }\r\n        });\r\n        $(\"#TaskTab" +
"\", $(\"#TaskInfoDiv\")).tabs(\"select\",0);\r\n    }\r\n\r\n    // 初始化附件列表\r\n    function T" +
"askInfoAttachInit() {\r\n        _TaskInfoDesignUpload.CreateFolderUrl=\'");

            
            #line 582 "..\..\Views\DesTask\TaskInfo.cshtml"
                                          Write(Url.Action("TaskCreateFolder", "ProcessFile", new { @area = "Core" }));

            
            #line default
            #line hidden
WriteLiteral("?AttchId=0\';\r\n        _TaskInfoDesignUpload.DeleteFileUrl=\'");

            
            #line 583 "..\..\Views\DesTask\TaskInfo.cshtml"
                                         Write(Url.Action("Delete", "ProcessFile", new { @area = "Core" }));

            
            #line default
            #line hidden
WriteLiteral("\';\r\n        _TaskInfoDesignUpload.requireurl = \'");

            
            #line 584 "..\..\Views\DesTask\TaskInfo.cshtml"
                                       Write(Url.Action("TaskInfoGetDesTaskAttachDataJson"));

            
            #line default
            #line hidden
WriteLiteral("?TaskId=\'+");

            
            #line 584 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                Write(ViewBag.TaskModel.Id);

            
            #line default
            #line hidden
WriteLiteral(";\r\n        _TaskInfoDesignUpload.uploadurl = \"");

            
            #line 585 "..\..\Views\DesTask\TaskInfo.cshtml"
                                       Write(Url.Action("Upload", "ProcessFile", new { @area = "Core" }));

            
            #line default
            #line hidden
WriteLiteral("\";\r\n        _TaskInfoDesignUpload.downloadUrl = \"");

            
            #line 586 "..\..\Views\DesTask\TaskInfo.cshtml"
                                         Write(Url.Action("Download", "ProcessFile", new { @area = "Core" }));

            
            #line default
            #line hidden
WriteLiteral("\";\r\n        _TaskInfoDesignUpload.cancelUrl = \"");

            
            #line 587 "..\..\Views\DesTask\TaskInfo.cshtml"
                                       Write(Url.Action("CancelUpload", "ProcessFile", new { @area = "Core" }));

            
            #line default
            #line hidden
WriteLiteral("\";\r\n        _TaskInfoDesignUpload.flash_swf_url=\"");

            
            #line 588 "..\..\Views\DesTask\TaskInfo.cshtml"
                                         Write(Url.Content("~/Scripts/uploader/upload.swf"));

            
            #line default
            #line hidden
WriteLiteral("\";\r\n        _TaskInfoDesignUpload.silverlight_xap_url= \"");

            
            #line 589 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                Write(Url.Content("~/Scripts/uploader/upload.xap"));

            
            #line default
            #line hidden
WriteLiteral("\";\r\n        _TaskInfoDesignUpload.init($(\"#TaskInfo_files\", $(\"#TaskInfoDiv\")),{\r" +
"\n            frozenColumns: [[\r\n                { field: \'ck\', align: \'center\', " +
"checkbox: true, JQIsExclude: true},\r\n                { title: \'附件信息\', field: \'At" +
"tachName\', width: 400, align: \'left\',halign:\'center\',formatter:function (value,r" +
"ow,index) {\r\n                    var FileName=\"\";\r\n                    if (row.A" +
"ttachExt==\".\") {\r\n                        FileName=\"<div style=\\\"float:left;curs" +
"or:pointer\\\"  onclick=\\\"expandFun(\"+row.AttachID+\")\\\" ><strong>\"+row.AttachName+" +
"\"</strong></div>\";\r\n                    }else {\r\n                        FileNam" +
"e=\"<div><a href=\\\"\"+_TaskInfoDesignUpload.buildDownloadUrl(row.AttachID, { type:" +
" \'attach\' })+\"\\\" target=\'_blank\' >\"+value+\"</a>\";\r\n                        if (r" +
"ow.AttachID <= 0) {\r\n                            FileName+=\"<div class=\\\"jq_upfi" +
"le_s\\\" style=\\\"float:right\\\"><div id=\\\"p_\" + row.FileID + \"\\\" class=\\\"jq_upfile_" +
"s1\\\"><div class=\\\"jq_upfile_s2\\\"></div><div class=\\\"jq_upfile_s3\\\">0%</div></div" +
"><div id=\\\"r_\" + row.FileID + \"\\\" class=\\\"fa fa-times-circle jq_upfile_s4\\\" titl" +
"e=\\\"取消\\\"></div></div>\"\r\n                        }\r\n                        FileN" +
"ame+=\"</div>\";\r\n                    }\r\n                    return FileName;\r\n   " +
"             } },\r\n            ]],\r\n            columns: [[\r\n                { t" +
"itle: \'校审流程\', field: \'12\', width: 600, align: \'left\',formatter:function (value,r" +
"ow,index) {\r\n                    return \"<div class=\\\"swipe\\\"><div id=\\\"FlowNode" +
"_\"+row.AttachID+\"\\\" class=\\\"approve-progress\\\"></div></div>\"\r\n                } " +
"},\r\n                { title: \"版本\", field: \"AttachVer\", width: 50, align: \"center" +
"\", halign: \"center\",formatter:function (value, row,index) {\r\n                   " +
" if(row.AttachExt==\".\"){\r\n                        return \"\";\r\n                  " +
"  }else {\r\n\r\n                        return value;\r\n                    }\r\n     " +
"           } },\r\n                {\r\n                    title: \"大小\", field: \"Att" +
"achSize\", width: 76, align: \"center\", halign: \"center\", formatter: function (val" +
"ue, row,index) {\r\n                        if(row.AttachExt==\".\"){\r\n             " +
"               return \"\";\r\n                        }else {\r\n                    " +
"        return JQ.tools.getFileSizeText(value);\r\n                        }\r\n    " +
"                }},\r\n                {\r\n                    title: \"修改时间\", field" +
": \"AttachDateChange\", width: 120, align: \"center\", halign: \"center\", formatter: " +
"function (value, rowData,index) {\r\n                        if (rowData.AttachID " +
"<= 0) {\r\n                            return value;\r\n                        }\r\n " +
"                       else if (rowData.UploadStatus) {\r\n                       " +
"     return JQ.tools.DateTimeFormatterByT(rowData.AttachDateChange);\r\n          " +
"              }\r\n                        else {\r\n                            ret" +
"urn JQ.tools.DateTimeFormatterByT(rowData.AttachDateChange);\r\n                  " +
"      }\r\n                    }\r\n                },\r\n                {\r\n         " +
"           title: \"上传日期\", field: \"AttachDateUpload\", width: 90, align: \"center\"," +
" halign: \"center\", formatter: function (value, rowData,index) {\r\n               " +
"         if (rowData.AttachID <= 0) {\r\n                            return \"\";\r\n " +
"                       }\r\n                        else if (rowData.UploadStatus)" +
" {\r\n                            return JQ.tools.DateTimeFormatterByT(rowData.Att" +
"achDateUpload);\r\n                        }\r\n                        else {\r\n    " +
"                        return JQ.tools.DateTimeFormatterByT(rowData.AttachDateU" +
"pload);\r\n                        }\r\n                    }\r\n                }\r\n  " +
"          ]],\r\n            onLoadSuccess:function (row,data) {\r\n                " +
"if (data.total>0) {\r\n                    $.each(data.rows,function (i,e) {\r\n    " +
"                    e.__checkbox = true;\r\n                        var jsonNode =" +
" [];\r\n                        if (e.AttachFlowNodeJson!=\"\") {\r\n                 " +
"           jsonNode=JSON.parse(e.AttachFlowNodeJson).root.item;\r\n               " +
"             var design = _TaskInfoDesTaskApproveMode == \"0\"\r\n                  " +
"              ? Enumerable.From(jsonNode).Where(\"x => x.FlowNodeTypeID == \'");

            
            #line 662 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                         Write(DataModel.NodeType.设计.ToString("D"));

            
            #line default
            #line hidden
WriteLiteral("\' && (x.FlowNodeStatus == \'");

            
            #line 662 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                                          Write(DBSql.Design.FlowNodeStatus.进行中.ToString("D"));

            
            #line default
            #line hidden
WriteLiteral("\')&&x.FlowNodeEmpID == \" + _TaskInfoCurrentUserId).OrderBy(\"x=>x.rownum\").ToArray" +
"()\r\n                                : Enumerable.From(jsonNode).Where(\"x => x.Fl" +
"owNodeTypeID == \'");

            
            #line 663 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                         Write(DataModel.NodeType.设计.ToString("D"));

            
            #line default
            #line hidden
WriteLiteral("\' && (x.FlowNodeStatus == \'");

            
            #line 663 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                                          Write(DBSql.Design.FlowNodeStatus.已安排.ToString("D"));

            
            #line default
            #line hidden
WriteLiteral("\' || x.FlowNodeStatus == \'");

            
            #line 663 "..\..\Views\DesTask\TaskInfo.cshtml"
                                                                                                                                                                                                                                    Write(DBSql.Design.FlowNodeStatus.进行中.ToString("D"));

            
            #line default
            #line hidden
WriteLiteral("\')&&x.FlowNodeEmpID == \" + _TaskInfoCurrentUserId).OrderBy(\"x=>x.rownum\").ToArray" +
"();\r\n                            if (design != null && design.length == 0) {\r\n  " +
"                              // 如果没有需要处理的设计节点，那么隐藏checkbox\r\n                   " +
"             var CheckB=$(\"#TaskInfo_files\", $(\"#TaskInfoDiv\")).treegrid(\"getPan" +
"el\").find(\"tr[node-id=\'\"+e.AttachID+\"\'] input[type=\'checkbox\']\");\r\n             " +
"                   CheckB.hide();\r\n                                e.__checkbox " +
"= false;\r\n                            }\r\n\r\n                            if (e.Att" +
"achExt!=\".\") {\r\n                                var $table=$(\"div[id=\'FlowNode_\"" +
"+e.AttachID+\"\']\", $(\"#TaskInfoDiv\"));\r\n                                if (e.Att" +
"achFlowNodeJson!=\"\") {\r\n                                    JQ.DesFlow.show({\r\n " +
"                                       Ctl:$table,\r\n                            " +
"            FlowData:jsonNode,\r\n                                    });\r\n       " +
"                         }\r\n                            }\r\n                     " +
"   }\r\n                    });\r\n                }\r\n            },\r\n            on" +
"ContextMenu: function (e, row) {\r\n                if (row == null) return;\r\n    " +
"            if (row.AttachExt == \".\") return;\r\n                $.data(document.b" +
"ody, \"selectTempData\", row);//把临时数据存在缓存中\r\n                // 显示右键菜单\r\n           " +
"     var $m = $(\'#TaskInfo_rigthMenu\');\r\n                $m.menu(\'show\', {\r\n    " +
"                left: e.pageX,\r\n                    top: e.pageY\r\n              " +
"  });\r\n                e.preventDefault();\r\n            }\r\n        });\r\n    }\r\n\r" +
"\n    function TaskInfo_rigthMenuHandler(item) {\r\n        var data = $.data(docum" +
"ent.body, \"selectTempData\");//获取临时数据\r\n        //var data = $(\"#TaskInfo_files\", " +
"$(\"#TaskInfoDiv\")).treegrid(\"getSelected\");\r\n        if (JQ.tools.isJson(data)) " +
"{\r\n            switch (item.id) {\r\n                case \"showAttachSplitFiles\":\r" +
"\n                    TaskInfo_showModelDialog(\r\n                        \"拆图文件：{0" +
"}\".format(data.AttachName),\r\n                        \'");

            
            #line 707 "..\..\Views\DesTask\TaskInfo.cshtml"
                    Write(Url.Action("TaskAttachSplitFilesList"));

            
            #line default
            #line hidden
WriteLiteral(@"?AttachID=' + data.AttachID + '&AttachVer=' + data.AttachVer,
                        800,
                        700
                    );
                    break;
                case ""showAttachHistory"":
                    TaskInfo_showModelDialog(
                        ""历史版本：{0}"".format(data.AttachName),
                        '");

            
            #line 715 "..\..\Views\DesTask\TaskInfo.cshtml"
                    Write(Url.Action("AttachHistory", "BaseAttach", new { @area = "Core" }));

            
            #line default
            #line hidden
WriteLiteral(@"?AttachID=' + data.AttachID,
                        600,
                        600
                    );
                    break;
                case ""showAttachInfo"":
                    TaskInfo_showModelDialog(
                        ""文件属性：{0}"".format(data.AttachName),
                        '");

            
            #line 723 "..\..\Views\DesTask\TaskInfo.cshtml"
                    Write(Url.Action("AttachInfo", "BaseAttach", new { @area = "Core" }));

            
            #line default
            #line hidden
WriteLiteral(@"?AttachID=' + data.AttachID,
                        500,
                        500
                    );
                    break;
            }
        }
        $.data(document.body, ""selectTempData"", null);//清空临时数据
        return false;
    }

    $(function () {

        // 页面初始化
        TaskInfoPageInit();

        // 初始化底部选项卡
        TaskInfoTabInit();

        // 获取前置任务
        TaskInfoGetPreTaskList();

        // 初始化附件列表
        TaskInfoAttachInit();
    });
</script>
");

        }
    }
}
#pragma warning restore 1591

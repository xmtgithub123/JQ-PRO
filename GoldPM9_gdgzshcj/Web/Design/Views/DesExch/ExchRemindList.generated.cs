#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 4 "..\..\Views\DesExch\ExchRemindList.cshtml"
    using JQ.Web;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/DesExch/ExchRemindList.cshtml")]
    public partial class _Views_DesExch_ExchRemindList_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_DesExch_ExchRemindList_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Views\DesExch\ExchRemindList.cshtml"
  
    Layout = "~/Areas/Core/Views/Shared/_Layout.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n");

DefineSection("head", () => {

WriteLiteral("\r\n    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n        var requestUrl = \'");

            
            #line 7 "..\..\Views\DesExch\ExchRemindList.cshtml"
                     Write(Url.Action("InHandExchList", "DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?ExchState=0\';\r\n        $(function () {\r\n            var addPermission = \'");

            
            #line 9 "..\..\Views\DesExch\ExchRemindList.cshtml"
                            Write(ViewBag.addPermission);

            
            #line default
            #line hidden
WriteLiteral(@"';
            if (addPermission != '1') {

                $(""#DesExchPanel"").children().eq(0).children().eq(0).hide();
            }
            $(""#ExchState"").combobox({
                editable: false,
                valueField: 'Value',
                textField: 'Text',
                value: '0',
                url: '");

            
            #line 19 "..\..\Views\DesExch\ExchRemindList.cshtml"
                 Write(Url.Action("getDropList", "DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                onChange: function (newVal, oldVal) {\r\n                    $(" +
"\"#DesExchGrid\").datagrid(\"reload\", \'");

            
            #line 21 "..\..\Views\DesExch\ExchRemindList.cshtml"
                                                     Write(Url.Action("InHandExchList", "DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?ExchState=\' + newVal);\r\n                }\r\n            });\r\n\r\n            JQ.dat" +
"agrid.datagrid({\r\n                toolbar: \'#DesExchPanel\',\r\n                JQP" +
"rimaryID: \'Id\',//主键的字段\r\n                JQID: \"DesExchGrid\",//数据表格ID\r\n          " +
"      JQLoadingType: \'datagrid\',//数据表格类型 [datagrid,datagrid]\r\n                ch" +
"eckOnSelect: false,\r\n                selectOnCheck: false,\r\n                fit:" +
" true,\r\n                pagination: true,\r\n                collapsible: true,\r\n " +
"               JQMergeCells: { fields: [\'Id\', \'ExchTitle\', \'ExchSpecName\', \'Exch" +
"EmpName\', \'SpecIdent\', \'EmpIdent\', \'dateIdent\', \'NumberIdent\', \'projIdent\', \'pro" +
"cess\'] },\r\n                url: requestUrl,\r\n                columns: [[\r\n      " +
"              {\r\n                        title: \'项目名称\', field: \'NumberIdent\', wi" +
"dth: \'240\', halign: \'center\', align: \'left\',\r\n                        formatter:" +
" function (val, row) {\r\n                            if (row.ExchIsInvalid == fal" +
"se) {\r\n                                return \'<span style=\"color:red;\">\' + row." +
"ProjName + \'</span>\'\r\n                            }\r\n                           " +
" else {\r\n                                return row.ProjName;\r\n                 " +
"           }\r\n\r\n                        }\r\n                    },\r\n             " +
"       {\r\n                        title: \'项目阶段\', field: \'projIdent\', width: \'100" +
"\', halign: \'center\', align: \'center\',\r\n                        formatter: functi" +
"on (val, row) {\r\n                            if (row.ExchIsInvalid == false) {\r\n" +
"                                return \'<span style=\"color:red;\">\' + row.Phasena" +
"me + \'</span>\'\r\n                            }\r\n                            else " +
"{\r\n                                return row.Phasename;\r\n                      " +
"      }\r\n\r\n                        }\r\n                    },\r\n                  " +
"  {\r\n                        title: \'资料名称\', field: \'ExchTitle\', width: 220, alig" +
"n: \'left\', halign: \'center\',\r\n                        formatter: function (val, " +
"row) {\r\n                            if (row.ExchIsInvalid == false) {\r\n         " +
"                       return \'<span style=\"font-weight:600;color:red;\">\' + row." +
"ExchTitle + \'</span>\'\r\n                            }\r\n                          " +
"  else {\r\n                                return \'<span style=\"font-weight:600;\"" +
">\' + row.ExchTitle + \'</span>\';\r\n                            }\r\n                " +
"            //\'<b>\'+row.ExchTitle+\'</b>\';\r\n                        }\r\n          " +
"          },\r\n                    {\r\n                        title: \'提资专业\', fiel" +
"d: \'SpecIdent\', width: 120, align: \'center\', halign: \'center\',\r\n                " +
"        formatter: function (val, row, index) {\r\n                            ret" +
"urn row.ExchSpecName;\r\n                        }\r\n                    },\r\n      " +
"              {\r\n                        title: \'提资人\', field: \'EmpIdent\', width:" +
" 80, align: \'center\', halign: \'center\',\r\n                        formatter: func" +
"tion (val, row) {\r\n                            return row.ExchEmpName;\r\n        " +
"                }\r\n                    },\r\n                    { title: \'收资专业\', " +
"field: \'RecSpecName\', width: 120, align: \'left\', halign: \'center\' },\r\n          " +
"          { title: \'收资人\', field: \'RecEmpName\', width: 80, align: \'left\', halign:" +
" \'center\' },\r\n                    {\r\n                        title: \'提资期限\', fiel" +
"d: \'dateIdent\', width: 100, align: \'center\', halign: \'center\',\r\n                " +
"        formatter: function (val, row)//JQ.tools.DateTimeFormatterByT\r\n         " +
"               {\r\n                            var value = \"\";\r\n                 " +
"           if (JQ.tools.isNotEmpty(row.ExcLastPutTime)) {\r\n                     " +
"           value = row.ExcLastPutTime.replace(\"T\", \" \").substring(0, 10);\r\n\r\n   " +
"                             if (row.ExcLastPutTime.substring(0, 4) <= 1900)\r\n  " +
"                                  value = \"\";\r\n                            }\r\n  " +
"                          return value;\r\n                        }\r\n            " +
"        },\r\n                {\r\n                    title: \'接收时间\', field: \'RecTim" +
"e\', width: 100, align: \'center\', halign: \'center\',\r\n                    formatte" +
"r: JQ.tools.DateTimeFormatterByT\r\n                },\r\n                {\r\n       " +
"             title: \'接收状态\', field: \'State\', width: 100, align: \'center\', halign:" +
" \'center\',\r\n                    formatter: function (val, row) {\r\n              " +
"          if (row.State == \'通过\') {\r\n                            return \'<span st" +
"yle=\"color:green;\">\' + row.State + \'</span>\'\r\n                        }\r\n       " +
"                 else {\r\n                            if (row.State == \"回退\") {\r\n " +
"                               return \'<span style=\"color:red;\">\' + row.State + " +
"\'</span>\'\r\n                            }\r\n                            else {\r\n  " +
"                              return row.State;\r\n                            }\r\n" +
"                        }\r\n                    }\r\n                },\r\n\r\n        " +
"        {\r\n                    title: \'处理意见\', field: \'RecContent\', width: 120, a" +
"lign: \'center\', halign: \'center\'\r\n                },\r\n                    {\r\n   " +
"                     title: \'操作\', field: \'Id\', width: 160, align: \'center\', hali" +
"gn: \'center\',\r\n                        formatter: function (val, row) {\r\n       " +
"                     var text = \" \";\r\n                            if (row.count " +
"> 0) {\r\n\r\n                                //if(row.recCount>0)\r\n                " +
"                //{\r\n                                //    text = \"重提\";\r\n\r\n     " +
"                           //    return \'<a btn class=\"easyui-linkbutton\" onclic" +
"k=\"ReUseExch(\' + row.Id + \')\">\' + text + \'</a>\';\r\n\r\n                            " +
"    //}\r\n                                //else\r\n                               " +
" //{\r\n                                //    text = \"查看\";\r\n                      " +
"          //}\r\n                                return \'<a btn class=\"easyui-link" +
"button\" onclick=\"ReUseExch(\' + row.Id + \',\' + row.ExchTaskId + \')\">重提</a>\' +\r\n  " +
"                                  \'<a btn class=\"easyui-linkbutton\" onclick=\"Exc" +
"hApprove(\' + row.Id + \')\">查看</a>\';;\r\n\r\n                            }\r\n          " +
"                  else {\r\n                                text = \"提资\";\r\n        " +
"                    }\r\n                            return \'<a btn class=\"easyui-" +
"linkbutton\" onclick=\"ExchApprove(\' + row.Id + \')\">\' + text + \'</a>\';\r\n          " +
"              }\r\n                    },\r\n                    {\r\n                " +
"        field: \"process\", title: \"流程进度\", align: \"center\", halign: \"center\", widt" +
"h: 90,\r\n                        formatter: JQ.Flow.showFlowProgress(\"DesExchGrid" +
"\", \"DesExch\", \"Id\")\r\n                    }\r\n\r\n                ]],\r\n             " +
"   onLoadSuccess: function (row) {\r\n\r\n                    $(\"a[btn]\").linkbutton" +
"({ iconCls: \'fa fa-edit\' });\r\n                }\r\n            })\r\n            $(\"" +
"#JQSearch\").textbox({\r\n                buttonText: \'筛选\',\r\n                button" +
"Icon: \'fa fa-search\',\r\n                height: 25,\r\n                prompt: \'资料名" +
"称、资料内容\',\r\n                onClickButton: function () {\r\n                    JQ.d" +
"atagrid.searchGrid(\r\n                        {\r\n                            dgID" +
": \'DesExchGrid\',\r\n                            loadingType: \'datagrid\',\r\n        " +
"                    queryParams:\r\n                                {\r\n           " +
"                         KeyText: $(\"#JQSearch\").textbox(\'getValue\'),\r\n         " +
"                           startTime: $(\"#startTime\").datebox(\'getValue\'),\r\n    " +
"                                endTime: $(\"#endTime\").datebox(\'getValue\')\r\n    " +
"                            }\r\n                        });\r\n                }\r\n " +
"           });\r\n\r\n\r\n            function getProgress(grid, refTable, refID, url)" +
" {\r\n                if (!JQ.Flow._progress) {\r\n                    JQ.Flow._prog" +
"ress = {\r\n                    };\r\n                }\r\n                JQ.Flow._pr" +
"ogress[\"$flow\" + grid] = {\r\n                    url: url, refTable: refTable, id" +
"s: []\r\n                };\r\n                return JQ.Flow._progress[\"$flow\" + gr" +
"id];\r\n            }\r\n\r\n            ");

WriteLiteral(@"
        });


        function SetShowOrHideCol() {
            var fields = $('#DesExchGrid').datagrid('getColumnFields');
            for (var i = 1; i < fields.length; i++) {
                var field = fields[i];
                var col = $('#DesExchGrid').datagrid('getColumnOption', field);
                var check = $(""#menu"").find('input[name=""' + field + '""]').attr('checked');
                if (check == 'checked') {
                    $('#DesExchGrid').datagrid('showColumn', field);
                }
                else {
                    $('#DesExchGrid').datagrid('hideColumn', field);
                }


            }
            hide();
        }

        //提资审批页面信息
        function ExchApprove(ExchId) {
            JQ.dialog.dialog({
                title: '待办提资详细信息',
                width: '1200',
                height: '700',
                url: '");

            
            #line 233 "..\..\Views\DesExch\ExchRemindList.cshtml"
                 Write(Url.Action("ExchInfoApprove","DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral(@"?Id=' + ExchId,
                onClose: function () {
                    $(""#DesExchGrid"").datagrid(""reload"");
                }
            });
        }



        //重提页面信息
        function ReUseExch(ExchId, ExchTaskId) {
            JQ.dialog.dialog({
                title: '重提详细信息',
                width: '1200',
                height: '700',
                url: '");

            
            #line 248 "..\..\Views\DesExch\ExchRemindList.cshtml"
                 Write(Url.Action("ReUseExch", "DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral(@"?id=' + ExchId + ""&taskId="" + ExchTaskId,
                onClose: function () {
                    $(""#DesExchGrid"").datagrid(""reload"");
                }
            });
        }

        // 更换标题

        function ChangeTitle() {
            var $obj = $('div[class=""datagrid-body""]').find('td[field=""process""]').children('div').children('span');
            for (var index = 0; index < ($obj).length; index++) {
                var $target = $obj.eq(index);
                if ($target.text() != ""未审批"" && $target.text() != """") {

                    $target.text(""查看流程"");
                }
            }



        }
        // 添加提资计划
        function AddSpecExchPlan() {
            JQ.dialog.dialog({
                title: '添加提资计划',
                height: '700',
                width: '1200',
                url: '");

            
            #line 276 "..\..\Views\DesExch\ExchRemindList.cshtml"
                 Write(Url.Action("AddExchPlan","DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral(@"',
                onClose: function () {
                    $(""#DesExchGrid"").datagrid(""reload"");
                }
            });
        }

        JQ.Flow.onLoadFlowProgress = function () {
            ChangeTitle();
        }

        function ShowAll() {
            $(""#DesExchGrid"").datagrid(""reload"", '");

            
            #line 288 "..\..\Views\DesExch\ExchRemindList.cshtml"
                                             Write(Url.Action("InHandExchList", "DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?IsAll=1\');\r\n        }\r\n\r\n    </script>\r\n");

WriteLiteral("    ");

            
            #line 292 "..\..\Views\DesExch\ExchRemindList.cshtml"
Write(RenderPage("~/Areas/Core/Views/Shared/_Init.cshtml"));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

});

WriteLiteral("\r\n");

DefineSection("Body_Content", () => {

WriteLiteral("\r\n    <table");

WriteLiteral(" id=\"DesExchGrid\"");

WriteLiteral("></table>\r\n    <div");

WriteLiteral(" id=\"DesExchPanel\"");

WriteLiteral(" JQPanel=\"searchPanel\"");

WriteLiteral(" style=\"padding:5px;height:auto;border:none;\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" JQPanel=\"toolbarPanel\"");

WriteLiteral(" style=\"float:left;padding-bottom:5px;\"");

WriteLiteral(">\r\n            <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-plus\'\"");

WriteLiteral(" onclick=\"AddSpecExchPlan();\"");

WriteLiteral(">添加提资</a>\r\n            <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-refresh\'\"");

WriteLiteral(" onclick=\"ShowAll();\"");

WriteLiteral(">显示全部</a>\r\n        </div>\r\n        <duv");

WriteLiteral(" style=\"margin-left:20px;float:left;padding-bottom:5px;\"");

WriteLiteral(">\r\n            提资状态:<select");

WriteLiteral(" id=\"ExchState\"");

WriteLiteral(" class=\"easyui-combobox\"");

WriteLiteral(" style=\"width:100px;\"");

WriteLiteral("></select>\r\n        </duv>\r\n\r\n        <div");

WriteLiteral(" style=\"margin-left:20px;float:left;padding-bottom:5px;\"");

WriteLiteral(">筛选条件：<input");

WriteLiteral(" id=\"JQSearch\"");

WriteLiteral(" style=\"width:250px;\"");

WriteLiteral(" /></div>\r\n\r\n        <div");

WriteLiteral(" style=\"margin-left:40px;float:left;padding-bottom:5px;\"");

WriteLiteral(">\r\n            发起时间： <span>\r\n                <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"startTime\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:120px;\"");

WriteLiteral(" prompt=\"开始时间\"");

WriteLiteral(" />\r\n                --\r\n                <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"endTime\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:120px;\"");

WriteLiteral(" prompt=\"结束时间\"");

WriteLiteral(" />\r\n            </span>\r\n        </div>\r\n\r\n        ");

WriteLiteral("\r\n    </div>\r\n");

});

WriteLiteral("\r\n");

        }
    }
}
#pragma warning restore 1591

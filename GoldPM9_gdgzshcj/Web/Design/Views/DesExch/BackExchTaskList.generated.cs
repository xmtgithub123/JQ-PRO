#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 1 "..\..\Views\DesExch\BackExchTaskList.cshtml"
    using JQ.Web;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/DesExch/BackExchTaskList.cshtml")]
    public partial class _Views_DesExch_BackExchTaskList_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_DesExch_BackExchTaskList_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n    var requestUrl = \'");

            
            #line 4 "..\..\Views\DesExch\BackExchTaskList.cshtml"
                 Write(Url.Action("InHandBackExchTaskList", "DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?taskId=");

            
            #line 4 "..\..\Views\DesExch\BackExchTaskList.cshtml"
                                                                                               Write(Request.Params["taskId"]);

            
            #line default
            #line hidden
WriteLiteral("\';\r\n    JQ.datagrid.datagrid({\r\n        toolbar: \'#DesExchPanel\',\r\n        JQPrim" +
"aryID: \'Id\',//主键的字段\r\n        JQID: \"DesExchGrid\",//数据表格ID\r\n        JQLoadingType" +
": \'datagrid\',//数据表格类型 [datagrid,datagrid]\r\n        checkOnSelect: false,\r\n      " +
"  selectOnCheck: false,\r\n        fit: true,\r\n        pagination: true,\r\n        " +
"collapsible: true,\r\n        JQMergeCells: { fields: [\'Id\', \'ExchTitle\', \'ExchSpe" +
"cName\', \'ExchEmpName\', \'SpecIdent\', \'EmpIdent\', \'dateIdent\', \'NumberIdent\', \'pro" +
"jIdent\', \'process\'] },\r\n        url: requestUrl,\r\n        columns: [[\r\n         " +
"   {\r\n                title: \'项目名称\', field: \'NumberIdent\', width: \'240\', halign:" +
" \'center\', align: \'left\',\r\n                formatter: function (val, row) {\r\n   " +
"                 if (row.ExchIsInvalid == false) {\r\n                        retu" +
"rn \'<span style=\"color:red;\">\' + row.ProjName + \'</span>\'\r\n                    }" +
"\r\n                    else {\r\n                        return row.ProjName;\r\n    " +
"                }\r\n\r\n                }\r\n            },\r\n            {\r\n         " +
"       title: \'项目阶段\', field: \'projIdent\', width: \'100\', halign: \'center\', align:" +
" \'center\',\r\n                formatter: function (val, row) {\r\n                  " +
"  if (row.ExchIsInvalid == false) {\r\n                        return \'<span style" +
"=\"color:red;\">\' + row.Phasename + \'</span>\'\r\n                    }\r\n            " +
"        else {\r\n                        return row.Phasename;\r\n                 " +
"   }\r\n\r\n                }\r\n            },\r\n            {\r\n                title:" +
" \'资料名称\', field: \'ExchTitle\', width: 220, align: \'left\', halign: \'center\',\r\n     " +
"           formatter: function (val, row) {\r\n                    if (row.ExchIsI" +
"nvalid == false) {\r\n                        return \'<span style=\"font-weight:600" +
";color:red;\">\' + row.ExchTitle + \'</span>\'\r\n                    }\r\n             " +
"       else {\r\n                        return \'<span style=\"font-weight:600;\">\' " +
"+ row.ExchTitle + \'</span>\';\r\n                    }\r\n                    //\'<b>\'" +
"+row.ExchTitle+\'</b>\';\r\n                }\r\n            },\r\n            {\r\n      " +
"          title: \'提资专业\', field: \'SpecIdent\', width: 120, align: \'center\', halign" +
": \'center\',\r\n                formatter: function (val, row, index) {\r\n          " +
"          return row.ExchSpecName;\r\n                }\r\n            },\r\n         " +
"   {\r\n                title: \'提资人\', field: \'EmpIdent\', width: 80, align: \'center" +
"\', halign: \'center\',\r\n                formatter: function (val, row) {\r\n        " +
"            return row.ExchEmpName;\r\n                }\r\n            },\r\n        " +
"    { title: \'收资专业\', field: \'RecSpecName\', width: 120, align: \'left\', halign: \'c" +
"enter\' },\r\n            { title: \'收资人\', field: \'RecEmpName\', width: 80, align: \'l" +
"eft\', halign: \'center\' },\r\n            {\r\n                title: \'提资期限\', field: " +
"\'dateIdent\', width: 100, align: \'center\', halign: \'center\',\r\n                for" +
"matter: function (val, row)//JQ.tools.DateTimeFormatterByT\r\n                {\r\n " +
"                   var value = \"\";\r\n                    if (JQ.tools.isNotEmpty(" +
"row.ExcLastPutTime)) {\r\n                        value = row.ExcLastPutTime.repla" +
"ce(\"T\", \" \").substring(0, 10);\r\n\r\n                        if (row.ExcLastPutTime" +
".substring(0, 4) <= 1900)\r\n                            value = \"\";\r\n            " +
"        }\r\n                    return value;\r\n                }\r\n            },\r" +
"\n\r\n        {\r\n            title: \'发起时间\', field: \'CreationTime\', width: 100, alig" +
"n: \'center\', halign: \'center\',\r\n            formatter: JQ.tools.DateTimeFormatte" +
"rByT\r\n        },\r\n\r\n        {\r\n            title: \'接收时间\', field: \'RecTime\', widt" +
"h: 100, align: \'center\', halign: \'center\',\r\n            formatter: JQ.tools.Date" +
"TimeFormatterByT\r\n        },\r\n        {\r\n            title: \'接收状态\', field: \'Stat" +
"e\', width: 100, align: \'center\', halign: \'center\',\r\n            formatter: funct" +
"ion (val, row) {\r\n                if (row.State == \'通过\') {\r\n                    " +
"return \'<span style=\"color:green;\">\' + row.State + \'</span>\'\r\n                }\r" +
"\n                else {\r\n                    if (row.State == \"回退\") {\r\n         " +
"               return \'<span style=\"color:red;\">\' + row.State + \'</span>\'\r\n     " +
"               }\r\n                    else {\r\n                        return row" +
".State;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n" +
"        {\r\n            title: \'处理意见\', field: \'RecContent\', width: 120, align: \'c" +
"enter\', halign: \'center\'\r\n        },\r\n            {\r\n                title: \'操作\'" +
", field: \'Id\', width: 160, align: \'center\', halign: \'center\',\r\n                f" +
"ormatter: function (val, row) {\r\n                    var text = \" \";\r\n          " +
"          if (row.count > 0) {\r\n                        return \'<a btn class=\"ea" +
"syui-linkbutton\" onclick=\"ReUseExch(\' + row.Id + \')\">重提</a>\' +\r\n                " +
"            \'<a btn class=\"easyui-linkbutton\" onclick=\"ExchApprove(\' + row.Id + " +
"\')\">查看</a>\';;\r\n\r\n                    }\r\n                    else {\r\n            " +
"            text = \"提资\";\r\n                    }\r\n                    return \'<a " +
"btn class=\"easyui-linkbutton\" onclick=\"ExchApprove(\' + row.Id + \')\">\' + text + \'" +
"</a>\';\r\n                }\r\n            },\r\n            {\r\n                field:" +
" \"process\", title: \"流程进度\", align: \"center\", halign: \"center\", width: 90,\r\n      " +
"          formatter: JQ.Flow.showFlowProgress(\"DesExchGrid\", \"DesExch\", \"Id\")\r\n " +
"           }\r\n\r\n        ]],\r\n        onLoadSuccess: function (row) {\r\n\r\n        " +
"    $(\"a[btn]\").linkbutton({ iconCls: \'fa fa-edit\' });\r\n        }\r\n    })\r\n    $" +
"(\"#JQSearch\").textbox({\r\n        buttonText: \'筛选\',\r\n        buttonIcon: \'fa fa-s" +
"earch\',\r\n        height: 25,\r\n        prompt: \'资料名称、资料内容\',\r\n        onClickButto" +
"n: function () {\r\n            JQ.datagrid.searchGrid(\r\n                {\r\n      " +
"              dgID: \'DesExchGrid\',\r\n                    loadingType: \'datagrid\'," +
"\r\n                    queryParams:\r\n                        {\r\n                 " +
"           KeyText: $(\"#JQSearch\").textbox(\'getValue\'),\r\n                       " +
"     startTime: $(\"#startTime\").datebox(\'getValue\'),\r\n                          " +
"  endTime: $(\"#endTime\").datebox(\'getValue\')\r\n                        }\r\n       " +
"         });\r\n        }\r\n    });\r\n\r\n\r\n    function getProgress(grid, refTable, r" +
"efID, url) {\r\n        if (!JQ.Flow._progress) {\r\n            JQ.Flow._progress =" +
" {\r\n            };\r\n        }\r\n        JQ.Flow._progress[\"$flow\" + grid] = {\r\n  " +
"          url: url, refTable: refTable, ids: []\r\n        };\r\n        return JQ.F" +
"low._progress[\"$flow\" + grid];\r\n    }\r\n\r\n\r\n\r\n    //提资审批页面信息\r\n    function ExchAp" +
"prove(ExchId) {\r\n        JQ.dialog.dialog({\r\n            title: \'待办提资详细信息\',\r\n   " +
"         width: \'1200\',\r\n            height: \'700\',\r\n            url: \'");

            
            #line 178 "..\..\Views\DesExch\BackExchTaskList.cshtml"
             Write(Url.Action("ExchInfoApprove","DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?Id=\' + ExchId + \'&taskId=");

            
            #line 178 "..\..\Views\DesExch\BackExchTaskList.cshtml"
                                                                                                     Write(Request.Params["taskId"]);

            
            #line default
            #line hidden
WriteLiteral(@"',
            onClose: function () {
                $(""#DesExchGrid"").datagrid(""reload"");
            }
        });
    }



    //重提页面信息
    function ReUseExch(ExchId) {
        JQ.dialog.dialog({
            title: '重提详细信息',
            width: '1200',
            height: '700',
            url: '");

            
            #line 193 "..\..\Views\DesExch\BackExchTaskList.cshtml"
             Write(Url.Action("ReUseExch", "DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?id=\' + ExchId + \'&taskId=");

            
            #line 193 "..\..\Views\DesExch\BackExchTaskList.cshtml"
                                                                                                Write(Request.Params["taskId"]);

            
            #line default
            #line hidden
WriteLiteral(@"',
            onClose: function () {
                $(""#DesExchGrid"").datagrid(""reload"");
            }
        });
    }

    // 更换标题

    function ChangeTitle() {
        var $obj = $('div[class=""datagrid-body""]').find('td[field=""process""]').children('div').children('span');
        for (var index = 0; index < ($obj).length; index++) {
            var $target = $obj.eq(index);
            if ($target.text() != ""未审批"" && $target.text() != """") {

                $target.text(""查看流程"");
            }
        }



    }
    // 添加提资计划
    function AddSpecExchPlan() {
        JQ.dialog.dialog({
            title: '添加提资',
            height: '800',
            width: '1200',
            url: '");

            
            #line 221 "..\..\Views\DesExch\BackExchTaskList.cshtml"
             Write(Url.Action("AddExchPlan","DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?taskId=");

            
            #line 221 "..\..\Views\DesExch\BackExchTaskList.cshtml"
                                                                               Write(Request.Params["taskId"]);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            onClose: function () {\r\n                $(\"#DesExchGrid\").datagri" +
"d(\"reload\");\r\n            }\r\n        });\r\n    }\r\n\r\n    JQ.Flow.onLoadFlowProgres" +
"s = function () {\r\n        ChangeTitle();\r\n    }\r\n</script>\r\n\r\n\r\n<table");

WriteLiteral(" id=\"DesExchGrid\"");

WriteLiteral("></table>\r\n<div");

WriteLiteral(" id=\"DesExchPanel\"");

WriteLiteral(" JQPanel=\"searchPanel\"");

WriteLiteral(" style=\"padding:5px;height:auto;\"");

WriteLiteral(">\r\n    <span");

WriteLiteral(" JQPanel=\"toolbarPanel\"");

WriteLiteral(">\r\n        <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-plus\'\"");

WriteLiteral(" onclick=\"AddSpecExchPlan();\"");

WriteLiteral(">添加提资</a>\r\n    </span>\r\n    <span");

WriteLiteral(" style=\"margin-left:20px;\"");

WriteLiteral(">筛选条件：</span>\r\n    <input");

WriteLiteral(" id=\"JQSearch\"");

WriteLiteral(" style=\"width:250px;\"");

WriteLiteral(" />\r\n    <span");

WriteLiteral(" style=\"margin-left:40px;\"");

WriteLiteral(">发起时间： </span>\r\n    <span>\r\n        <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"startTime\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:120px;\"");

WriteLiteral(" prompt=\"开始时间\"");

WriteLiteral(" />\r\n        --\r\n        <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"endTime\"");

WriteLiteral(" class=\"easyui-datebox\"");

WriteLiteral(" style=\"width:120px;\"");

WriteLiteral(" prompt=\"结束时间\"");

WriteLiteral(" />\r\n    </span>\r\n</div>\r\n\r\n");

        }
    }
}
#pragma warning restore 1591

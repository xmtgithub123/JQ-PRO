#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/DesExch/ExchPlanInfo.cshtml")]
    public partial class _Views_DesExch_ExchPlanInfo_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_DesExch_ExchPlanInfo_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
  
    Layout = "~/Areas/Core/Views/Shared/_Layout.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n");

DefineSection("head", () => {

WriteLiteral("\r\n    <style>\r\n        .panel-body {\r\n            padding: 0px !important;\r\n     " +
"   }\r\n\r\n        .tabs-panels {\r\n            border-style: none !important;\r\n    " +
"    }\r\n\r\n        .wordpage {\r\n            margin: 20px;\r\n            background-" +
"color: #FFFFFF;\r\n            -moz-box-shadow: 0px 0px 7px #808080;\r\n            " +
"-webkit-box-shadow: 0px 0px 7px #808080;\r\n            box-shadow: 0px 0px 7px #8" +
"08080;\r\n        }\r\n\r\n\r\n\r\n        #divSpecExchPlan .panel-body {\r\n            bor" +
"der-width: 1px;\r\n            border-style: solid;\r\n        }\r\n\r\n        #divSpec" +
"ExchPlan .tree-title {\r\n            height: 30px;\r\n        }\r\n    </style>\r\n    " +
"<style>\r\n        .btn-medium {\r\n            padding: 5px 15px;\r\n            font" +
"-size: 18px;\r\n            color: white !important;\r\n        }\r\n        \r\n       " +
" .pageheader {\r\n            text-align: center;\r\n        }\r\n\r\n            .pageh" +
"eader h1 {\r\n                font-size: 24px;\r\n                font-weight: bold;" +
"\r\n                padding: 20px 10px 10px 10px;\r\n            }\r\n\r\n        .pagef" +
"oot {\r\n            text-align: center;\r\n            padding: 10px 10px 20px 10px" +
";\r\n        }\r\n\r\n        .pagefoot .l-btn-text {\r\n            vertical-align: mid" +
"dle !important;\r\n        }\r\n\r\n        .pagefoot .btn-blue {\r\n            backgro" +
"und: -webkit-linear-gradient(top,#67c2ff 0,#3d93cf 100%);\r\n            backgroun" +
"d: -moz-linear-gradient(top,#67c2ff 0,#3d93cf 100%);\r\n            background: -o" +
"-linear-gradient(top,#67c2ff 0,#3d93cf 100%);\r\n            background: linear-gr" +
"adient(top,#67c2ff 0,#3d93cf 100%);\r\n            border: none;\r\n        }\r\n\r\n   " +
"     .pagefoot .btn-green {\r\n            background: -webkit-linear-gradient(top" +
",#6cd2b7 0,#69a898 100%);\r\n            background: -moz-linear-gradient(top,#6cd" +
"2b7 0,#69a898 100%);\r\n            background: -o-linear-gradient(top,#6cd2b7 0,#" +
"69a898 100%);\r\n            background: linear-gradient(top,#6cd2b7 0,#69a898 100" +
"%);\r\n            border: none;\r\n        }\r\n\r\n        .pagefoot .btn-blue:hover {" +
"\r\n            background: #3d93cf;\r\n        }\r\n\r\n        .pagefoot .btn-green:ho" +
"ver {\r\n            background: #69a898;\r\n        }\r\n\r\n        .ml-10 {\r\n        " +
"    margin-left: 10px;\r\n        }\r\n\r\n        .mr-10 {\r\n            margin-right:" +
" 10px;\r\n        }\r\n        \r\n        .datagrid-toolbar {\r\n            background" +
"-color: #ddd;\r\n        }\r\n    </style>\r\n\r\n    ");

WriteLiteral("\r\n    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n        var _currentUserId = ");

            
            #line 99 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                        Write(ViewBag.EmpId);

            
            #line default
            #line hidden
WriteLiteral(";\r\n        var _permission = ");

            
            #line 100 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                     Write(Html.Raw(ViewBag.permission));

            
            #line default
            #line hidden
WriteLiteral(";\r\n        var _mainTabsUsed = ");

            
            #line 101 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                       Write(Html.Raw(ViewBag.mainTabsUsed));

            
            #line default
            #line hidden
WriteLiteral(";\r\n\r\n        var tabId = 0;\r\n        var tabNum = 0;\r\n        var tabs = [\r\n     " +
"       \'");

            
            #line 106 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
        Write(Url.Action("PlanTableInfo", "DesTask", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 106 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                 Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 106 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                             Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&taskSpecId=");

            
            #line 106 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                             Write(ViewBag.taskSpecId);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            \'");

            
            #line 107 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
        Write(Url.Action("ProjectPlanInfo", "DesTask", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 107 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                   Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 107 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                               Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&taskSpecId=");

            
            #line 107 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                               Write(ViewBag.taskSpecId);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            \'");

            
            #line 108 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
        Write(Url.Action("ExchPlanInfo", "DesExch", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 108 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 108 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                            Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&taskSpecId=");

            
            #line 108 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                            Write(ViewBag.taskSpecId);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            \'");

            
            #line 109 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
        Write(Url.Action("SpecPlanInfo", "DesTask", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 109 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 109 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                            Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&taskSpecId=");

            
            #line 109 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                            Write(ViewBag.taskSpecId);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            \'");

            
            #line 110 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
        Write(Url.Action("ProjectGantt", "DesTask", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 110 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 110 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                            Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&taskSpecId=");

            
            #line 110 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                            Write(ViewBag.taskSpecId);

            
            #line default
            #line hidden
WriteLiteral("\'\r\n        ];\r\n\r\n        $(function() {\r\n            // 导航栏点击\r\n            $(\".pa" +
"geheader li\").each(function(i, li) {\r\n                if (tabs[i].toLowerCase()." +
"indexOf(window.location.pathname.toLowerCase()) > -1) tabId = i;\r\n              " +
"  $(li).click(function() {\r\n                    //window.parent.changeTabId(i);\r" +
"\n                    //console.log(tabs[i] + \"&time=\" + (new Date()).getTime());" +
"\r\n                    window.location.href = tabs[i] + \"&time=\" + (new Date()).g" +
"etTime();\r\n                });\r\n            });\r\n\r\n            // 页面载入后，设置导航当前页面" +
"节点，并处理前后节点状态\r\n            $(\".pageheader li\").each(function(i, li) {\r\n          " +
"      var $li = $(li);\r\n                var isShow = true;\r\n                swit" +
"ch(i){\r\n                    case 0:\r\n                        isShow = _mainTabsU" +
"sed.PlanTableList;\r\n                        break;\r\n                    case 1:\r" +
"\n                        isShow = _mainTabsUsed.ProjectPlanList;\r\n              " +
"          break;\r\n                    case 2:\r\n                        isShow = " +
"_mainTabsUsed.ExchPlanList;\r\n                        break;\r\n                   " +
" case 3:\r\n                        isShow = _mainTabsUsed.SpecPlanList;\r\n        " +
"                break;\r\n                    case 4:\r\n                        isS" +
"how = _mainTabsUsed.ProjGanttList;\r\n                        break;\r\n            " +
"    }\r\n                $li.toggle(isShow);\r\n                if (isShow) tabNum++" +
";\r\n                if (i < tabId) {\r\n                    $li.addClass(\"visited\")" +
";\r\n                    $li.find(\".small-tag\").html(\'<i class=\"fa fa-check\" aria-" +
"hidden=\"true\"></i>\');\r\n                } else if (i == tabId) {\r\n               " +
"     $li.addClass(\"active\");\r\n                    $li.find(\".small-tag\").html(ta" +
"bNum);\r\n                } else {\r\n                    $li.find(\".small-tag\").htm" +
"l(tabNum);\r\n                }\r\n            });\r\n\r\n            //显示提资策划\r\n        " +
"    showSpecExchPlan();\r\n\r\n        });\r\n\r\n        var tempID=-1;\r\n        var _d" +
"ataGet;\r\n        //显示提资策划\r\n        function showSpecExchPlan(){\r\n            tem" +
"pID=-1;//初始化\r\n            $.getJSON(\'");

            
            #line 168 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                  Write(Url.Action("SpecPlanInfoGetSpecPlanDataJson", "DesTask", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?taskGroupId=");

            
            #line 168 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                  Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&&taskSpecId=");

            
            #line 168 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                                    Write(ViewBag.taskSpecId);

            
            #line default
            #line hidden
WriteLiteral("\',function (data) {\r\n                _dataGet=data.rows;\r\n\r\n                var S" +
"pecArray=Enumerable.From(_dataGet).Where(\"x=>x.TaskType==1&&x.TaskSpecId!=0\").To" +
"Array();//排除汇总专业,只显示专业\r\n                //遍历专业生成datagrid\r\n                var $d" +
"ivContain=$(\"#divSpecExchPlan\");//显示容器\r\n                $.each(SpecArray,functio" +
"n (fatherIdIndex,fatherIdData) {\r\n                    var $toolbar=$(\"<div id=\\\"" +
"bar_\"+fatherIdData.TaskSpecId+\"\\\" style=\\\"padding:5px;height:auto;\\\"></div>\");\r\n" +
"                    Gettoolbar($toolbar,fatherIdData);\r\n                    $too" +
"lbar.appendTo($divContain);\r\n\r\n                    var $tableEle=$(\"<table id=\\\"" +
"Spec_\"+fatherIdData.TaskSpecId+\"\\\" style=\\\"width:99%\\\"></table>\");\r\n            " +
"        $tableEle.appendTo($divContain);\r\n                    Gettable($tableEle" +
",fatherIdData);\r\n\r\n                    var $divpadding=$(\"<div style=\\\"padding-t" +
"op:30px\\\"></div>\");\r\n                    $divpadding.appendTo($divContain);\r\n   " +
"             })\r\n\r\n            }).error(function () {\r\n                JQ.dialog" +
".warning(\"提资策划获取数据失败！！！\");\r\n            })\r\n        }\r\n\r\n        //生成gridtable\r\n" +
"        function Gettable($tableEle,fatherIdData) {\r\n\r\n            JQ.datagrid.d" +
"atagrid({\r\n                toolbar: \'#bar_\'+fatherIdData.TaskSpecId,\r\n          " +
"      JQPrimaryID: \'Id\',//主键的字段\r\n                JQID: \"Spec_\"+fatherIdData.Task" +
"SpecId,//数据表格ID\r\n                JQLoadingType: \'datagrid\',//数据表格类型 [datagrid,da" +
"tagrid]\r\n                checkOnSelect:false,\r\n                selectOnCheck:fal" +
"se,\r\n                fit:false,\r\n                pagination:false,\r\n            " +
"    collapsible:true,\r\n                JQMergeCells: { fields: [\'Id\',\'ExchTitle\'" +
", \'ExchSpecName\', \'ExchEmpName\',\'SpecIdent\',\'EmpIdent\',\'dateIdent\']},\r\n         " +
"       url:\'");

            
            #line 206 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                Write(Url.Action("DesSpecExchJson", "DesExch", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?SpecId=\'+fatherIdData.TaskSpecId+\'&taskGroupId=");

            
            #line 206 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                   Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&projID=");

            
            #line 206 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                                               Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                columns: [[\r\n                    { title: \'资料名称\', field: \'Exc" +
"hTitle\', width: 220, align: \'left\',halign:\'center\',\r\n                        for" +
"matter:function(val,row)\r\n                        {\r\n                           " +
" return  row.ExchTitle;//\'<b>\'+row.ExchTitle+\'</b>\';\r\n                        }\r" +
"\n                    },\r\n                    { title: \'提资专业\', field: \'SpecIdent\'" +
", width: 120, align: \'center\',halign:\'center\',\r\n                        formatte" +
"r:function(val,row,index)\r\n                        {\r\n                          " +
"  return row.ExchSpecName;\r\n                        }\r\n                    },\r\n " +
"                   { title: \'提资人\', field: \'EmpIdent\', width: 110, align: \'center" +
"\',halign:\'center\',\r\n                        formatter:function(val,row)\r\n       " +
"                 {\r\n                            return row.ExchEmpName;\r\n       " +
"                 }\r\n                    },\r\n                    { title: \'收资专业\'," +
" field: \'RecSpecName\', width: 120, align: \'left\',halign:\'center\'},\r\n            " +
"        { title: \'收资人\', field: \'RecEmpName\', width: 110, align: \'left\',halign:\'c" +
"enter\'},\r\n                    {\r\n                        title: \'提资期限\', field: \'" +
"dateIdent\', width: 100, align: \'center\',halign:\'center\',\r\n                      " +
"  formatter: function(val,row)//JQ.tools.DateTimeFormatterByT\r\n                 " +
"       {\r\n                            var value=\"\";\r\n                           " +
" if (JQ.tools.isNotEmpty(row.ExcLastPutTime)) {\r\n                               " +
" value = row.ExcLastPutTime.replace(\"T\", \" \").substring(0, 10);\r\n\r\n             " +
"                   if (row.ExcLastPutTime.substring(0, 4) <= 1900)\r\n            " +
"                        value = \"\";\r\n                            }\r\n            " +
"                return value;\r\n                        }\r\n                    }," +
"\r\n                    {title: \'操作\', field: \'Id\', width: 150, align: \'left\',halig" +
"n:\'center\',\r\n                        formatter:function(val,row,index)\r\n        " +
"                {\r\n                            var del=\'");

            
            #line 245 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                Write(ViewBag.delPermission);

            
            #line default
            #line hidden
WriteLiteral("\';\r\n                            if(_currentUserId==fatherIdData.TaskEmpID||row.Cr" +
"eatorEmpId==_currentUserId)\r\n                            {\r\n                    " +
"            del=\'1\';\r\n                            }\r\n                           " +
" var edit=\'");

            
            #line 250 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                 Write(ViewBag.editPermission);

            
            #line default
            #line hidden
WriteLiteral(@"';
                            if(_currentUserId==fatherIdData.TaskEmpID||row.CreatorEmpId==_currentUserId)
                            {
                                edit='1';
                            }
                            return '<a btn del=""'+del+'"" class=""easyui-linkbutton"" onclick=""SpecDel('+fatherIdData.TaskSpecId+','+row.Id+','+index+')"" >删除</a>'+
                                '<a btnEdit edit=""'+edit+'"" class=""easyui-linkbutton"" onclick=""Edit('+fatherIdData.TaskSpecId+','+row.Id+')"">编辑</a>'
                        }
                    }
                ]],
                onLoadSuccess:function (row, data) {
                    $(""a[btnEdit]"").linkbutton({iconCls: 'fa fa-edit'});
                    $(""a[btn]"").linkbutton({iconCls: 'fa fa-edit'});
                    $('a[btn][del!=1]').linkbutton({
                        iconCls: 'fa fa-trash',
                        disabled:true
                    });



                    $('a[btnEdit][edit!=""1""]').linkbutton({
                        iconCls: 'fa fa-edit',
                        disabled:true
                    });
                }
            })
        }



        var specialEmp=");

            
            #line 280 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                  Write(Html.Raw(ViewBag.Qualification));

            
            #line default
            #line hidden
WriteLiteral(@";//资格人员


        //添加toolbar
        function Gettoolbar($toolbar,fatherData) {
            //显示专业名称
            var $toolbarPanel=$(""<span JQPanel=\""toolbarPanel\""></span>"");
            $(""<span style=\""font-weight:bold;display:inline-block;width:120px;text-overflow:ellipsis;\""><strong style=\""padding:10px;\"">""+fatherData.TaskName+""</strong></span>"").appendTo($toolbarPanel);
            $(""<span style=\""font-weight:bold;display:inline-block;width: 80px;text-overflow:ellipsis;\""><strong style=\""padding:10px;\""><i class=\""fa fa-user\""></i>&nbsp;""+fatherData.TaskEmpName+""</strong></span>"").appendTo($toolbarPanel);
            $(""<span style=\""font-weight:bold;display:inline-block;width:200px;text-overflow:ellipsis;\""><strong style=\""padding:10px;\""><i class=\""fa fa-calendar\""></i>&nbsp;"" + checkDate(fatherData.DatePlanStart, ""yyyy-MM-dd"") + "" ~ "" + checkDate(fatherData.DatePlanFinish, ""yyyy-MM-dd"") +""</strong></span>"").appendTo($toolbarPanel);
            $(""<span class='datagrid-btn-separator' style='padding-right:5px;vertical-align: middle; height: 22px;display:inline-block;float:none'></span>"").appendTo($toolbarPanel);
            var addPermission='");

            
            #line 291 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                          Write(ViewBag.addPermission);

            
            #line default
            #line hidden
WriteLiteral(@"';
            if(addPermission==""1""||_currentUserId==fatherData.TaskEmpID)//判断是否有添加权
            {
                $(""<a class=\""easyui-linkbutton\"" data-options=\""plain:true,iconCls:'fa fa-plus fa-lg'\"" onclick='AddSpecExchPlan(""+fatherData.TaskSpecId+"")'>添加提资计划</a>"").appendTo($toolbarPanel);
                $(""<a class=\""easyui-linkbutton\"" data-options=\""plain:true,iconCls:'fa fa-filter fa-lg'\"" onclick='InsertExchModelData(""+fatherData.TaskSpecId+"")'>导入提资模板</a>"").appendTo($toolbarPanel);
            }
            $toolbarPanel.appendTo($toolbar);
        }

        // 添加提资
        function AddSpecExchPlan(SpecID)
        {
            JQ.dialog.dialog({
                title:'添加提资计划',
                height:'600',
                width:'800',
                url:'");

            
            #line 307 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                Write(Url.Action("SpecExchAdd","DesExch",new { @area="Design"}));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 307 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                  Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 307 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                              Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&ExchSpecID=\'+SpecID,\r\n                onClose:function()\r\n                {\r\n   " +
"                 $(\"#Spec_\"+SpecID).datagrid(\'reload\',\'");

            
            #line 310 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                     Write(Url.Action("DesSpecExchJson", "DesExch", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?SpecId=\'+SpecID+\'&taskGroupId=");

            
            #line 310 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                                       Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&projID=");

            
            #line 310 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                                                                   Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral(@"');
                }
            });
        }

        // 编辑
        function Edit(SpecID,Id)
        {
            JQ.dialog.dialog({
                title:'编辑提资计划',
                height:'600',
                width:'800',
                url:'");

            
            #line 322 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                Write(Url.Action("SpecExchEdit"));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 322 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                   Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 322 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                               Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&Id=\'+Id,\r\n                onClose:function()\r\n                {\r\n               " +
"     $(\"#Spec_\"+SpecID).datagrid(\'reload\',\'");

            
            #line 325 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                     Write(Url.Action("DesSpecExchJson", "DesExch", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?SpecId=\'+SpecID+\'&taskGroupId=");

            
            #line 325 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                                       Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&projID=");

            
            #line 325 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                                                                   Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral(@"');
                }
            });
        }

        // 导入提资模板数据
        function InsertExchModelData(SpecId)
        {
            JQ.dialog.dialog({
                title:'导入提资模板',
                height:'600',
                width:'1024',
                url:'");

            
            #line 337 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                Write(Url.Action("ExchModelData"));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 337 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                    Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 337 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&SpecId=\'+SpecId,\r\n                onClose:function()\r\n                {\r\n       " +
"             $(\"#Spec_\"+SpecId).datagrid(\'reload\',\'");

            
            #line 340 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                     Write(Url.Action("DesSpecExchJson", "DesExch", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?SpecId=\'+SpecId+\'&taskGroupId=");

            
            #line 340 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                                       Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&projID=");

            
            #line 340 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                                                                   Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral(@"');
                }

            });
        }
        //执行回调函数
        var PostBack=function(SpecId,row)
        {
            $(""#Spec_""+SpecId).datagrid(""appendRow"",
                {
                    Id:0,
                    ExchTitle:row.ModelExchangeName,
                    ExchSpecId:row.ModelExchangeSpecID,
                    ExchSpecName:row.SpecName,

                });
        }
        //删除
        function SpecDel(SpecId,rowID,index) {
            try
            {
                JQ.dialog.confirm(""确定要删除该记录吗？"",
                    function () {
                        if(parseInt(rowID)<=0)
                        {
                            $(""#Spec_""+SpecId).datagrid(""deleteRow"",index);
                        }
                        else
                        {
                            $.post('");

            
            #line 369 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                               Write(Url.Action("DeleteInfo"));

            
            #line default
            #line hidden
WriteLiteral("?Id=\'+rowID,function () {\r\n                                $(\"#Spec_\"+SpecId).dat" +
"agrid(\"deleteRow\",index);\r\n                                JQ.dialog.show(\"删除成功！" +
"！！\");\r\n                                $(\"#Spec_\"+SpecId).datagrid(\'reload\',\'");

            
            #line 372 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                 Write(Url.Action("DesSpecExchJson", "DesExch", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?SpecId=\'+SpecId+\'&taskGroupId=");

            
            #line 372 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                                                   Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral("&projID=");

            
            #line 372 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                                                                                               Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral(@"');
                            });
                        }
                    });

            }
            catch (e)
            {
                JQ.dialog.show(""删除出错"");
            }
        }


        // 返回上一页面
        function GoToBackPage() {
            //window.parent.changeTabId(tabId - 1);
            window.location.href = tabs[tabId - 1] + ""&time="" + (new Date()).getTime();
        }

        function GoToNextPage()
        {
            //JQ.dialog.confirm(""确定要转到下一页面吗？"", function () {
            //    window.parent.changeTabId(tabId + 1);
            //    window.location.href = tabs[tabId + 1] + ""&time="" + (new Date()).getTime();
            //}, null);
            //window.parent.changeTabId(tabId + 1);
            window.location.href = tabs[tabId + 1] + ""&time="" + (new Date()).getTime();
        }

        // 保存
        function saveExchPlanData() {
            //JQ.dialog.show(""保存成功"");
            window.location.href = tabs[tabId] + ""&time="" + (new Date()).getTime();
        }

        // 查看项目进度
        function ShowProjectProgress(){
            JQ.dialog.dialogIframe({
                title: ""项目进度"",
                url: '");

            
            #line 411 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                 Write(Url.Action("ProjectProgressInfo", "DesTask", new { @area = "Design" }));

            
            #line default
            #line hidden
WriteLiteral("?projID=");

            
            #line 411 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                 Write(ViewBag.projID);

            
            #line default
            #line hidden
WriteLiteral("&taskGroupId=");

            
            #line 411 "..\..\Views\DesExch\ExchPlanInfo.cshtml"
                                                                                                                               Write(ViewBag.taskGroupId);

            
            #line default
            #line hidden
WriteLiteral(@"',
                width: 1200,
                height: 800
            });
        }

        // 格式化时间，并且 1900 返回空
        function checkDate(strDate, strFormat) {
            var jd = Date.jsonStringToDate(strDate);
            if (jd.getFullYear() == 1900) return """";
            return jd.format(strFormat);
        }

    </script>

");

});

WriteLiteral("\r\n");

DefineSection("Body_Content", () => {

WriteLiteral("\r\n<div");

WriteLiteral(" class=\"easyui-layout\"");

WriteLiteral(" data-options=\"fit:true\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" data-options=\"region:\'north\',border:false\"");

WriteLiteral(" style=\"border-bottom-width:1px;overflow:hidden\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" style=\"height:30px;padding:5px\"");

WriteLiteral(">\r\n            <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-repeat\'\"");

WriteLiteral(" onclick=\"saveExchPlanData()\"");

WriteLiteral(">刷新</a>\r\n            <a");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-sitemap\'\"");

WriteLiteral(" onclick=\"ShowProjectProgress()\"");

WriteLiteral(">查看进度</a>\r\n        </div>\r\n    </div>\r\n    <div");

WriteLiteral(" data-options=\"region:\'center\',border:false\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"nowordpage\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"pageheader\"");

WriteLiteral(">\r\n                ");

WriteLiteral("\r\n                <div");

WriteLiteral(" class=\"row-fluid-wrap\"");

WriteLiteral(">\r\n                    <ul");

WriteLiteral(" class=\"clearfix ul-fluid \"");

WriteLiteral(">\r\n                        <li");

WriteLiteral(" class=\"\"");

WriteLiteral(">\r\n                            <div");

WriteLiteral(" class=\"list-wrap\"");

WriteLiteral(">\r\n                                <div");

WriteLiteral(" class=\"line\"");

WriteLiteral("></div>\r\n                                <a");

WriteLiteral(" href=\"#\"");

WriteLiteral("><div");

WriteLiteral(" class=\"small-tag\"");

WriteLiteral(">1</div></a>\r\n                                <div");

WriteLiteral(" class=\"line\"");

WriteLiteral("></div>\r\n                            </div>\r\n                            <div");

WriteLiteral(" class=\"clearfix\"");

WriteLiteral("></div>\r\n                            <p>计划要求</p>\r\n                        </li>\r\n" +
"                        <li");

WriteLiteral(" class=\"\"");

WriteLiteral(">\r\n                            <div");

WriteLiteral(" class=\"list-wrap\"");

WriteLiteral(">\r\n                                <div");

WriteLiteral(" class=\"line\"");

WriteLiteral("></div>\r\n                                <a");

WriteLiteral(" href=\"#\"");

WriteLiteral("><div");

WriteLiteral(" class=\"small-tag\"");

WriteLiteral(">2</div></a>\r\n                                <div");

WriteLiteral(" class=\"line\"");

WriteLiteral("></div>\r\n                            </div>\r\n                            <div");

WriteLiteral(" class=\"clearfix\"");

WriteLiteral("></div>\r\n                            <p>项目策划</p>\r\n                        </li>\r\n" +
"                        <li");

WriteLiteral(" class=\"\"");

WriteLiteral(">\r\n                            <div");

WriteLiteral(" class=\"list-wrap\"");

WriteLiteral(">\r\n                                <div");

WriteLiteral(" class=\"line\"");

WriteLiteral("></div>\r\n                                <a");

WriteLiteral(" href=\"#\"");

WriteLiteral("><div");

WriteLiteral(" class=\"small-tag\"");

WriteLiteral(">4</div></a>\r\n                                <div");

WriteLiteral(" class=\"line\"");

WriteLiteral("></div>\r\n                            </div>\r\n                            <div");

WriteLiteral(" class=\"clearfix\"");

WriteLiteral("></div>\r\n                            <p>提资策划</p>\r\n                        </li>\r\n" +
"                        <li");

WriteLiteral(" class=\"\"");

WriteLiteral(">\r\n                            <div");

WriteLiteral(" class=\"list-wrap\"");

WriteLiteral(">\r\n                                <div");

WriteLiteral(" class=\"line\"");

WriteLiteral("></div>\r\n                                <a");

WriteLiteral(" href=\"#\"");

WriteLiteral("><div");

WriteLiteral(" class=\"small-tag\"");

WriteLiteral(">3</div></a>\r\n                                <div");

WriteLiteral(" class=\"line\"");

WriteLiteral("></div>\r\n                            </div>\r\n                            <div");

WriteLiteral(" class=\"clearfix\"");

WriteLiteral("></div>\r\n                            <p>专业策划</p>\r\n                        </li>\r\n" +
"                        <li");

WriteLiteral(" class=\"\"");

WriteLiteral(">\r\n                            <div");

WriteLiteral(" class=\"list-wrap\"");

WriteLiteral(">\r\n                                <div");

WriteLiteral(" class=\"line\"");

WriteLiteral("></div>\r\n                                <a");

WriteLiteral(" href=\"#\"");

WriteLiteral("><div");

WriteLiteral(" class=\"small-tag\"");

WriteLiteral(">5</div></a>\r\n                                <div");

WriteLiteral(" class=\"line\"");

WriteLiteral("></div>\r\n                            </div>\r\n                            <div");

WriteLiteral(" class=\"clearfix\"");

WriteLiteral("></div>\r\n                            <p>关键节点</p>\r\n                        </li>\r\n" +
"                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n       " +
"     <div");

WriteLiteral(" id=\"divSpecExchPlan\"");

WriteLiteral(" style=\"margin:20px;\"");

WriteLiteral("></div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n");

});

        }
    }
}
#pragma warning restore 1591

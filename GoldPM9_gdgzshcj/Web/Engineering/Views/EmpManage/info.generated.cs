#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 2 "..\..\Views\EmpManage\info.cshtml"
    using JQ.Web;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/EmpManage/info.cshtml")]
    public partial class _Views_EmpManage_info_cshtml : System.Web.Mvc.WebViewPage<DataModel.Models.EmpManage>
    {
        public _Views_EmpManage_info_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n    JQ.form.submitInit({\r\n        formid: \'EmpManageForm\',//formid提交需要用到\r\n    " +
"    buttonTypes: [/*\'submit\',*/ \'close\'],//默认按钮\r\n        beforeFormSubmit: funct" +
"ion () {\r\n            var isReturn = true;\r\n            if (\'");

            
            #line 9 "..\..\Views\EmpManage\info.cshtml"
            Write(Request["type"]);

            
            #line default
            #line hidden
WriteLiteral("\' == \'1\') {\r\n                $.ajax({\r\n                    type: \"GET\",\r\n        " +
"            async: false,\r\n                    url: \'");

            
            #line 13 "..\..\Views\EmpManage\info.cshtml"
                     Write(Url.Action("IsExist", "EmpManage", new { @area = "Engineering" }));

            
            #line default
            #line hidden
WriteLiteral(@"',
                    data: { ProjName: $('#ProjName').textbox('getValue'), ProjNumber: $('#ProjNumber').textbox('getValue'), ProjPhase: $(""#ProjPhase"").val() },//{ ProjId: Number($(""#EngineeringId"").val()) },
                    //dataType: ""json"",
                    success: function (data) {
                        if (data == 0) {
                            alert(""该项目已被策划"");
                            isReturn = false;
                        }
                    }
                });
                return isReturn;
            }
            else {
                $.ajax({
                    type: ""GET"",
                    async: false,
                    url: '");

            
            #line 29 "..\..\Views\EmpManage\info.cshtml"
                     Write(Url.Action("IsExist1", "EmpManage", new { @area = "Engineering" }));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                    data: { ProjName: $(\'#ProjName\').textbox(\'getValue\'), Pro" +
"jNumber: $(\'#ProjNumber\').textbox(\'getValue\'), Id: ");

            
            #line 30 "..\..\Views\EmpManage\info.cshtml"
                                                                                                                           Write(Model.Id);

            
            #line default
            #line hidden
WriteLiteral(@", ProjPhase: $(""#ProjPhase"").val() },
                    success: function (data) {
                        if (data == 0) {
                            alert(""该项目已被策划"");
                            isReturn = false;
                        }
                    }
                });
                return isReturn;
            }
        },
        // 成功回调函数,data为服务器返回值
        succesCollBack: function (data) {
            // 刷新上一级数据表格，必须在close窗体前调用
            JQ.datagrid.autoRefdatagrid();
            // 关闭窗体放在最后一步执行，以避免找不到事件源
            JQ.dialog.dialogClose();
        },
        flow: {
            flowNodeID: """);

            
            #line 49 "..\..\Views\EmpManage\info.cshtml"
                     Write(Request.QueryString["flowNodeID"]==null? 0 : int.Parse(Request.QueryString["flowNodeID"]));

            
            #line default
            #line hidden
WriteLiteral("\",\r\n            url: \"");

            
            #line 50 "..\..\Views\EmpManage\info.cshtml"
              Write(Url.Action("FlowWidget", "PubFlow",new { @area="Core"} ));

            
            #line default
            #line hidden
WriteLiteral("\",\r\n            instance: \"_flowInstance\",\r\n            processor: \"Engineering,E" +
"ngineering.FlowProcessor.EmpManageProcessor\",\r\n            onInit: function () {" +
"\r\n                _flowInstance = this;\r\n            },\r\n            refID: \"");

            
            #line 56 "..\..\Views\EmpManage\info.cshtml"
                Write(Model.Id);

            
            #line default
            #line hidden
WriteLiteral("\",\r\n            refTable: \"EmpManage\",\r\n            dataCreator: \"");

            
            #line 58 "..\..\Views\EmpManage\info.cshtml"
                      Write(ViewBag.CreatorEmpId );

            
            #line default
            #line hidden
WriteLiteral(@"""
        }
    });

    JQ.combobox.selEmp({ id: 'EngineeringEmpId', width: '98%', editable: false });
    JQ.combobox.selEmp({ id: 'SafeEmpId', width: '98%', editable: false });
    JQ.combobox.selEmp({ id: 'CGEmpId', width: '98%', editable: false });
    JQ.combobox.selEmp({ id: 'JSEmpId', width: '98%', editable: false });
    JQ.combobox.selEmp({ id: 'WDEmpId', width: '98%', editable: false });
    JQ.combobox.selEmp({ id: 'XCEmpId', width: '98%', editable: false });
</script>
<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
    function insert(row) {
        isChangeName = false;
        isChangeNumber = false;
        $('#ProjName').textbox('setValue', row.ProjName);
        $('#ProjNumber').textbox('setValue', row.ProjNumber);
        debugger;
        $('#EngineeringId').val(row.Id);
        $('#DesTaskGroupId').val(row.TaskGroupId);
        $('#ProjPhase').val(row.ProjPhaseName);
    }

    var isChangeName = true;
    var isChangeNumber = true;
    $('#ProjName').textbox({
        onChange: function (newValue, oldValue) {
            if (isChangeName) {
                $('#EngineeringId').val(0);
                $('#ProjPhase').val('');
                $('#DesTaskGroupId').val('');
            }
            isChangeName = true;
        }
    })
    $('#ProjNumber').textbox({
        onChange: function (newValue, oldValue) {
            if (isChangeNumber) {
                $('#EngineeringId').val(0);
                $('#ProjPhase').val('');
                $('#DesTaskGroupId').val('');
            }
            isChangeNumber = true;
        }
    })

    //选择工程
    function selectEng() {
        // 暂存项目信息
        //Save_Proj();
        JQ.dialog.dialog({
            title: ""选择项目"",
            url: '");

            
            #line 110 "..\..\Views\EmpManage\info.cshtml"
             Write(Url.Action("ChooseProjectList", "EmpManage", new { @area = "Engineering" }));

            
            #line default
            #line hidden
WriteLiteral(@"?CompanyType=GC&TaskGroupId=0' //+ $(""#EngineeringId"").val()
            ,
            width: '1024',
            height: '100%',
            JQID: 'ProjTable',
            JQLoadingType: 'datagrid',
            iconCls: 'fa fa-list',

        });
    }
</script>

");

            
            #line 122 "..\..\Views\EmpManage\info.cshtml"
 using (Html.BeginForm("save", "EmpManage", FormMethod.Post, new { @area = "Engineering", @id = "EmpManageForm" }))
{
    
            
            #line default
            #line hidden
            
            #line 124 "..\..\Views\EmpManage\info.cshtml"
Write(Html.HiddenFor(m => m.Id));

            
            #line default
            #line hidden
            
            #line 124 "..\..\Views\EmpManage\info.cshtml"
                              

            
            #line default
            #line hidden
WriteLiteral("    <table");

WriteLiteral(" class=\"table table-bordered\"");

WriteLiteral(">\r\n        <tr>\r\n            <th>项目名称</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"EngineeringId\"");

WriteLiteral(" name=\"EngineeringId\"");

WriteLiteral(" hidden");

WriteAttribute("value", Tuple.Create(" value=\"", 5043), Tuple.Create("\"", 5071)
            
            #line 129 "..\..\Views\EmpManage\info.cshtml"
, Tuple.Create(Tuple.Create("", 5051), Tuple.Create<System.Object, System.Int32>(Model.EngineeringId
            
            #line default
            #line hidden
, 5051), false)
);

WriteLiteral(" />\r\n                <input");

WriteLiteral(" id=\"ProjPhase\"");

WriteLiteral(" name=\"ProjPhase\"");

WriteLiteral(" hidden");

WriteAttribute("value", Tuple.Create(" value=\"", 5138), Tuple.Create("\"", 5162)
            
            #line 130 "..\..\Views\EmpManage\info.cshtml"
, Tuple.Create(Tuple.Create("", 5146), Tuple.Create<System.Object, System.Int32>(Model.ProjPhase
            
            #line default
            #line hidden
, 5146), false)
);

WriteLiteral(" />\r\n                <input");

WriteLiteral(" id=\"DesTaskGroupId\"");

WriteLiteral(" name=\"DesTaskGroupId\"");

WriteLiteral(" hidden");

WriteAttribute("value", Tuple.Create(" value=", 5239), Tuple.Create("", 5267)
            
            #line 131 "..\..\Views\EmpManage\info.cshtml"
, Tuple.Create(Tuple.Create("", 5246), Tuple.Create<System.Object, System.Int32>(Model.DesTaskGroupId
            
            #line default
            #line hidden
, 5246), false)
);

WriteLiteral(" />\r\n                <input");

WriteLiteral(" id=\"type\"");

WriteLiteral(" name=\"type\"");

WriteLiteral(" hidden");

WriteAttribute("value", Tuple.Create(" value=\"", 5323), Tuple.Create("\"", 5347)
            
            #line 132 "..\..\Views\EmpManage\info.cshtml"
, Tuple.Create(Tuple.Create("", 5331), Tuple.Create<System.Object, System.Int32>(Request["type"]
            
            #line default
            #line hidden
, 5331), false)
);

WriteLiteral(" />\r\n                <input");

WriteLiteral(" id=\"ProjName\"");

WriteLiteral(" name=\"ProjName\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"required:true\"");

WriteAttribute("value", Tuple.Create(" value=\"", 5476), Tuple.Create("\"", 5499)
            
            #line 133 "..\..\Views\EmpManage\info.cshtml"
                                                   , Tuple.Create(Tuple.Create("", 5484), Tuple.Create<System.Object, System.Int32>(Model.ProjName
            
            #line default
            #line hidden
, 5484), false)
);

WriteLiteral(" />\r\n                <a");

WriteLiteral(" name=\"selectEng\"");

WriteLiteral(" class=\"easyui-linkbutton\"");

WriteLiteral(" data-options=\"plain:true,iconCls:\'fa fa-plus\'\"");

WriteLiteral(" onclick=\"selectEng()\"");

WriteLiteral(">选择项目</a>\r\n            </td>\r\n            <th>项目编号</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"ProjNumber\"");

WriteLiteral(" name=\"ProjNumber\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" class=\"easyui-textbox\"");

WriteLiteral(" data-options=\"required:true\"");

WriteAttribute("value", Tuple.Create(" value=\"", 5849), Tuple.Create("\"", 5874)
            
            #line 138 "..\..\Views\EmpManage\info.cshtml"
                                                       , Tuple.Create(Tuple.Create("", 5857), Tuple.Create<System.Object, System.Int32>(Model.ProjNumber
            
            #line default
            #line hidden
, 5857), false)
);

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">项目经理</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"EngineeringEmpId\"");

WriteLiteral(" name=\"EngineeringEmpId\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" data-options=\"required:true\"");

WriteAttribute("value", Tuple.Create(" value=\"", 6113), Tuple.Create("\"", 6148)
            
            #line 144 "..\..\Views\EmpManage\info.cshtml"
                                             , Tuple.Create(Tuple.Create("", 6121), Tuple.Create<System.Object, System.Int32>(Model.EngineeringEmpName
            
            #line default
            #line hidden
, 6121), false)
);

WriteLiteral(" />\r\n                <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"values\"");

WriteLiteral(" />\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">安全员</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"SafeEmpId\"");

WriteLiteral(" name=\"SafeEmpId\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" data-options=\"required:true\"");

WriteAttribute("value", Tuple.Create(" value=\"", 6396), Tuple.Create("\"", 6424)
            
            #line 149 "..\..\Views\EmpManage\info.cshtml"
                               , Tuple.Create(Tuple.Create("", 6404), Tuple.Create<System.Object, System.Int32>(Model.SafeEmpName
            
            #line default
            #line hidden
, 6404), false)
);

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">采购员</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"CGEmpId\"");

WriteLiteral(" name=\"CGEmpId\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" data-options=\"required:true\"");

WriteAttribute("value", Tuple.Create(" value=\"", 6644), Tuple.Create("\"", 6670)
            
            #line 155 "..\..\Views\EmpManage\info.cshtml"
                           , Tuple.Create(Tuple.Create("", 6652), Tuple.Create<System.Object, System.Int32>(Model.CGEmpName
            
            #line default
            #line hidden
, 6652), false)
);

WriteLiteral(" />\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">技术员</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"JSEmpId\"");

WriteLiteral(" name=\"JSEmpId\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" data-options=\"required:true\"");

WriteAttribute("value", Tuple.Create(" value=\"", 6861), Tuple.Create("\"", 6887)
            
            #line 159 "..\..\Views\EmpManage\info.cshtml"
                           , Tuple.Create(Tuple.Create("", 6869), Tuple.Create<System.Object, System.Int32>(Model.JSEmpName
            
            #line default
            #line hidden
, 6869), false)
);

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">文档员</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"WDEmpId\"");

WriteLiteral(" name=\"WDEmpId\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" data-options=\"required:true\"");

WriteAttribute("value", Tuple.Create(" value=\"", 7109), Tuple.Create("\"", 7135)
            
            #line 166 "..\..\Views\EmpManage\info.cshtml"
                           , Tuple.Create(Tuple.Create("", 7117), Tuple.Create<System.Object, System.Int32>(Model.WDEmpName
            
            #line default
            #line hidden
, 7117), false)
);

WriteLiteral(" />\r\n            </td>\r\n            <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">现场负责人</th>\r\n            <td");

WriteLiteral(" width=\"40%\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"XCEmpId\"");

WriteLiteral(" name=\"XCEmpId\"");

WriteLiteral(" style=\"width:98%;\"");

WriteLiteral(" data-options=\"required:true\"");

WriteAttribute("value", Tuple.Create(" value=\"", 7328), Tuple.Create("\"", 7354)
            
            #line 170 "..\..\Views\EmpManage\info.cshtml"
                           , Tuple.Create(Tuple.Create("", 7336), Tuple.Create<System.Object, System.Int32>(Model.XCEmpName
            
            #line default
            #line hidden
, 7336), false)
);

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <th>\r\n        " +
"        上传附件\r\n            </th>\r\n            <td");

WriteLiteral(" colspan=\"3\"");

WriteLiteral(">\r\n");

            
            #line 179 "..\..\Views\EmpManage\info.cshtml"
                
            
            #line default
            #line hidden
            
            #line 179 "..\..\Views\EmpManage\info.cshtml"
                  
                    var uploader = new DataModel.FileUploader();
                    uploader.RefID = Model.Id;
                    uploader.RefTable = "EmpManage";
                    uploader.Name = "UploadFile1";
                    
            
            #line default
            #line hidden
            
            #line 184 "..\..\Views\EmpManage\info.cshtml"
                Write(Html.Partial("~/Areas/Core/Views/UserControl/FileUploader.cshtml", uploader));

            
            #line default
            #line hidden
            
            #line 184 "..\..\Views\EmpManage\info.cshtml"
                                                                                                   
                
            
            #line default
            #line hidden
WriteLiteral("\r\n            </td>\r\n        </tr>\r\n    </table>\r\n");

            
            #line 189 "..\..\Views\EmpManage\info.cshtml"
                    }
            
            #line default
            #line hidden
        }
    }
}
#pragma warning restore 1591
